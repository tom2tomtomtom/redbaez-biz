const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-C4Jczr-P.js","assets/react-vendor-BtHBr4x5.js"])))=>i.map(i=>d[i]);
var BC=Object.defineProperty;var ov=t=>{throw TypeError(t)};var FC=(t,e,r)=>e in t?BC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var oc=(t,e,r)=>FC(t,typeof e!="symbol"?e+"":e,r),uf=(t,e,r)=>e.has(t)||ov("Cannot "+r);var k=(t,e,r)=>(uf(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?ov("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Q=(t,e,r,n)=>(uf(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ye=(t,e,r)=>(uf(t,e,"access private method"),r);var lc=(t,e,r,n)=>({set _(a){Q(t,e,a,r)},get _(){return k(t,e,n)}});import{j as d,S as dm,O as Nl,C as $l,a as Gu,T as Ml,D as Il,P as fm,R as hm,b as pm,c as ke,d as aw,e as Qa,f as iw,u as rt,A as UC,g as we,h as er,i as zC,k as qC,l as WC,F as HC,m as VC,n as GC,o as mm,p as KC,q as Ht,r as sw,s as ow,t as jo,v as YC,w as lw,x as cw,W as QC,y as ZC,L as uw,z as dw,B as fw,E as XC,G as ys,H as JC,I as eE,J as tE}from"./ui-vendor-FIBZZDIt.js";import{a as Ku,r as b,g as rE,d as Ot,u as yn,c as O,L as En,e as He,f as nE,N as aE,B as iE,h as sE,i as Tr}from"./react-vendor-BtHBr4x5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var hw,lv=Ku;hw=lv.createRoot,lv.hydrateRoot;var bs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ba=typeof window>"u"||"Deno"in globalThis;function Zt(){}function oE(t,e){return typeof t=="function"?t(e):t}function th(t){return typeof t=="number"&&t>=0&&t!==1/0}function pw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yi(t,e){return typeof t=="function"?t(e):t}function hr(t,e){return typeof t=="function"?t(e):t}function cv(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==gm(s,e.options))return!1}else if(!Oo(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||a&&a!==e.state.fetchStatus||i&&!i(e))}function uv(t,e){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Fa(e.options.mutationKey)!==Fa(i))return!1}else if(!Oo(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function gm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fa)(t)}function Fa(t){return JSON.stringify(t,(e,r)=>rh(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Oo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Oo(t[r],e[r])):!1}function mw(t,e){if(t===e)return t;const r=dv(t)&&dv(e);if(r||rh(t)&&rh(e)){const n=r?t:Object.keys(t),a=n.length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let l=0;for(let c=0;c<s;c++){const u=r?c:i[c];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(o[u]=void 0,l++):(o[u]=mw(t[u],e[u]),o[u]===t[u]&&t[u]!==void 0&&l++)}return a===s&&l===a?t:o}return e}function Ic(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function dv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rh(t){if(!fv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!fv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fv(t){return Object.prototype.toString.call(t)==="[object Object]"}function lE(t){return new Promise(e=>{setTimeout(e,t)})}function nh(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?mw(t,e):e}function cE(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function uE(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var vm=Symbol();function gw(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ca,Rn,Ti,Kx,dE=(Kx=class extends bs{constructor(){super();ue(this,Ca);ue(this,Rn);ue(this,Ti);Q(this,Ti,e=>{if(!Ba&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,Rn)||this.setEventListener(k(this,Ti))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Rn))==null||e.call(this),Q(this,Rn,void 0))}setEventListener(e){var r;Q(this,Ti,e),(r=k(this,Rn))==null||r.call(this),Q(this,Rn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){k(this,Ca)!==e&&(Q(this,Ca,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof k(this,Ca)=="boolean"?k(this,Ca):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ca=new WeakMap,Rn=new WeakMap,Ti=new WeakMap,Kx),ym=new dE,Pi,Dn,Ai,Yx,fE=(Yx=class extends bs{constructor(){super();ue(this,Pi,!0);ue(this,Dn);ue(this,Ai);Q(this,Ai,e=>{if(!Ba&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,Dn)||this.setEventListener(k(this,Ai))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Dn))==null||e.call(this),Q(this,Dn,void 0))}setEventListener(e){var r;Q(this,Ai,e),(r=k(this,Dn))==null||r.call(this),Q(this,Dn,e(this.setOnline.bind(this)))}setOnline(e){k(this,Pi)!==e&&(Q(this,Pi,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return k(this,Pi)}},Pi=new WeakMap,Dn=new WeakMap,Ai=new WeakMap,Yx),Rc=new fE;function ah(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function hE(t){return Math.min(1e3*2**t,3e4)}function vw(t){return(t??"online")==="online"?Rc.isOnline():!0}var yw=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function df(t){return t instanceof yw}function bw(t){let e=!1,r=0,n=!1,a;const i=ah(),s=m=>{var g;n||(h(new yw(m)),(g=t.abort)==null||g.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>ym.isFocused()&&(t.networkMode==="always"||Rc.isOnline())&&t.canRun(),u=()=>vw(t.networkMode)&&t.canRun(),f=m=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,m),a==null||a(),i.resolve(m))},h=m=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var g;a=w=>{(n||c())&&m(w)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;a=void 0,n||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(n)return;let m;const g=r===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(f).catch(w=>{var j;if(n)return;const y=t.retry??(Ba?0:3),S=t.retryDelay??hE,x=typeof S=="function"?S(r,w):S,_=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(e||!_){h(w);return}r++,(j=t.onFail)==null||j.call(t,r,w),lE(x).then(()=>c()?void 0:p()).then(()=>{e?h(w):v()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?v():p().then(v),i)}}function pE(){let t=[],e=0,r=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const i=o=>{e?t.push(o):a(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ut=pE(),Ea,Qx,xw=(Qx=class{constructor(){ue(this,Ea)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),th(this.gcTime)&&Q(this,Ea,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ba?1/0:5*60*1e3))}clearGcTimeout(){k(this,Ea)&&(clearTimeout(k(this,Ea)),Q(this,Ea,void 0))}},Ea=new WeakMap,Qx),ki,Ni,Qt,wt,Tl,Ta,cr,tn,Zx,mE=(Zx=class extends xw{constructor(e){super();ue(this,cr);ue(this,ki);ue(this,Ni);ue(this,Qt);ue(this,wt);ue(this,Tl);ue(this,Ta);Q(this,Ta,!1),Q(this,Tl,e.defaultOptions),this.setOptions(e.options),this.observers=[],Q(this,Qt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Q(this,ki,gE(this.options)),this.state=e.state??k(this,ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,wt))==null?void 0:e.promise}setOptions(e){this.options={...k(this,Tl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Qt).remove(this)}setData(e,r){const n=nh(this.state.data,e,this.options);return ye(this,cr,tn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ye(this,cr,tn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,a;const r=(n=k(this,wt))==null?void 0:n.promise;return(a=k(this,wt))==null||a.cancel(e),r?r.then(Zt).catch(Zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,ki))}isActive(){return this.observers.some(e=>hr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!pw(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,wt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,wt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,Qt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(k(this,wt)&&(k(this,Ta)?k(this,wt).cancel({revert:!0}):k(this,wt).cancelRetry()),this.scheduleGc()),k(this,Qt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ye(this,cr,tn).call(this,{type:"invalidate"})}fetch(e,r){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,wt))return k(this,wt).continueRetry(),k(this,wt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Q(this,Ta,!0),n.signal)})},i=()=>{const f=gw(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),Q(this,Ta,!1),this.options.persister?this.options.persister(f,h,this):f(h)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(s),(l=this.options.behavior)==null||l.onFetch(s,this),Q(this,Ni,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&ye(this,cr,tn).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const o=f=>{var h,p,v,m;df(f)&&f.silent||ye(this,cr,tn).call(this,{type:"error",error:f}),df(f)||((p=(h=k(this,Qt).config).onError)==null||p.call(h,f,this),(m=(v=k(this,Qt).config).onSettled)==null||m.call(v,this.state.data,f,this)),this.scheduleGc()};return Q(this,wt,bw({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,v,m;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){o(g);return}(p=(h=k(this,Qt).config).onSuccess)==null||p.call(h,f,this),(m=(v=k(this,Qt).config).onSettled)==null||m.call(v,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{ye(this,cr,tn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ye(this,cr,tn).call(this,{type:"pause"})},onContinue:()=>{ye(this,cr,tn).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),k(this,wt).start()}},ki=new WeakMap,Ni=new WeakMap,Qt=new WeakMap,wt=new WeakMap,Tl=new WeakMap,Ta=new WeakMap,cr=new WeakSet,tn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ww(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return df(a)&&a.revert&&k(this,Ni)?{...k(this,Ni),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,Qt).notify({query:this,type:"updated",action:e})})},Zx);function ww(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var kr,Xx,vE=(Xx=class extends bs{constructor(e={}){super();ue(this,kr);this.config=e,Q(this,kr,new Map)}build(e,r,n){const a=r.queryKey,i=r.queryHash??gm(a,r);let s=this.get(i);return s||(s=new mE({cache:this,queryKey:a,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){k(this,kr).has(e.queryHash)||(k(this,kr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=k(this,kr).get(e.queryHash);r&&(e.destroy(),r===e&&k(this,kr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,kr).get(e)}getAll(){return[...k(this,kr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>cv(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>cv(e,n)):r}notify(e){ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kr=new WeakMap,Xx),Nr,At,Pa,$r,Tn,Jx,yE=(Jx=class extends xw{constructor(e){super();ue(this,$r);ue(this,Nr);ue(this,At);ue(this,Pa);this.mutationId=e.mutationId,Q(this,At,e.mutationCache),Q(this,Nr,[]),this.state=e.state||_w(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,Nr).includes(e)||(k(this,Nr).push(e),this.clearGcTimeout(),k(this,At).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Q(this,Nr,k(this,Nr).filter(r=>r!==e)),this.scheduleGc(),k(this,At).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():k(this,At).remove(this))}continue(){var e;return((e=k(this,Pa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,i,s,o,l,c,u,f,h,p,v,m,g,w,y,S,x,_,j,C;Q(this,Pa,bw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{ye(this,$r,Tn).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{ye(this,$r,Tn).call(this,{type:"pause"})},onContinue:()=>{ye(this,$r,Tn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,At).canRun(this)}));const r=this.state.status==="pending",n=!k(this,Pa).canStart();try{if(!r){ye(this,$r,Tn).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(a=k(this,At).config).onMutate)==null?void 0:i.call(a,e,this));const A=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));A!==this.state.context&&ye(this,$r,Tn).call(this,{type:"pending",context:A,variables:e,isPaused:n})}const E=await k(this,Pa).start();return await((c=(l=k(this,At).config).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,E,e,this.state.context)),await((p=(h=k(this,At).config).onSettled)==null?void 0:p.call(h,E,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,E,null,e,this.state.context)),ye(this,$r,Tn).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(g=k(this,At).config).onError)==null?void 0:w.call(g,E,e,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,E,e,this.state.context)),await((_=(x=k(this,At).config).onSettled)==null?void 0:_.call(x,void 0,E,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,E,e,this.state.context)),E}finally{ye(this,$r,Tn).call(this,{type:"error",error:E})}}finally{k(this,At).runNext(this)}}},Nr=new WeakMap,At=new WeakMap,Pa=new WeakMap,$r=new WeakSet,Tn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ut.batch(()=>{k(this,Nr).forEach(n=>{n.onMutationUpdate(e)}),k(this,At).notify({mutation:this,type:"updated",action:e})})},Jx);function _w(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qt,Pl,ew,bE=(ew=class extends bs{constructor(e={}){super();ue(this,qt);ue(this,Pl);this.config=e,Q(this,qt,new Map),Q(this,Pl,Date.now())}build(e,r,n){const a=new yE({mutationCache:this,mutationId:++lc(this,Pl)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){const r=cc(e),n=k(this,qt).get(r)??[];n.push(e),k(this,qt).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=cc(e);if(k(this,qt).has(r)){const a=(n=k(this,qt).get(r))==null?void 0:n.filter(i=>i!==e);a&&(a.length===0?k(this,qt).delete(r):k(this,qt).set(r,a))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=k(this,qt).get(cc(e)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=k(this,qt).get(cc(e)))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...k(this,qt).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>uv(r,n))}findAll(e={}){return this.getAll().filter(r=>uv(e,r))}notify(e){ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ut.batch(()=>Promise.all(e.map(r=>r.continue().catch(Zt))))}},qt=new WeakMap,Pl=new WeakMap,ew);function cc(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function hv(t){return{onFetch:(e,r)=>{var u,f,h,p,v;const n=e.options,a=(h=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=gw(e.options,e.fetchOptions),y=async(S,x,_)=>{if(m)return Promise.reject();if(x==null&&S.pages.length)return Promise.resolve(S);const j={queryKey:e.queryKey,pageParam:x,direction:_?"backward":"forward",meta:e.options.meta};g(j);const C=await w(j),{maxPages:E}=e.options,A=_?uE:cE;return{pages:A(S.pages,C,E),pageParams:A(S.pageParams,x,E)}};if(a&&i.length){const S=a==="backward",x=S?xE:pv,_={pages:i,pageParams:s},j=x(n,_);o=await y(_,j,S)}else{const S=t??i.length;do{const x=l===0?s[0]??n.initialPageParam:pv(n,o);if(l>0&&x==null)break;o=await y(o,x),l++}while(l<S)}return o};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function pv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function xE(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var et,Ln,Bn,$i,Mi,Fn,Ii,Ri,tw,wE=(tw=class{constructor(t={}){ue(this,et);ue(this,Ln);ue(this,Bn);ue(this,$i);ue(this,Mi);ue(this,Fn);ue(this,Ii);ue(this,Ri);Q(this,et,t.queryCache||new vE),Q(this,Ln,t.mutationCache||new bE),Q(this,Bn,t.defaultOptions||{}),Q(this,$i,new Map),Q(this,Mi,new Map),Q(this,Fn,0)}mount(){lc(this,Fn)._++,k(this,Fn)===1&&(Q(this,Ii,ym.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,et).onFocus())})),Q(this,Ri,Rc.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,et).onOnline())})))}unmount(){var t,e;lc(this,Fn)._--,k(this,Fn)===0&&((t=k(this,Ii))==null||t.call(this),Q(this,Ii,void 0),(e=k(this,Ri))==null||e.call(this),Q(this,Ri,void 0))}isFetching(t){return k(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,Ln).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,et).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=k(this,et).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(yi(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return k(this,et).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=k(this,et).get(n.queryHash),i=a==null?void 0:a.state.data,s=oE(e,i);if(s!==void 0)return k(this,et).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return ut.batch(()=>k(this,et).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,et).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=k(this,et);ut.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=k(this,et),n={type:"active",...t};return ut.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=ut.batch(()=>k(this,et).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Zt).catch(Zt)}invalidateQueries(t={},e={}){return ut.batch(()=>{if(k(this,et).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=ut.batch(()=>k(this,et).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Zt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=k(this,et).build(this,e);return r.isStaleByTime(yi(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zt).catch(Zt)}fetchInfiniteQuery(t){return t.behavior=hv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zt).catch(Zt)}ensureInfiniteQueryData(t){return t.behavior=hv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rc.isOnline()?k(this,Ln).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,et)}getMutationCache(){return k(this,Ln)}getDefaultOptions(){return k(this,Bn)}setDefaultOptions(t){Q(this,Bn,t)}setQueryDefaults(t,e){k(this,$i).set(Fa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,$i).values()];let r={};return e.forEach(n=>{Oo(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){k(this,Mi).set(Fa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,Mi).values()];let r={};return e.forEach(n=>{Oo(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,Bn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===vm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,Bn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,et).clear(),k(this,Ln).clear()}},et=new WeakMap,Ln=new WeakMap,Bn=new WeakMap,$i=new WeakMap,Mi=new WeakMap,Fn=new WeakMap,Ii=new WeakMap,Ri=new WeakMap,tw),Rt,je,Al,kt,Aa,Di,Un,Mr,kl,Li,Bi,ka,Na,zn,Fi,Ie,so,ih,sh,oh,lh,ch,uh,dh,Sw,rw,_E=(rw=class extends bs{constructor(e,r){super();ue(this,Ie);ue(this,Rt);ue(this,je);ue(this,Al);ue(this,kt);ue(this,Aa);ue(this,Di);ue(this,Un);ue(this,Mr);ue(this,kl);ue(this,Li);ue(this,Bi);ue(this,ka);ue(this,Na);ue(this,zn);ue(this,Fi,new Set);this.options=r,Q(this,Rt,e),Q(this,Mr,null),Q(this,Un,ah()),this.options.experimental_prefetchInRender||k(this,Un).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,je).addObserver(this),mv(k(this,je),this.options)?ye(this,Ie,so).call(this):this.updateResult(),ye(this,Ie,lh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fh(k(this,je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fh(k(this,je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,Ie,ch).call(this),ye(this,Ie,uh).call(this),k(this,je).removeObserver(this)}setOptions(e,r){const n=this.options,a=k(this,je);if(this.options=k(this,Rt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hr(this.options.enabled,k(this,je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,Ie,dh).call(this),k(this,je).setOptions(this.options),n._defaulted&&!Ic(this.options,n)&&k(this,Rt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,je),observer:this});const i=this.hasListeners();i&&gv(k(this,je),a,this.options,n)&&ye(this,Ie,so).call(this),this.updateResult(r),i&&(k(this,je)!==a||hr(this.options.enabled,k(this,je))!==hr(n.enabled,k(this,je))||yi(this.options.staleTime,k(this,je))!==yi(n.staleTime,k(this,je)))&&ye(this,Ie,ih).call(this);const s=ye(this,Ie,sh).call(this);i&&(k(this,je)!==a||hr(this.options.enabled,k(this,je))!==hr(n.enabled,k(this,je))||s!==k(this,zn))&&ye(this,Ie,oh).call(this,s)}getOptimisticResult(e){const r=k(this,Rt).getQueryCache().build(k(this,Rt),e),n=this.createResult(r,e);return jE(this,n)&&(Q(this,kt,n),Q(this,Di,this.options),Q(this,Aa,k(this,je).state)),n}getCurrentResult(){return k(this,kt)}trackResult(e,r){const n={};return Object.keys(e).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),e[a])})}),n}trackProp(e){k(this,Fi).add(e)}getCurrentQuery(){return k(this,je)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=k(this,Rt).defaultQueryOptions(e),n=k(this,Rt).getQueryCache().build(k(this,Rt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ye(this,Ie,so).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,kt)))}createResult(e,r){var E;const n=k(this,je),a=this.options,i=k(this,kt),s=k(this,Aa),o=k(this,Di),c=e!==n?e.state:k(this,Al),{state:u}=e;let f={...u},h=!1,p;if(r._optimisticResults){const A=this.hasListeners(),P=!A&&mv(e,r),T=A&&gv(e,n,r,a);(P||T)&&(f={...f,...ww(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(s==null?void 0:s.data)&&r.select===k(this,kl))p=k(this,Li);else try{Q(this,kl,r.select),p=r.select(f.data),p=nh(i==null?void 0:i.data,p,r),Q(this,Li,p),Q(this,Mr,null)}catch(A){Q(this,Mr,A)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let A;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))A=i.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((E=k(this,Bi))==null?void 0:E.state.data,k(this,Bi)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),Q(this,Mr,null)}catch(P){Q(this,Mr,P)}A!==void 0&&(g="success",p=nh(i==null?void 0:i.data,A,r),h=!0)}k(this,Mr)&&(v=k(this,Mr),p=k(this,Li),m=Date.now(),g="error");const w=f.fetchStatus==="fetching",y=g==="pending",S=g==="error",x=y&&w,_=p!==void 0,C={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:S,isInitialLoading:x,isLoading:x,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:S&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&_,isStale:bm(e,r),refetch:this.refetch,promise:k(this,Un)};if(this.options.experimental_prefetchInRender){const A=N=>{C.status==="error"?N.reject(C.error):C.data!==void 0&&N.resolve(C.data)},P=()=>{const N=Q(this,Un,C.promise=ah());A(N)},T=k(this,Un);switch(T.status){case"pending":e.queryHash===n.queryHash&&A(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&P();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&P();break}}return C}updateResult(e){const r=k(this,kt),n=this.createResult(k(this,je),this.options);if(Q(this,Aa,k(this,je).state),Q(this,Di,this.options),k(this,Aa).data!==void 0&&Q(this,Bi,k(this,je)),Ic(n,r))return;Q(this,kt,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!k(this,Fi).size)return!0;const l=new Set(o??k(this,Fi));return this.options.throwOnError&&l.add("error"),Object.keys(k(this,kt)).some(c=>{const u=c;return k(this,kt)[u]!==r[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(a.listeners=!0),ye(this,Ie,Sw).call(this,{...a,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,Ie,lh).call(this)}},Rt=new WeakMap,je=new WeakMap,Al=new WeakMap,kt=new WeakMap,Aa=new WeakMap,Di=new WeakMap,Un=new WeakMap,Mr=new WeakMap,kl=new WeakMap,Li=new WeakMap,Bi=new WeakMap,ka=new WeakMap,Na=new WeakMap,zn=new WeakMap,Fi=new WeakMap,Ie=new WeakSet,so=function(e){ye(this,Ie,dh).call(this);let r=k(this,je).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Zt)),r},ih=function(){ye(this,Ie,ch).call(this);const e=yi(this.options.staleTime,k(this,je));if(Ba||k(this,kt).isStale||!th(e))return;const n=pw(k(this,kt).dataUpdatedAt,e)+1;Q(this,ka,setTimeout(()=>{k(this,kt).isStale||this.updateResult()},n))},sh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,je)):this.options.refetchInterval)??!1},oh=function(e){ye(this,Ie,uh).call(this),Q(this,zn,e),!(Ba||hr(this.options.enabled,k(this,je))===!1||!th(k(this,zn))||k(this,zn)===0)&&Q(this,Na,setInterval(()=>{(this.options.refetchIntervalInBackground||ym.isFocused())&&ye(this,Ie,so).call(this)},k(this,zn)))},lh=function(){ye(this,Ie,ih).call(this),ye(this,Ie,oh).call(this,ye(this,Ie,sh).call(this))},ch=function(){k(this,ka)&&(clearTimeout(k(this,ka)),Q(this,ka,void 0))},uh=function(){k(this,Na)&&(clearInterval(k(this,Na)),Q(this,Na,void 0))},dh=function(){const e=k(this,Rt).getQueryCache().build(k(this,Rt),this.options);if(e===k(this,je))return;const r=k(this,je);Q(this,je,e),Q(this,Al,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Sw=function(e){ut.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(k(this,kt))}),k(this,Rt).getQueryCache().notify({query:k(this,je),type:"observerResultsUpdated"})})},rw);function SE(t,e){return hr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function mv(t,e){return SE(t,e)||t.state.data!==void 0&&fh(t,e,e.refetchOnMount)}function fh(t,e,r){if(hr(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&bm(t,e)}return!1}function gv(t,e,r,n){return(t!==e||hr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&bm(t,r)}function bm(t,e){return hr(e.enabled,t)!==!1&&t.isStaleByTime(yi(e.staleTime,t))}function jE(t,e){return!Ic(t.getCurrentResult(),e)}var qn,Wn,Dt,an,fn,Ac,hh,nw,OE=(nw=class extends bs{constructor(r,n){super();ue(this,fn);ue(this,qn);ue(this,Wn);ue(this,Dt);ue(this,an);Q(this,qn,r),this.setOptions(n),this.bindMethods(),ye(this,fn,Ac).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=k(this,qn).defaultMutationOptions(r),Ic(this.options,n)||k(this,qn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Dt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Fa(n.mutationKey)!==Fa(this.options.mutationKey)?this.reset():((a=k(this,Dt))==null?void 0:a.state.status)==="pending"&&k(this,Dt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,Dt))==null||r.removeObserver(this)}onMutationUpdate(r){ye(this,fn,Ac).call(this),ye(this,fn,hh).call(this,r)}getCurrentResult(){return k(this,Wn)}reset(){var r;(r=k(this,Dt))==null||r.removeObserver(this),Q(this,Dt,void 0),ye(this,fn,Ac).call(this),ye(this,fn,hh).call(this)}mutate(r,n){var a;return Q(this,an,n),(a=k(this,Dt))==null||a.removeObserver(this),Q(this,Dt,k(this,qn).getMutationCache().build(k(this,qn),this.options)),k(this,Dt).addObserver(this),k(this,Dt).execute(r)}},qn=new WeakMap,Wn=new WeakMap,Dt=new WeakMap,an=new WeakMap,fn=new WeakSet,Ac=function(){var n;const r=((n=k(this,Dt))==null?void 0:n.state)??_w();Q(this,Wn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},hh=function(r){ut.batch(()=>{var n,a,i,s,o,l,c,u;if(k(this,an)&&this.hasListeners()){const f=k(this,Wn).variables,h=k(this,Wn).context;(r==null?void 0:r.type)==="success"?((a=(n=k(this,an)).onSuccess)==null||a.call(n,r.data,f,h),(s=(i=k(this,an)).onSettled)==null||s.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(o=k(this,an)).onError)==null||l.call(o,r.error,f,h),(u=(c=k(this,an)).onSettled)==null||u.call(c,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(k(this,Wn))})})},nw),jw=b.createContext(void 0),it=t=>{const e=b.useContext(jw);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},CE=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(jw.Provider,{value:t,children:e})),Ow=b.createContext(!1),EE=()=>b.useContext(Ow);Ow.Provider;function TE(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var PE=b.createContext(TE()),AE=()=>b.useContext(PE);function Cw(t,e){return typeof t=="function"?t(...e):!!t}function Ew(){}var kE=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},NE=t=>{b.useEffect(()=>{t.clearReset()},[t])},$E=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Cw(r,[t.error,n]),ME=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},IE=(t,e)=>t.isLoading&&t.isFetching&&!e,RE=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,vv=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function DE(t,e,r){var u,f,h,p,v;const n=it(),a=EE(),i=AE(),s=n.defaultQueryOptions(t);(f=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,s),s._optimisticResults=a?"isRestoring":"optimistic",ME(s),kE(s,i),NE(i);const o=!n.getQueryCache().get(s.queryHash),[l]=b.useState(()=>new e(n,s)),c=l.getOptimisticResult(s);if(b.useSyncExternalStore(b.useCallback(m=>{const g=a?()=>{}:l.subscribe(ut.batchCalls(m));return l.updateResult(),g},[l,a]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),RE(s,c))throw vv(s,l,i);if($E({result:c,errorResetBoundary:i,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw c.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,s,c),s.experimental_prefetchInRender&&!Ba&&IE(c,a)){const m=o?vv(s,l,i):(v=n.getQueryCache().get(s.queryHash))==null?void 0:v.promise;m==null||m.catch(Ew).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?c:l.trackResult(c)}function rr(t,e){return DE(t,_E)}function po(t,e){const r=it(),[n]=b.useState(()=>new OE(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const a=b.useSyncExternalStore(b.useCallback(s=>n.subscribe(ut.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=b.useCallback((s,o)=>{n.mutate(s,o).catch(Ew)},[n]);if(a.error&&Cw(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const $={info:(t,...e)=>{console.log(`${new Date().toISOString()} info: ${t}`,...e)},error:(t,...e)=>{console.error(`${new Date().toISOString()} error: ${t}`,...e)},warn:(t,...e)=>{console.warn(`${new Date().toISOString()} warn: ${t}`,...e)},debug:(t,...e)=>{console.debug(`${new Date().toISOString()} debug: ${t}`,...e)}},LE="modulepreload",BE=function(t){return"/"+t},yv={},Ui=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=BE(l),l in yv)return;yv[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":LE,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},FE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ui(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class xm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class UE extends xm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zE extends xm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qE extends xm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ph;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ph||(ph={}));var WE=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class HE{constructor(e,{headers:r={},customFetch:n,region:a=ph.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=FE(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return WE(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:c}).catch(v=>{throw new UE(v)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new zE(u);if(!u.ok)throw new qE(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Lt={},wm={},Yu={},Rl={},Qu={},Zu={},VE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zi=VE();const GE=zi.fetch,Tw=zi.fetch.bind(zi),Pw=zi.Headers,KE=zi.Request,YE=zi.Response,xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pw,Request:KE,Response:YE,default:Tw,fetch:GE},Symbol.toStringTag,{value:"Module"})),QE=rE(xs);var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});let ZE=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xu.default=ZE;var Aw=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zu,"__esModule",{value:!0});const XE=Aw(QE),JE=Aw(Xu);let eT=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=XE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,l;let c=null,u=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}const m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),g=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,p="OK")}catch{i.status===404&&m===""?(h=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new JE.default(c)}return{error:c,data:u,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}};Zu.default=eT;var tT=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qu,"__esModule",{value:!0});const rT=tT(Zu);let nT=class extends rT.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qu.default=nT;var aT=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rl,"__esModule",{value:!0});const iT=aT(Qu);let sT=class extends iT.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Rl.default=sT;var oT=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yu,"__esModule",{value:!0});const zs=oT(Rl);let lT=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new zs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new zs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new zs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new zs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new zs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yu.default=lT;var Ju={},ed={};Object.defineProperty(ed,"__esModule",{value:!0});ed.version=void 0;ed.version="0.0.0-automated";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.DEFAULT_HEADERS=void 0;const cT=ed;Ju.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${cT.version}`};var kw=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wm,"__esModule",{value:!0});const uT=kw(Yu),dT=kw(Rl),fT=Ju;let hT=class Nw{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},fT.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new uT.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Nw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{o.searchParams.append(u,f)})):(s="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new dT.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};wm.default=hT;var ws=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.PostgrestError=Lt.PostgrestBuilder=Lt.PostgrestTransformBuilder=Lt.PostgrestFilterBuilder=Lt.PostgrestQueryBuilder=Lt.PostgrestClient=void 0;const $w=ws(wm);Lt.PostgrestClient=$w.default;const Mw=ws(Yu);Lt.PostgrestQueryBuilder=Mw.default;const Iw=ws(Rl);Lt.PostgrestFilterBuilder=Iw.default;const Rw=ws(Qu);Lt.PostgrestTransformBuilder=Rw.default;const Dw=ws(Zu);Lt.PostgrestBuilder=Dw.default;const Lw=ws(Xu);Lt.PostgrestError=Lw.default;var pT=Lt.default={PostgrestClient:$w.default,PostgrestQueryBuilder:Mw.default,PostgrestFilterBuilder:Iw.default,PostgrestTransformBuilder:Rw.default,PostgrestBuilder:Dw.default,PostgrestError:Lw.default};const{PostgrestClient:mT,PostgrestQueryBuilder:Kae,PostgrestFilterBuilder:Yae,PostgrestTransformBuilder:Qae,PostgrestBuilder:Zae,PostgrestError:Xae}=pT,gT="2.11.2",vT={"X-Client-Info":`realtime-js/${gT}`},yT="1.0.0",Bw=1e4,bT=1e3;var bi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bi||(bi={}));var Ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ut||(Ut={}));var ur;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ur||(ur={}));var mh;(function(t){t.websocket="websocket"})(mh||(mh={}));var ba;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ba||(ba={}));class xT{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+a));s=s+a;const l=n.decode(e.slice(s,s+i));s=s+i;const c=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Fw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qe||(qe={}));const bv=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=wT(s,t,e,a),i),{})},wT=(t,e,r,n)=>{const a=e.find(o=>o.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?Uw(i,s):gh(s)},Uw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return OT(e,r)}switch(t){case qe.bool:return _T(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return ST(e);case qe.json:case qe.jsonb:return jT(e);case qe.timestamp:return CT(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return gh(e);default:return gh(e)}},gh=t=>t,_T=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ST=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},OT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>Uw(e,o))}return t},CT=t=>typeof t=="string"?t.replace(" ","T"):t,zw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ff{constructor(e,r,n={},a=Bw){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xv||(xv={}));class mo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mo.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=mo.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=mo.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=i[c];if(f){const h=u.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),v=u.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(o[c]=v),m.length>0&&(l[c]=m)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,a(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wv||(wv={}));var _v;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_v||(_v={}));var nn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nn||(nn={}));class _m{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ff(this,ur.join,this.params,this.timeout),this.rejoinTimer=new Fw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ur.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new mo(this),this.broadcastEndpointURL=zw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(u=>e==null?void 0:e(nn.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(nn.CLOSED));const l={},c={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){e==null||e(nn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let m=0;m<p;m++){const g=h[m],{filter:{event:w,schema:y,table:S,filter:x}}=g,_=u&&u[m];if(_&&_.event===w&&_.schema===y&&_.table===S&&_.filter===x)v.push(Object.assign(Object.assign({},g),{id:_.id}));else{this.unsubscribe(),e==null||e(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(nn.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ut.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ur.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new ff(this,ur.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ff(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=ur;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var v,m,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var v,m,g,w,y,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const x=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return x&&((m=r.ids)===null||m===void 0?void 0:m.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const x=(y=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:w,type:y,errors:S}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:w,eventType:y,new:{},old:{},errors:S}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&_m.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ur.close,{},e)}_onError(e){this._on(ur.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bv(e.columns,e.old_record)),r}}const ET=()=>{},TT=typeof WebSocket<"u",PT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AT{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=vT,this.params={},this.timeout=Bw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ET,this.conn=null,this.sendBuffer=[],this.serializer=new xT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Ui(async()=>{const{default:l}=await Promise.resolve().then(()=>xs);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${mh.websocket}`,this.httpEndpoint=zw(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(TT){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new kT(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ui(async()=>{const{default:e}=await import("./browser-C4Jczr-P.js").then(r=>r.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yT}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bi.connecting:return ba.Connecting;case bi.open:return ba.Open;case bi.closing:return ba.Closing;default:return ba.Closed}}isConnected(){return this.connectionState()===ba.Open}channel(e,r={config:{}}){const n=new _m(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(ur.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(bT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ur.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([PT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class kT{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bi.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Sm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ht(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NT extends Sm{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vh extends Sm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var $T=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const qw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ui(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},MT=()=>$T(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ui(()=>Promise.resolve().then(()=>xs),void 0)).Response:Response}),yh=t=>{if(Array.isArray(t))return t.map(r=>yh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=yh(n)}),e};var Za=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const hf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IT=(t,e,r)=>Za(void 0,void 0,void 0,function*(){const n=yield MT();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new NT(hf(a),t.status||500))}).catch(a=>{e(new vh(hf(a),a))}):e(new vh(hf(t),t))}),RT=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Dl(t,e,r,n,a,i){return Za(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,RT(e,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>IT(l,o,n))})})}function Dc(t,e,r,n){return Za(this,void 0,void 0,function*(){return Dl(t,"GET",e,r,n)})}function kn(t,e,r,n,a){return Za(this,void 0,void 0,function*(){return Dl(t,"POST",e,n,a,r)})}function DT(t,e,r,n,a){return Za(this,void 0,void 0,function*(){return Dl(t,"PUT",e,n,a,r)})}function LT(t,e,r,n){return Za(this,void 0,void 0,function*(){return Dl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ww(t,e,r,n,a){return Za(this,void 0,void 0,function*(){return Dl(t,"DELETE",e,n,a,r)})}var It=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const BT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FT{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=qw(a)}uploadOrUpdate(e,r,n,a){return It(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Sv),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}upload(e,r,n){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return It(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Sv.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ht(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return It(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield kn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new Sm("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}update(e,r,n){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return It(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}copy(e,r,n){return It(this,void 0,void 0,function*(){try{return{data:{path:(yield kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return It(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield kn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return It(this,void 0,void 0,function*(){try{const a=yield kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}download(e,r){return It(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Dc(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ht(o))return{data:null,error:o};throw o}})}info(e){return It(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Dc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yh(n),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}exists(e){return It(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield LT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ht(n)&&n instanceof vh){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return It(this,void 0,void 0,function*(){try{return{data:yield Ww(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}list(e,r,n){return It(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},BT),r),{prefix:e||""});return{data:yield kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const UT="2.7.1",zT={"X-Client-Info":`storage-js/${UT}`};var ni=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class qT{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},zT),r),this.fetch=qw(n)}listBuckets(){return ni(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ht(e))return{data:null,error:e};throw e}})}getBucket(e){return ni(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ni(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ni(this,void 0,void 0,function*(){try{return{data:yield DT(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ni(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ni(this,void 0,void 0,function*(){try{return{data:yield Ww(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}}class WT extends qT{constructor(e,r={},n){super(e,r,n)}from(e){return new FT(this.url,this.headers,e,this.fetch)}}const HT="2.47.10";let oo="";typeof Deno<"u"?oo="deno":typeof document<"u"?oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oo="react-native":oo="node";const VT={"X-Client-Info":`supabase-js-${oo}/${HT}`},GT={headers:VT},KT={schema:"public"},YT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QT={};var ZT=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const XT=t=>{let e;return t?e=t:typeof fetch>"u"?e=Tw:e=fetch,(...r)=>e(...r)},JT=()=>typeof Headers>"u"?Pw:Headers,eP=(t,e,r)=>{const n=XT(r),a=JT();return(i,s)=>ZT(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:c}))})};var tP=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function rP(t){return t.replace(/\/$/,"")}function nP(t,e){const{db:r,auth:n,realtime:a,global:i}=t,{db:s,auth:o,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},c),i),accessToken:()=>tP(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Hw="2.67.3",aP="http://localhost:9999",iP="supabase.auth.token",sP={"X-Client-Info":`gotrue-js/${Hw}`},jv=10,bh="X-Supabase-Api-Version",Vw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function oP(t){return Math.round(Date.now()/1e3)+t}function lP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pr=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},go=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function cP(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const Gw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ui(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},uP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Kw=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},uc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dc=async(t,e)=>{await t.removeItem(e)};function dP(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,s,o,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=e.indexOf(t.charAt(u++)),o=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=s<<2|o>>4,a=(o&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&a!=0&&(r=r+String.fromCharCode(a)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class td{constructor(){this.promise=new td.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}td.promiseConstructor=Promise;function Ov(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(dP(n))}async function fP(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function hP(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function pP(t){return("0"+t.toString(16)).substr(-2)}function mP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,pP).join("")}async function gP(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function vP(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await gP(t);return vP(r)}async function ai(t,e,r=!1){const n=mP();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Kw(t,`${e}-code-verifier`,a);const i=await yP(n);return[i,n===i?"plain":"s256"]}const bP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xP(t){const e=t.headers.get(bh);if(!e||!e.match(bP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class jm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wP extends jm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _P(t){return be(t)&&t.name==="AuthApiError"}class Yw extends jm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Xa extends jm{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Pn extends Xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SP(t){return be(t)&&t.name==="AuthSessionMissingError"}class pf extends Xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fc extends Xa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hc extends Xa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jP(t){return be(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cv extends Xa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xh extends Xa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function mf(t){return be(t)&&t.name==="AuthRetryableFetchError"}class Ev extends Xa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var OP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const pa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CP=[502,503,504];async function Tv(t){var e;if(!uP(t))throw new xh(pa(t),0);if(CP.includes(t.status))throw new xh(pa(t),t.status);let r;try{r=await t.json()}catch(i){throw new Yw(pa(i),i)}let n;const a=xP(t);if(a&&a.getTime()>=Vw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ev(pa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ev(pa(r),t.status,r.weak_password.reasons);throw new wP(pa(r),t.status||500,n)}const EP=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Oe(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[bh]||(i[bh]=Vw["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await TP(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function TP(t,e,r,n,a,i){const s=EP(e,n,a,i);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new xh(pa(l),0)}if(o.ok||await Tv(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Tv(l)}}function An(t){var e;let r=null;NP(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=oP(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Pv(t){const e=An(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $n(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PP(t){return{data:t,error:null}}function AP(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=OP(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function kP(t){return t}function NP(t){return t.access_token&&t.refresh_token&&t.expires_in}var $P=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class MP{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Gw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$n})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=$P(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:AP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$n})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:kP});if(u.error)throw u.error;const f=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(be(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$n})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$n})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$n})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}}const IP={getItem:t=>go()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{go()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{go()&&globalThis.localStorage.removeItem(t)}};function Av(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function RP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ii={debug:!!(globalThis&&go()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class DP extends Qw{}async function LP(t,e,r){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DP(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ii.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}RP();const BP={url:aP,storageKey:iP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},qs=30*1e3,kv=3;async function Nv(t,e,r){return await r()}class Co{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Co.nextInstanceID,Co.nextInstanceID+=1,this.instanceID>0&&Pr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},BP),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new MP({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Gw(a.fetch),this.lock=a.lock||Nv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Pr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=LP:this.lock=Nv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:go()?this.storage=IP:(this.memoryStorage={},this.storage=Av(this.memoryStorage)):(this.memoryStorage={},this.storage=Av(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=cP(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jP(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return be(r)?{error:r}:{error:new Yw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:An}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:u,password:f,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ai(this.storage,this.storageKey)),i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:An})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:An})}else throw new fc("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:o}=e;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pv})}else if("phone"in e){const{phone:i,password:s,options:o}=e;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pv})}else throw new fc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await uc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:An});if(await dc(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(be(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,o=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:An}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ai(this.storage,this.storageKey));const{error:f}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new fc("You must provide either an email or phone number.")}catch(o){if(be(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:An});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await ai(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:PP})}catch(i){if(be(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Pn;const{error:a}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:o}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new fc("You must provide either an email or phone number and a type")}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await uc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$n}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pn}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:$n})})}catch(r){if(be(r))return SP(r)&&(await this._removeSession(),await dc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Pn;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await ai(this.storage,this.storageKey));const{data:c,error:u}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:$n});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Ov(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const s=Ov(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pn;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Pr())throw new hc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cv("No code detected.");const{data:y,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!s||!c)throw new hc("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:m,error:g}=await this._getUser(i);if(g)throw g;const w={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await uc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(_P(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await dc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=lP(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ai(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(be(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,c,u;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Pr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(be(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hP(async a=>(a>0&&await fP(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:An})),(a,i)=>{const s=200*Math.pow(2,a);return i&&mf(i)&&Date.now()+s-n<qs})}catch(n){if(this._debug(r,"error",n),be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await uc(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<a+jv;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${jv}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),mf(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new td;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Pn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),be(i)){const s={session:null,error:i};return mf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Kw(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await dc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${qs}ms, refresh threshold is ${kv} ticks`),a<=kv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await ai(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(be(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Co.nextInstanceID=0;const FP=Co;class UP extends FP{constructor(e){super(e)}}var zP=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class qP{constructor(e,r,n){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=rP(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:KT,realtime:QT,auth:Object.assign(Object.assign({},YT),{storageKey:l}),global:GT},u=nP(n??{},c);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=eP(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new mT(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new HE(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new WT(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return zP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:l},c,u){var f;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UP({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new AT(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WP=(t,e,r)=>new qP(t,e,r),HP={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_EMAILS:"tomandkimsrsvp@gmail.com",VITE_API_TIMEOUT:"30000",VITE_APP_NAME:"Red Baez Business Suite",VITE_DEBUG_MODE:"false",VITE_ENABLE_AI_FEATURES:"true",VITE_ENABLE_CODE_SPLITTING:"true",VITE_ENABLE_PERFORMANCE_MONITORING:"false",VITE_ENABLE_PREFETCHING:"true",VITE_HUGGING_FACE_ACCESS_TOKEN:"71423fcbf3d0bb7649251af963015220c74c5d35ea4084437b87eac59711b8bb",VITE_OPENAI_API_KEY:"a877dc8505419a41a275302f291cdb2489a5e76d8786a734cef75a8f865b24ad",VITE_PERPLEXITY_API_KEY:"157e11911b1fd742955bdb6b74beb33ff2fd8129f36b6f78573218d8f7ce57ad",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ5b212ZWFuaXh6c2hmYXRhbGNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxMjg0NDYsImV4cCI6MjA1MTcwNDQ0Nn0.WP3UUPsFzllI_gvkpYoj4Z8MLkGRt0bJgPAqK80S8JQ",VITE_SUPABASE_URL:"https://ryomveanixzshfatalcd.supabase.co"},nr=(t,e="")=>{const r=HP[t];return r===void 0?($.warn(`Environment variable ${t} not defined, using default value`),e):r},Zw=nr("VITE_SUPABASE_URL"),Xw=nr("VITE_SUPABASE_ANON_KEY");nr("VITE_OPENAI_API_KEY");nr("VITE_PERPLEXITY_API_KEY");const $v=nr("VITE_ALLOWED_EMAILS");nr("VITE_ENABLE_AI_FEATURES","true");nr("VITE_DEBUG_MODE","false");nr("VITE_ENABLE_PERFORMANCE_MONITORING","false");nr("VITE_ENABLE_CODE_SPLITTING","true");nr("VITE_ENABLE_PREFETCHING","true");nr("VITE_APP_NAME","Business Dashboard");parseInt(nr("VITE_API_TIMEOUT","30000"),10);(!Zw||!Xw)&&($.error("Missing Supabase URL or Anon Key. Please check environment variables."),$.error("CRITICAL ERROR: Missing Supabase configuration in environment variables"));const VP=()=>({"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Pragma:"no-cache",Expires:"0","X-Request-ID":`req_${Math.random().toString(36).substring(2,15)}_${Date.now()}`}),ae=WP(Zw,Xw,{auth:{persistSession:!0,autoRefreshToken:!0,storage:localStorage},global:{headers:VP()},db:{schema:"public"}}),kc=(t,e,r)=>{var a;if(e){$.error(`Supabase error in ${r}:`,e),$.error(`Supabase error in ${r}:`,e);return}const n=((a=t==null?void 0:t.data)==null?void 0:a.length)||0;$.info(`Supabase success in ${r}: Retrieved ${n} records`)},Jw=["redbaez.com","thefamily.network"],e1=$v?$v.split(",").map(t=>t.trim().toLowerCase()).filter(Boolean):[],Mv=t=>{const e=t.toLowerCase();return Jw.some(r=>e.endsWith(`@${r}`))||e1.includes(e)},wh=(t="and")=>`${[...Jw,...e1].join(` ${t} `)}`,t1=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(!1),[a,i]=b.useState(!0),s=yn();return b.useEffect(()=>{(async()=>{try{const{data:{session:c}}=await ae.auth.getSession();if($.info("Initial session check:",c),c){const u=c.user.email;if(u&&!Mv(u)){await ae.auth.signOut(),e(`Only ${wh()} email addresses are allowed.`),n(!1),window.location.pathname!=="/login"&&s("/login");return}e(""),n(!0)}else n(!1),window.location.pathname!=="/login"&&s("/login")}catch(c){$.error("Session check error:",c),n(!1),window.location.pathname!=="/login"&&s("/login")}finally{i(!1)}})();const{data:{subscription:l}}=ae.auth.onAuthStateChange(async(c,u)=>{if($.info("Auth event:",c),$.info("Session:",u),c==="SIGNED_IN"&&u){const f=u.user.email;if(f&&!Mv(f)){try{await ae.auth.signOut(),e(`Only ${wh()} email addresses are allowed.`),n(!1),s("/login")}catch(h){$.error("Error during sign out:",h)}return}e(""),n(!0),s("/");return}if(c==="SIGNED_OUT"){$.info("User signed out"),e(""),n(!1),s("/login");return}if(c==="USER_UPDATED"){e("");try{const{data:{session:f},error:h}=await ae.auth.getSession();if(h)throw h;n(!!f),f&&s("/")}catch(f){$.error("Session update error:",f),f instanceof Error&&e(f.message)}return}});return()=>{l.unsubscribe()}},[s]),{error:t,setError:e,isAuthenticated:r,isLoading:a}};function r1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=r1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Pe(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=r1(t))&&(n&&(n+=" "),n+=e);return n}const Iv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Rv=Pe,_s=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Rv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,s=Object.keys(a).map(c=>{const u=r==null?void 0:r[c],f=i==null?void 0:i[c];if(u===null)return null;const h=Iv(u)||Iv(f);return a[c][h]}),o=r&&Object.entries(r).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...i,...o}[m]):{...i,...o}[m]===g})?[...c,f,h]:c},[]);return Rv(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},Om="-",GP=t=>{const e=YP(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(Om);return o[0]===""&&o.length!==1&&o.shift(),n1(o,e)||KP(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},n1=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?n1(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(Om);return(s=e.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},Dv=/^\[(.+)\]$/,KP=t=>{if(Dv.test(t)){const e=Dv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},YP=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return ZP(Object.entries(t.classGroups),r).forEach(([i,s])=>{_h(s,n,i,e)}),n},_h=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:Lv(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(QP(a)){_h(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{_h(s,Lv(e,i),r,n)})})},Lv=(t,e)=>{let r=t;return e.split(Om).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QP=t=>t.isThemeGetter,ZP=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[e+s,o])):i);return[r,a]}):t,XP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},a1="!",JP=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,s=o=>{const l=[];let c=0,u=0,f;for(let g=0;g<o.length;g++){let w=o[g];if(c===0){if(w===a&&(n||o.slice(g,g+i)===e)){l.push(o.slice(u,g)),u=g+i;continue}if(w==="/"){f=g;continue}}w==="["?c++:w==="]"&&c--}const h=l.length===0?o:o.substring(u),p=h.startsWith(a1),v=p?h.substring(1):h,m=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:s}):s},eA=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},tA=t=>({cache:XP(t.cacheSize),parseClassName:JP(t),...GP(t)}),rA=/\s+/,nA=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],s=t.trim().split(rA);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){o=c+(o.length>0?" "+o:o);continue}if(m=n(h),!m){o=c+(o.length>0?" "+o:o);continue}v=!1}const g=eA(u).join(":"),w=f?g+a1:g,y=w+m;if(i.includes(y))continue;i.push(y);const S=a(m,v);for(let x=0;x<S.length;++x){const _=S[x];i.push(w+_)}o=c+(o.length>0?" "+o:o)}return o};function aA(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=i1(e))&&(n&&(n+=" "),n+=r);return n}const i1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=i1(t[n]))&&(r&&(r+=" "),r+=e);return r};function iA(t,...e){let r,n,a,i=s;function s(l){const c=e.reduce((u,f)=>f(u),t());return r=tA(c),n=r.cache.get,a=r.cache.set,i=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=nA(l,r);return a(l,u),u}return function(){return i(aA.apply(null,arguments))}}const Ve=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},s1=/^\[(?:([a-z-]+):)?(.+)\]$/i,sA=/^\d+\/\d+$/,oA=new Set(["px","full","screen"]),lA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=t=>xi(t)||oA.has(t)||sA.test(t),jn=t=>Ss(t,"length",xA),xi=t=>!!t&&!Number.isNaN(Number(t)),gf=t=>Ss(t,"number",xi),Ws=t=>!!t&&Number.isInteger(Number(t)),hA=t=>t.endsWith("%")&&xi(t.slice(0,-1)),me=t=>s1.test(t),On=t=>lA.test(t),pA=new Set(["length","size","percentage"]),mA=t=>Ss(t,pA,o1),gA=t=>Ss(t,"position",o1),vA=new Set(["image","url"]),yA=t=>Ss(t,vA,_A),bA=t=>Ss(t,"",wA),Hs=()=>!0,Ss=(t,e,r)=>{const n=s1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},xA=t=>cA.test(t)&&!uA.test(t),o1=()=>!1,wA=t=>dA.test(t),_A=t=>fA.test(t),SA=()=>{const t=Ve("colors"),e=Ve("spacing"),r=Ve("blur"),n=Ve("brightness"),a=Ve("borderColor"),i=Ve("borderRadius"),s=Ve("borderSpacing"),o=Ve("borderWidth"),l=Ve("contrast"),c=Ve("grayscale"),u=Ve("hueRotate"),f=Ve("invert"),h=Ve("gap"),p=Ve("gradientColorStops"),v=Ve("gradientColorStopPositions"),m=Ve("inset"),g=Ve("margin"),w=Ve("opacity"),y=Ve("padding"),S=Ve("saturate"),x=Ve("scale"),_=Ve("sepia"),j=Ve("skew"),C=Ve("space"),E=Ve("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",me,e],N=()=>[me,e],D=()=>["",Xr,jn],M=()=>["auto",xi,me],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",me],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[xi,me];return{cacheSize:500,separator:":",theme:{colors:[Hs],spacing:[Xr,jn],blur:["none","",On,me],brightness:V(),borderColor:[t],borderRadius:["none","","full",On,me],borderSpacing:N(),borderWidth:D(),contrast:V(),grayscale:q(),hueRotate:V(),invert:q(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[hA,jn],inset:T(),margin:T(),opacity:V(),padding:N(),saturate:V(),scale:V(),sepia:q(),skew:V(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[On]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),me]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ws,me]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Ws,me]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Ws,me]},me]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Ws,me]},me]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[On]},On]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",On,jn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gf]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",xi,gf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,jn]}],"underline-offset":[{"underline-offset":["auto",Xr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),gA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Xr,me]}],"outline-w":[{outline:[Xr,jn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Xr,jn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",On,bA]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",On,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Ws,me]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xr,jn,gf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jA=iA(SA);function G(...t){return jA(Pe(t))}const Cm=_s("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const s=n?dm:"button";return d.jsx(s,{className:G(Cm({variant:e,size:r,className:t})),ref:i,...a})});J.displayName="Button";const OA=({onReturn:t})=>{const e=yn(),r=()=>{t(),e("/")};return d.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100/50 flex items-center justify-center p-4",children:d.jsx("div",{className:"w-full max-w-md space-y-4",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm text-center space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Welcome Back!"}),d.jsx("p",{className:"text-gray-600",children:"Your email has been confirmed. You can now return to the application."}),d.jsx(J,{onClick:r,className:"w-full",children:"Return to App"})]})})})};var Bv,Be="colors",Tt="sizes",te="space",CA={gap:te,gridGap:te,columnGap:te,gridColumnGap:te,rowGap:te,gridRowGap:te,inset:te,insetBlock:te,insetBlockEnd:te,insetBlockStart:te,insetInline:te,insetInlineEnd:te,insetInlineStart:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,marginBlock:te,marginBlockEnd:te,marginBlockStart:te,marginInline:te,marginInlineEnd:te,marginInlineStart:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,paddingBlock:te,paddingBlockEnd:te,paddingBlockStart:te,paddingInline:te,paddingInlineEnd:te,paddingInlineStart:te,top:te,right:te,bottom:te,left:te,scrollMargin:te,scrollMarginTop:te,scrollMarginRight:te,scrollMarginBottom:te,scrollMarginLeft:te,scrollMarginX:te,scrollMarginY:te,scrollMarginBlock:te,scrollMarginBlockEnd:te,scrollMarginBlockStart:te,scrollMarginInline:te,scrollMarginInlineEnd:te,scrollMarginInlineStart:te,scrollPadding:te,scrollPaddingTop:te,scrollPaddingRight:te,scrollPaddingBottom:te,scrollPaddingLeft:te,scrollPaddingX:te,scrollPaddingY:te,scrollPaddingBlock:te,scrollPaddingBlockEnd:te,scrollPaddingBlockStart:te,scrollPaddingInline:te,scrollPaddingInlineEnd:te,scrollPaddingInlineStart:te,fontSize:"fontSizes",background:Be,backgroundColor:Be,backgroundImage:Be,borderImage:Be,border:Be,borderBlock:Be,borderBlockEnd:Be,borderBlockStart:Be,borderBottom:Be,borderBottomColor:Be,borderColor:Be,borderInline:Be,borderInlineEnd:Be,borderInlineStart:Be,borderLeft:Be,borderLeftColor:Be,borderRight:Be,borderRightColor:Be,borderTop:Be,borderTopColor:Be,caretColor:Be,color:Be,columnRuleColor:Be,fill:Be,outline:Be,outlineColor:Be,stroke:Be,textDecorationColor:Be,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Tt,minBlockSize:Tt,maxBlockSize:Tt,inlineSize:Tt,minInlineSize:Tt,maxInlineSize:Tt,width:Tt,minWidth:Tt,maxWidth:Tt,height:Tt,minHeight:Tt,maxHeight:Tt,flexBasis:Tt,gridTemplateColumns:Tt,gridTemplateRows:Tt,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},EA=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Ll=()=>{const t=Object.create(null);return(e,r,...n)=>{const a=(i=>JSON.stringify(i,EA))(e);return a in t?t[a]:t[a]=r(e,...n)}},Nc=Symbol.for("sxs.internal"),Em=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),Fv=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:TA}=Object.prototype,Sh=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),PA=/\s+(?![^()]*\))/,si=t=>e=>t(...typeof e=="string"?String(e).split(PA):[e]),Uv={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:si((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:si((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:si((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:si((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:si((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:si((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},vf=/([\d.]+)([^]*)/,AA=(t,e)=>t.length?t.reduce((r,n)=>(r.push(...e.map(a=>a.includes("&")?a.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(a)?`:is(${n})`:n):n+" "+a)),r),[]):e,kA=(t,e)=>t in NA&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,n,a,i)=>n+(a==="stretch"?`-moz-available${i};${Sh(t)}:${n}-webkit-fill-available`:`-moz-fit-content${i};${Sh(t)}:${n}fit-content`)+i):String(e),NA={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},hn=t=>t?t+"-":"",l1=(t,e,r)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,a,i,s,o)=>s=="$"==!!i?n:(a||s=="--"?"calc(":"")+"var(--"+(s==="$"?hn(e)+(o.includes("$")?"":hn(r))+o.replace(/\$/g,"-"):o)+")"+(a||s=="--"?"*"+(a||"")+(i||"1")+")":"")),$A=/\s*,\s*(?![^()]*\))/,MA=Object.prototype.toString,pi=(t,e,r,n,a)=>{let i,s,o;const l=(c,u,f)=>{let h,p;const v=m=>{for(h in m){const y=h.charCodeAt(0)===64,S=y&&Array.isArray(m[h])?m[h]:[m[h]];for(p of S){const x=/[A-Z]/.test(w=h)?w:w.replace(/-[^]/g,j=>j[1].toUpperCase()),_=typeof p=="object"&&p&&p.toString===MA&&(!n.utils[x]||!u.length);if(x in n.utils&&!_){const j=n.utils[x];if(j!==s){s=j,v(j(p)),s=null;continue}}else if(x in Uv){const j=Uv[x];if(j!==o){o=j,v(j(p)),o=null;continue}}if(y&&(g=h.slice(1)in n.media?"@media "+n.media[h.slice(1)]:h,h=g.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(j,C,E,A,P,T)=>{const N=vf.test(C),D=.0625*(N?-1:1),[M,R]=N?[A,C]:[C,A];return"("+(E[0]==="="?"":E[0]===">"===N?"max-":"min-")+M+":"+(E[0]!=="="&&E.length===1?R.replace(vf,(I,B,U)=>Number(B)+D*(E===">"?1:-1)+U):R)+(P?") and ("+(P[0]===">"?"min-":"max-")+M+":"+(P.length===1?T.replace(vf,(I,B,U)=>Number(B)+D*(P===">"?-1:1)+U):T):"")+")"})),_){const j=y?f.concat(h):[...f],C=y?[...u]:AA(u,h.split($A));i!==void 0&&a(zv(...i)),i=void 0,l(p,C,j)}else i===void 0&&(i=[[],u,f]),h=y||h.charCodeAt(0)!==36?h:`--${hn(n.prefix)}${h.slice(1).replace(/\$/g,"-")}`,p=_?p:typeof p=="number"?p&&x in IA?String(p)+"px":String(p):l1(kA(x,p??""),n.prefix,n.themeMap[x]),i[0].push(`${y?`${h} `:`${Sh(h)}:`}${p}`)}}var g,w};v(c),i!==void 0&&a(zv(...i)),i=void 0};l(t,e,r)},zv=(t,e,r)=>`${r.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,IA={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},qv=t=>String.fromCharCode(t+(t>25?39:97)),$a=t=>(e=>{let r,n="";for(r=Math.abs(e);r>52;r=r/52|0)n=qv(r%52)+n;return qv(r%52)+n})(((e,r)=>{let n=r.length;for(;n;)e=33*e^r.charCodeAt(--n);return e})(5381,JSON.stringify(t))>>>0),lo=["themed","global","styled","onevar","resonevar","allvar","inline"],RA=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},DA=t=>{let e;const r=()=>{const{cssRules:a}=e.sheet;return[].map.call(a,(i,s)=>{const{cssText:o}=i;let l="";if(o.startsWith("--sxs"))return"";if(a[s-1]&&(l=a[s-1].cssText).startsWith("--sxs")){if(!i.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===i)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${o}`;return i.cssRules.length?`${l}${o}`:""}return o}).join("")},n=()=>{if(e){const{rules:o,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in o)delete o[c]}const a=Object(t).styleSheets||[];for(const o of a)if(RA(o)){for(let l=0,c=o.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:h}=u;if(!h.startsWith("--sxs"))continue;const p=h.slice(14,-3).trim().split(/\s+/),v=lo[p[0]];v&&(e||(e={sheet:o,reset:n,rules:{},toString:r}),e.rules[v]={group:f,index:l,cache:new Set(p)})}if(e)break}if(!e){const o=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,o(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:o("","text/css"),rules:{},reset:n,toString:r}}const{sheet:i,rules:s}=e;for(let o=lo.length-1;o>=0;--o){const l=lo[o];if(!s[l]){const c=lo[o+1],u=s[c]?s[c].index:i.cssRules.length;i.insertRule("@media{}",u),i.insertRule(`--sxs{--sxs:${o}}`,u),s[l]={group:i.cssRules[u+1],index:u,cache:new Set([o])}}LA(s[l])}};return n(),e},LA=t=>{const e=t.group;let r=e.cssRules.length;t.apply=n=>{try{e.insertRule(n,r),++r}catch{}}},Vs=Symbol(),BA=Ll(),FA=(t,e)=>BA(t,()=>(...r)=>{let n={type:null,composers:new Set};for(const a of r)if(a!=null)if(a[Nc]){n.type==null&&(n.type=a[Nc].type);for(const i of a[Nc].composers)n.composers.add(i)}else a.constructor!==Object||a.$$typeof?n.type==null&&(n.type=a):n.composers.add(UA(a,t));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),zA(t,n,e)}),UA=({variants:t,compoundVariants:e,defaultVariants:r,...n},a)=>{const i=`${hn(a.prefix)}c-${$a(n)}`,s=[],o=[],l=Object.create(null),c=[];for(const h in r)l[h]=String(r[h]);if(typeof t=="object"&&t)for(const h in t){u=l,f=h,TA.call(u,f)||(l[h]="undefined");const p=t[h];for(const v in p){const m={[h]:String(v)};String(v)==="undefined"&&c.push(h);const g=p[v],w=[m,g,!Fv(g)];s.push(w)}}var u,f;if(typeof e=="object"&&e)for(const h of e){let{css:p,...v}=h;p=typeof p=="object"&&p||{};for(const g in v)v[g]=String(v[g]);const m=[v,p,!Fv(p)];o.push(m)}return[i,n,s,o,l,c]},zA=(t,e,r)=>{const[n,a,i,s]=qA(e.composers),o=typeof e.type=="function"||e.type.$$typeof?(f=>{function h(){for(let p=0;p<h[Vs].length;p++){const[v,m]=h[Vs][p];f.rules[v].apply(m)}return h[Vs]=[],null}return h[Vs]=[],h.rules={},lo.forEach(p=>h.rules[p]={apply:v=>h[Vs].push([p,v])}),h})(r):null,l=(o||r).rules,c=`.${n}${a.length>1?`:where(.${a.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||WA;const{css:h,...p}=f,v={};for(const w in i)if(delete p[w],w in f){let y=f[w];typeof y=="object"&&y?v[w]={"@initial":i[w],...y}:(y=String(y),v[w]=y!=="undefined"||s.has(w)?y:i[w])}else v[w]=i[w];const m=new Set([...a]);for(const[w,y,S,x]of e.composers){r.rules.styled.cache.has(w)||(r.rules.styled.cache.add(w),pi(y,[`.${w}`],[],t,C=>{l.styled.apply(C)}));const _=Wv(S,v,t.media),j=Wv(x,v,t.media,!0);for(const C of _)if(C!==void 0)for(const[E,A,P]of C){const T=`${w}-${$a(A)}-${E}`;m.add(T);const N=(P?r.rules.resonevar:r.rules.onevar).cache,D=P?l.resonevar:l.onevar;N.has(T)||(N.add(T),pi(A,[`.${T}`],[],t,M=>{D.apply(M)}))}for(const C of j)if(C!==void 0)for(const[E,A]of C){const P=`${w}-${$a(A)}-${E}`;m.add(P),r.rules.allvar.cache.has(P)||(r.rules.allvar.cache.add(P),pi(A,[`.${P}`],[],t,T=>{l.allvar.apply(T)}))}}if(typeof h=="object"&&h){const w=`${n}-i${$a(h)}-css`;m.add(w),r.rules.inline.cache.has(w)||(r.rules.inline.cache.add(w),pi(h,[`.${w}`],[],t,y=>{l.inline.apply(y)}))}for(const w of String(f.className||"").trim().split(/\s+/))w&&m.add(w);const g=p.className=[...m].join(" ");return{type:e.type,className:g,selector:c,props:p,toString:()=>g,deferredInjector:o}};return Em(u,{className:n,selector:c,[Nc]:e,toString:()=>(r.rules.styled.cache.has(n)||u(),n)})},qA=t=>{let e="";const r=[],n={},a=[];for(const[i,,,,s,o]of t){e===""&&(e=i),r.push(i),a.push(...o);for(const l in s){const c=s[l];(n[l]===void 0||c!=="undefined"||o.includes(c))&&(n[l]=c)}}return[e,r,n,new Set(a)]},Wv=(t,e,r,n)=>{const a=[];e:for(let[i,s,o]of t){if(o)continue;let l,c=0,u=!1;for(l in i){const f=i[l];let h=e[l];if(h!==f){if(typeof h!="object"||!h)continue e;{let p,v,m=0;for(const g in h){if(f===String(h[g])){if(g!=="@initial"){const w=g.slice(1);(v=v||[]).push(w in r?r[w]:g.replace(/^@media ?/,"")),u=!0}c+=m,p=!0}++m}if(v&&v.length&&(s={["@media "+v.join(", ")]:s}),!p)continue e}}}(a[c]=a[c]||[]).push([n?"cv":`${l}-${i[l]}`,s,u])}return a},WA={},HA=Ll(),VA=(t,e)=>HA(t,()=>(...r)=>{const n=()=>{for(let a of r){a=typeof a=="object"&&a||{};let i=$a(a);if(!e.rules.global.cache.has(i)){if(e.rules.global.cache.add(i),"@import"in a){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let o of[].concat(a["@import"]))o=o.includes('"')||o.includes("'")?o:`"${o}"`,e.sheet.insertRule(`@import ${o};`,s++);delete a["@import"]}pi(a,[],[],t,s=>{e.rules.global.apply(s)})}}return""};return Em(n,{toString:n})}),GA=Ll(),KA=(t,e)=>GA(t,()=>r=>{const n=`${hn(t.prefix)}k-${$a(r)}`,a=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const i=[];pi(r,[],[],t,o=>i.push(o));const s=`@keyframes ${n}{${i.join("")}}`;e.rules.global.apply(s)}return n};return Em(a,{get name(){return a()},toString:a})}),YA=class{constructor(e,r,n,a){this.token=e==null?"":String(e),this.value=r==null?"":String(r),this.scale=n==null?"":String(n),this.prefix=a==null?"":String(a)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+hn(this.prefix)+hn(this.scale)+this.token}toString(){return this.computedValue}},QA=Ll(),ZA=(t,e)=>QA(t,()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);const a=`.${r=(r=typeof r=="string"?r:"")||`${hn(t.prefix)}t-${$a(n)}`}`,i={},s=[];for(const l in n){i[l]={};for(const c in n[l]){const u=`--${hn(t.prefix)}${l}-${c}`,f=l1(String(n[l][c]),t.prefix,l);i[l][c]=new YA(c,f,l,t.prefix),s.push(`${u}:${f}`)}}const o=()=>{if(s.length&&!e.rules.themed.cache.has(r)){e.rules.themed.cache.add(r);const l=`${n===t.theme?":root,":""}.${r}{${s.join(";")}}`;e.rules.themed.apply(l)}return r};return{...i,get className(){return o()},selector:a,toString:o}}),XA=Ll(),c1=t=>{let e=!1;const r=XA(t,n=>{e=!0;const a="prefix"in(n=typeof n=="object"&&n||{})?String(n.prefix):"",i=typeof n.media=="object"&&n.media||{},s=typeof n.root=="object"?n.root||null:globalThis.document||null,o=typeof n.theme=="object"&&n.theme||{},l={prefix:a,media:i,theme:o,themeMap:typeof n.themeMap=="object"&&n.themeMap||{...CA},utils:typeof n.utils=="object"&&n.utils||{}},c=DA(s),u={css:FA(l,c),globalCss:VA(l,c),keyframes:KA(l,c),createTheme:ZA(l,c),reset(){c.reset(),u.theme.toString()},theme:{},sheet:c,config:l,prefix:a,getCssText:c.toString,toString:c.toString};return String(u.theme=u.createTheme(o)),u});return e||r.reset(),r},u1=()=>Bv||(Bv=c1()),JA=(...t)=>u1().createTheme(...t),bn=(...t)=>u1().css(...t),ek={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},nt={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},tk="supabase-auth-ui",rk={ROOT:"root",SIGN_IN:nt.SIGN_IN,SIGN_UP:nt.SIGN_UP,FORGOTTEN_PASSWORD:nt.FORGOTTEN_PASSWORD,MAGIC_LINK:nt.MAGIC_LINK,UPDATE_PASSWORD:nt.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function Ja(t,e,r){var n,a;const i=[],s=rk[t];return i.push(r!=null&&r.prependedClassName?(r==null?void 0:r.prependedClassName)+"_"+s:tk+"_"+s),(n=r==null?void 0:r.className)!=null&&n[t]&&i.push((a=r==null?void 0:r.className)==null?void 0:a[t]),((r==null?void 0:r.extend)===void 0||(r==null?void 0:r.extend)===!0)&&i.push(e),i}function jh(t,e){let r;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(e))for(r=0;r<e.length;r++)t[r]=jh(t[r],e[r]);else for(r in e)t[r]=jh(t[r],e[r]);return t}return e}function yf(t,...e){let r=e.length;for(let n=0;n<r;n++)t=jh(t,e[n]);return t}function nk(t,e){return t.replace(/{{(\w+)}}/g,(r,n)=>e.hasOwnProperty(n)?e[n]:r)}var ak={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const ik=bn({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),wa=({children:t,appearance:e,...r})=>{var n;const a=Ja("anchor",ik(),e);return O.createElement("a",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.anchor,className:a.join(" ")},t)},sk=bn({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),js=({children:t,color:e="default",appearance:r,icon:n,loading:a=!1,...i})=>{var s;const o=Ja("button",sk({color:e}),r);return O.createElement("button",{...i,style:(s=r==null?void 0:r.style)==null?void 0:s.button,className:o.join(" "),disabled:a},n,t)},ok=bn({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Rr=({children:t,appearance:e,...r})=>{var n;const a=Ja("container",ok({direction:r.direction,gap:r.gap}),e);return O.createElement("div",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.container,className:a.join(" ")},t)},lk=bn({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),ck=({children:t,appearance:e,...r})=>{var n;const a=Ja("divider",lk(),e);return O.createElement("div",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.divider,className:a.join(" ")})},uk=bn({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Vn=({children:t,appearance:e,...r})=>{var n;const a=Ja("input",uk({type:r.type==="password"?"password":"default"}),e);return O.createElement("input",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.input,className:a.join(" ")},t)},dk=bn({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Gn=({children:t,appearance:e,...r})=>{var n;const a=Ja("label",dk(),e);return O.createElement("label",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.label,className:a.join(" ")},t)},fk=bn({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),qr=({children:t,appearance:e,...r})=>{var n;const a=Ja("message",fk({color:r.color}),e);return O.createElement("span",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.message,className:a.join(" ")},t)};function d1({setAuthView:t=()=>{},supabaseClient:e,redirectTo:r,i18n:n,appearance:a,showLinks:i=!1}){var s;const[o,l]=b.useState(""),[c,u]=b.useState(""),[f,h]=b.useState(""),[p,v]=b.useState(!1),m=async w=>{var y,S;if(w.preventDefault(),u(""),h(""),v(!0),o.length===0){u((y=n==null?void 0:n.magic_link)==null?void 0:y.empty_email_address),v(!1);return}const{error:x}=await e.auth.signInWithOtp({email:o,options:{emailRedirectTo:r}});x?u(x.message):h((S=n==null?void 0:n.magic_link)==null?void 0:S.confirmation_text),v(!1)},g=n==null?void 0:n.magic_link;return O.createElement("form",{id:"auth-magic-link",onSubmit:m},O.createElement(Rr,{gap:"large",direction:"vertical",appearance:a},O.createElement("div",null,O.createElement(Gn,{htmlFor:"email",appearance:a},g==null?void 0:g.email_input_label),O.createElement(Vn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:g==null?void 0:g.email_input_placeholder,onChange:w=>{u&&u(""),l(w.target.value)},appearance:a})),O.createElement(js,{color:"primary",type:"submit",loading:p,appearance:a},p?g==null?void 0:g.loading_button_label:g==null?void 0:g.button_label),i&&O.createElement(wa,{href:"#auth-sign-in",onClick:w=>{w.preventDefault(),t(nt.SIGN_IN)},appearance:a},(s=n==null?void 0:n.sign_in)==null?void 0:s.link_text),f&&O.createElement(qr,{appearance:a},f),c&&O.createElement(qr,{color:"danger",appearance:a},c)))}const xt=bn({width:"21px",height:"21px"}),hk=({provider:t})=>t=="google"?pk():t=="facebook"?mk():t=="twitter"?gk():t=="apple"?vk():t=="github"?yk():t=="gitlab"?bk():t=="bitbucket"?xk():t=="discord"?wk():t=="azure"?_k():t=="keycloak"?Sk():t=="linkedin"?jk():t=="notion"?Ok():t=="slack"?Ck():t=="spotify"?Ek():t=="twitch"?Tk():t=="workos"?Pk():t=="kakao"?Ak():null,pk=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),O.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),O.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),O.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),mk=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),O.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),gk=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),vk=()=>O.createElement("svg",{className:xt(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",O.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),yk=()=>O.createElement("svg",{className:xt(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",O.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),bk=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),O.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),O.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),O.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),O.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),O.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),O.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),xk=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},O.createElement("defs",null,O.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),O.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),O.createElement("title",null,"Bitbucket-blue"),O.createElement("g",{id:"Layer_2","data-name":"Layer 2"},O.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},O.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),O.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),wk=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),_k=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{offset:"0",stopColor:"#114a8b"}),O.createElement("stop",{offset:"1",stopColor:"#0669bc"})),O.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),O.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),O.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{offset:"0",stopOpacity:".3"}),O.createElement("stop",{offset:".071",stopOpacity:".2"}),O.createElement("stop",{offset:".321",stopOpacity:".1"}),O.createElement("stop",{offset:".623",stopOpacity:".05"}),O.createElement("stop",{offset:"1",stopOpacity:"0"})),O.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),O.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),O.createElement("stop",{offset:"1",stopColor:"#2892df"})),O.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),Sk=()=>O.createElement("svg",{className:xt(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),jk=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),O.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),Ok=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},O.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),O.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),O.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),Ck=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),O.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),O.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),O.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),O.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),O.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),O.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),O.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),Ek=()=>O.createElement("svg",{className:xt(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),Tk=()=>O.createElement("svg",{className:xt(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),O.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),O.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),O.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),Pk=()=>O.createElement("svg",{className:xt(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),O.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),Ak=()=>O.createElement("svg",{className:xt(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},O.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),O.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),O.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function kk({supabaseClient:t,socialLayout:e="vertical",providers:r=["github","google","azure"],providerScopes:n,queryParams:a,redirectTo:i,onlyThirdPartyProviders:s=!0,view:o="sign_in",i18n:l,appearance:c}){const[u,f]=b.useState(!1),[h,p]=b.useState(""),v=e==="vertical",m=o==="magic_link"?"sign_in":o,g=async y=>{f(!0);const{error:S}=await t.auth.signInWithOAuth({provider:y,options:{redirectTo:i,scopes:n==null?void 0:n[y],queryParams:a}});S&&p(S.message),f(!1)};function w(y){const S=y.toLowerCase();return y.charAt(0).toUpperCase()+S.slice(1)}return O.createElement(O.Fragment,null,r&&r.length>0&&O.createElement(O.Fragment,null,O.createElement(Rr,{gap:"large",direction:"vertical",appearance:c},O.createElement(Rr,{direction:v?"vertical":"horizontal",gap:v?"small":"medium",appearance:c},r.map(y=>{var S;return O.createElement(js,{key:y,color:"default",loading:u,onClick:()=>g(y),appearance:c},O.createElement(hk,{provider:y}),v&&nk((S=l==null?void 0:l[m])==null?void 0:S.social_provider_text,{provider:w(y)}))}))),!s&&O.createElement(ck,{appearance:c})))}function Hv({authView:t="sign_in",defaultEmail:e="",defaultPassword:r="",setAuthView:n=()=>{},setDefaultEmail:a=v=>{},setDefaultPassword:i=v=>{},supabaseClient:s,showLinks:o=!1,redirectTo:l,additionalData:c,magicLink:u,i18n:f,appearance:h,children:p}){var v,m,g,w;const y=b.useRef(!0),[S,x]=b.useState(e),[_,j]=b.useState(r),[C,E]=b.useState(""),[A,P]=b.useState(!1),[T,N]=b.useState("");b.useEffect(()=>(y.current=!0,x(e),j(r),()=>{y.current=!1}),[t]);const D=async I=>{var B;switch(I.preventDefault(),E(""),P(!0),t){case"sign_in":const{error:U}=await s.auth.signInWithPassword({email:S,password:_});U&&E(U.message);break;case"sign_up":let q={emailRedirectTo:l};c&&(q.data=c);const{data:{user:ie,session:V},error:Y}=await s.auth.signUp({email:S,password:_,options:q});Y?E(Y.message):ie&&!V&&N((B=f==null?void 0:f.sign_up)==null?void 0:B.confirmation_text);break}y.current&&P(!1)},M=I=>{a(S),i(_),n(I)},R=f==null?void 0:f[t];return O.createElement("form",{id:t==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:D,autoComplete:"on",style:{width:"100%"}},O.createElement(Rr,{direction:"vertical",gap:"large",appearance:h},O.createElement(Rr,{direction:"vertical",gap:"large",appearance:h},O.createElement("div",null,O.createElement(Gn,{htmlFor:"email",appearance:h},R==null?void 0:R.email_label),O.createElement(Vn,{id:"email",type:"email",name:"email",placeholder:R==null?void 0:R.email_input_placeholder,defaultValue:S,onChange:I=>x(I.target.value),autoComplete:"email",appearance:h})),O.createElement("div",null,O.createElement(Gn,{htmlFor:"password",appearance:h},R==null?void 0:R.password_label),O.createElement(Vn,{id:"password",type:"password",name:"password",placeholder:R==null?void 0:R.password_input_placeholder,defaultValue:_,onChange:I=>j(I.target.value),autoComplete:t==="sign_in"?"current-password":"new-password",appearance:h})),p),O.createElement(js,{type:"submit",color:"primary",loading:A,appearance:h},A?R==null?void 0:R.loading_button_label:R==null?void 0:R.button_label),o&&O.createElement(Rr,{direction:"vertical",gap:"small",appearance:h},t===nt.SIGN_IN&&u&&O.createElement(wa,{href:"#auth-magic-link",onClick:I=>{I.preventDefault(),n(nt.MAGIC_LINK)},appearance:h},(v=f==null?void 0:f.magic_link)==null?void 0:v.link_text),t===nt.SIGN_IN&&O.createElement(wa,{href:"#auth-forgot-password",onClick:I=>{I.preventDefault(),n(nt.FORGOTTEN_PASSWORD)},appearance:h},(m=f==null?void 0:f.forgotten_password)==null?void 0:m.link_text),t===nt.SIGN_IN?O.createElement(wa,{href:"#auth-sign-up",onClick:I=>{I.preventDefault(),M(nt.SIGN_UP)},appearance:h},(g=f==null?void 0:f.sign_up)==null?void 0:g.link_text):O.createElement(wa,{href:"#auth-sign-in",onClick:I=>{I.preventDefault(),M(nt.SIGN_IN)},appearance:h},(w=f==null?void 0:f.sign_in)==null?void 0:w.link_text))),T&&O.createElement(qr,{appearance:h},T),C&&O.createElement(qr,{color:"danger",appearance:h},C))}function f1({setAuthView:t=()=>{},supabaseClient:e,redirectTo:r,i18n:n,appearance:a,showLinks:i=!1}){var s;const[o,l]=b.useState(""),[c,u]=b.useState(""),[f,h]=b.useState(""),[p,v]=b.useState(!1),m=async w=>{var y;w.preventDefault(),u(""),h(""),v(!0);const{error:S}=await e.auth.resetPasswordForEmail(o,{redirectTo:r});S?u(S.message):h((y=n==null?void 0:n.forgotten_password)==null?void 0:y.confirmation_text),v(!1)},g=n==null?void 0:n.forgotten_password;return O.createElement("form",{id:"auth-forgot-password",onSubmit:m},O.createElement(Rr,{direction:"vertical",gap:"large",appearance:a},O.createElement(Rr,{gap:"large",direction:"vertical",appearance:a},O.createElement("div",null,O.createElement(Gn,{htmlFor:"email",appearance:a},g==null?void 0:g.email_label),O.createElement(Vn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:g==null?void 0:g.email_input_placeholder,onChange:w=>l(w.target.value),appearance:a})),O.createElement(js,{type:"submit",color:"primary",loading:p,appearance:a},p?g==null?void 0:g.loading_button_label:g==null?void 0:g.button_label),i&&O.createElement(wa,{href:"#auth-sign-in",onClick:w=>{w.preventDefault(),t(nt.SIGN_IN)},appearance:a},(s=n==null?void 0:n.sign_in)==null?void 0:s.link_text),f&&O.createElement(qr,{appearance:a},f),c&&O.createElement(qr,{color:"danger",appearance:a},c))))}function h1({supabaseClient:t,i18n:e,appearance:r}){const[n,a]=b.useState(""),[i,s]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!1),f=async p=>{var v;p.preventDefault(),s(""),l(""),u(!0);const{error:m}=await t.auth.updateUser({password:n});m?s(m.message):l((v=e==null?void 0:e.update_password)==null?void 0:v.confirmation_text),u(!1)},h=e==null?void 0:e.update_password;return O.createElement("form",{id:"auth-update-password",onSubmit:f},O.createElement(Rr,{gap:"large",direction:"vertical",appearance:r},O.createElement("div",null,O.createElement(Gn,{htmlFor:"password",appearance:r},h==null?void 0:h.password_label),O.createElement(Vn,{id:"password",name:"password",placeholder:h==null?void 0:h.password_input_placeholder,type:"password",autoFocus:!0,onChange:p=>a(p.target.value),appearance:r})),O.createElement(js,{type:"submit",color:"primary",loading:c,appearance:r},c?h==null?void 0:h.loading_button_label:h==null?void 0:h.button_label),o&&O.createElement(qr,{appearance:r},o),i&&O.createElement(qr,{color:"danger",appearance:r},i)))}function Nk({setAuthView:t=()=>{},supabaseClient:e,otpType:r="email",i18n:n,appearance:a,showLinks:i=!1}){var s;const[o,l]=b.useState(""),[c,u]=b.useState(""),[f,h]=b.useState(""),[p,v]=b.useState(""),[m,g]=b.useState(""),[w,y]=b.useState(!1),S=async _=>{_.preventDefault(),v(""),g(""),y(!0);let j={email:o,token:f,type:r};["sms","phone_change"].includes(r)&&(j={phone:c,token:f,type:r});const{error:C}=await e.auth.verifyOtp(j);C&&v(C.message),y(!1)},x=n==null?void 0:n.verify_otp;return O.createElement("form",{id:"auth-magic-link",onSubmit:S},O.createElement(Rr,{gap:"large",direction:"vertical",appearance:a},["sms","phone_change"].includes(r)?O.createElement("div",null,O.createElement(Gn,{htmlFor:"phone",appearance:a},x==null?void 0:x.phone_input_label),O.createElement(Vn,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:x==null?void 0:x.phone_input_placeholder,onChange:_=>u(_.target.value),appearance:a})):O.createElement("div",null,O.createElement(Gn,{htmlFor:"email",appearance:a},x==null?void 0:x.email_input_label),O.createElement(Vn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:x==null?void 0:x.email_input_placeholder,onChange:_=>l(_.target.value),appearance:a})),O.createElement("div",null,O.createElement(Gn,{htmlFor:"token",appearance:a},x==null?void 0:x.token_input_label),O.createElement(Vn,{id:"token",name:"token",type:"text",placeholder:x==null?void 0:x.token_input_placeholder,onChange:_=>h(_.target.value),appearance:a})),O.createElement(js,{color:"primary",type:"submit",loading:w,appearance:a},w?x==null?void 0:x.loading_button_label:x==null?void 0:x.button_label),i&&O.createElement(wa,{href:"#auth-sign-in",onClick:_=>{_.preventDefault(),t(nt.SIGN_IN)},appearance:a},(s=n==null?void 0:n.sign_in)==null?void 0:s.link_text),m&&O.createElement(qr,{appearance:a},m),p&&O.createElement(qr,{color:"danger",appearance:a},p)))}const p1=b.createContext({user:null,session:null}),$k=t=>{const{supabaseClient:e}=t,[r,n]=b.useState(null),[a,i]=b.useState((r==null?void 0:r.user)??null);b.useEffect(()=>{(async()=>{var l;const{data:c}=await e.auth.getSession();n(c.session),i(((l=c.session)==null?void 0:l.user)??null)})();const{data:o}=e.auth.onAuthStateChange(async(l,c)=>{n(c),i((c==null?void 0:c.user)??null)});return()=>{o==null||o.subscription.unsubscribe()}},[]);const s={session:r,user:a};return O.createElement(p1.Provider,{value:s,...t})},Mk=()=>{const t=b.useContext(p1);if(t===void 0)throw new Error("useUser must be used within a UserContextProvider.");return t};function Os({supabaseClient:t,socialLayout:e="vertical",providers:r,providerScopes:n,queryParams:a,view:i="sign_in",redirectTo:s,onlyThirdPartyProviders:o=!1,magicLink:l=!1,showLinks:c=!0,appearance:u,theme:f="default",localization:h={variables:{}},otpType:p="email",additionalData:v,children:m}){const g=yf(ak,h.variables??{}),[w,y]=b.useState(i),[S,x]=b.useState(""),[_,j]=b.useState(""),C=w==="sign_in"||w==="sign_up"||w==="magic_link";b.useEffect(()=>{var P,T;c1({theme:yf(((P=u==null?void 0:u.theme)==null?void 0:P.default)??{},((T=u==null?void 0:u.variables)==null?void 0:T.default)??{})})},[u]);const E=({children:P})=>{var T;return O.createElement("div",{className:f!=="default"?JA(yf(u==null?void 0:u.theme[f],((T=u==null?void 0:u.variables)==null?void 0:T[f])??{})):""},C&&O.createElement(kk,{appearance:u,supabaseClient:t,providers:r,providerScopes:n,queryParams:a,socialLayout:e,redirectTo:s,onlyThirdPartyProviders:o,i18n:g,view:w}),!o&&P)};b.useEffect(()=>{const{data:P}=t.auth.onAuthStateChange(T=>{T==="PASSWORD_RECOVERY"?y("update_password"):T==="USER_UPDATED"&&y("sign_in")});return y(i),()=>P.subscription.unsubscribe()},[i]);const A={supabaseClient:t,setAuthView:y,defaultEmail:S,defaultPassword:_,setDefaultEmail:x,setDefaultPassword:j,redirectTo:s,magicLink:l,showLinks:c,i18n:g,appearance:u};switch(w){case nt.SIGN_IN:return O.createElement(E,null,O.createElement(Hv,{...A,authView:"sign_in"}));case nt.SIGN_UP:return O.createElement(E,null,O.createElement(Hv,{appearance:u,supabaseClient:t,authView:"sign_up",setAuthView:y,defaultEmail:S,defaultPassword:_,setDefaultEmail:x,setDefaultPassword:j,redirectTo:s,magicLink:l,showLinks:c,i18n:g,additionalData:v,children:m}));case nt.FORGOTTEN_PASSWORD:return O.createElement(E,null,O.createElement(f1,{appearance:u,supabaseClient:t,setAuthView:y,redirectTo:s,showLinks:c,i18n:g}));case nt.MAGIC_LINK:return O.createElement(E,null,O.createElement(d1,{appearance:u,supabaseClient:t,setAuthView:y,redirectTo:s,showLinks:c,i18n:g}));case nt.UPDATE_PASSWORD:return O.createElement(h1,{appearance:u,supabaseClient:t,i18n:g});case nt.VERIFY_OTP:return O.createElement(Nk,{appearance:u,supabaseClient:t,otpType:p,i18n:g});default:return null}}Os.ForgottenPassword=f1;Os.UpdatePassword=h1;Os.MagicLink=d1;Os.UserContextProvider=$k;Os.useUser=Mk;bn({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const Ik=_s("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",info:"border-blue-500/50 text-blue-700 dark:border-blue-400 [&>svg]:text-blue-700",success:"border-green-500/50 text-green-700 dark:border-green-400 [&>svg]:text-green-700"}},defaultVariants:{variant:"default"}}),rd=b.forwardRef(({className:t,variant:e,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:G(Ik({variant:e}),t),...r}));rd.displayName="Alert";const Tm=b.forwardRef(({className:t,...e},r)=>d.jsx("h5",{ref:r,className:G("mb-1 font-medium leading-none tracking-tight",t),...e}));Tm.displayName="AlertTitle";const nd=b.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:G("text-sm [&_p]:leading-relaxed",t),...e}));nd.displayName="AlertDescription";const ot=b.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:G("rounded-lg border bg-card text-card-foreground shadow-neon",t),...e}));ot.displayName="Card";const yr=b.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:G("flex flex-col space-y-1.5 p-6",t),...e}));yr.displayName="CardHeader";const br=b.forwardRef(({className:t,...e},r)=>d.jsx("h3",{ref:r,className:G("text-2xl font-semibold leading-none tracking-tight",t),...e}));br.displayName="CardTitle";const m1=b.forwardRef(({className:t,...e},r)=>d.jsx("p",{ref:r,className:G("text-sm text-muted-foreground",t),...e}));m1.displayName="CardDescription";const xr=b.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:G("p-6 pt-0",t),...e}));xr.displayName="CardContent";const Rk=b.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:G("flex items-center p-6 pt-0",t),...e}));Rk.displayName="CardFooter";const Dk=({error:t,allowedDomainsMessage:e})=>d.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-gray-50",children:d.jsxs(ot,{className:"w-full max-w-md space-y-6 p-8 bg-white shadow-lg",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Welcome Back"}),d.jsxs("p",{className:"text-gray-500",children:["Sign in with your ",e," email"]})]}),t&&d.jsx(rd,{variant:"destructive",children:d.jsx(nd,{children:t})}),d.jsx(Os,{supabaseClient:ae,appearance:{theme:ek,variables:{default:{colors:{brand:"rgb(82 183 136)",brandAccent:"rgb(72 163 116)"}}},className:{container:"space-y-4",button:"w-full px-4 py-2 bg-primary text-white rounded hover:bg-primary/90",input:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary",label:"block text-sm font-medium text-gray-700 mb-1",message:"text-sm text-red-500"}},providers:[],view:"sign_in"})]})}),Lk=()=>{const{error:t,setError:e}=t1(),[r,n]=b.useState(!1);return b.useEffect(()=>{const a=new URLSearchParams(window.location.hash.substring(1)),i=new URLSearchParams(window.location.search),s=a.get("error_code")||i.get("error_code"),o=a.get("error_description")||i.get("error_description"),l=a.get("type")||i.get("type"),c=a.get("access_token");(l==="recovery"||l==="signup"||c)&&(n(!0),window.history.replaceState({},document.title,window.location.pathname)),s==="otp_expired"?(e("The confirmation link has expired. Please request a new one by trying to sign in again."),window.history.replaceState({},document.title,window.location.pathname)):o&&(e(decodeURIComponent(o)),window.history.replaceState({},document.title,window.location.pathname))},[e]),r?d.jsx(OA,{onReturn:()=>n(!1)}):d.jsx(Dk,{error:t,allowedDomainsMessage:wh("or")})},Cs=b.forwardRef(({className:t,...e},r)=>d.jsx("textarea",{className:G("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Cs.displayName="Textarea";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>b.createElement("svg",{ref:l,...Fk,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:g1("lucide",a),...o},[...s.map(([c,u])=>b.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement(Uk,{ref:i,iconNode:e,className:g1(`lucide-${Bk(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=$e("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=$e("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=$e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=$e("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=$e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=$e("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=$e("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=$e("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=$e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=$e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=$e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=$e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nN=({isGenerating:t,onGenerate:e})=>{const[r,n]=b.useState("");return d.jsxs("div",{className:"space-y-4",children:[d.jsx(Cs,{placeholder:"Add any specific focus areas or constraints...",value:r,onChange:a=>n(a.target.value),className:"min-h-[100px]"}),d.jsx(J,{onClick:()=>e(r),disabled:t,className:"w-full",variant:"default",children:t?d.jsxs(d.Fragment,{children:[d.jsx(Eo,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Ideas..."]}):d.jsxs(d.Fragment,{children:[d.jsx(tN,{className:"mr-2 h-4 w-4"}),"Generate Strategic Ideas"]})})]})},To=hm,aN=pm,iN=fm,j1=b.forwardRef(({className:t,...e},r)=>d.jsx(Nl,{ref:r,className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));j1.displayName=Nl.displayName;const qi=b.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(iN,{children:[d.jsx(j1,{}),d.jsxs($l,{ref:n,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,d.jsxs(Gu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(sd,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qi.displayName=$l.displayName;const Wi=({className:t,...e})=>d.jsx("div",{className:G("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Wi.displayName="DialogHeader";const Hi=b.forwardRef(({className:t,...e},r)=>d.jsx(Ml,{ref:r,className:G("text-lg font-semibold leading-none tracking-tight",t),...e}));Hi.displayName=Ml.displayName;const Oh=b.forwardRef(({className:t,...e},r)=>d.jsx(Il,{ref:r,className:G("text-sm text-muted-foreground",t),...e}));Oh.displayName=Il.displayName;const Ce=b.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ce.displayName="Input";function Ch(t,[e,r]){return Math.min(r,Math.max(e,t))}function km(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var sN="VisuallyHidden",od=b.forwardRef((t,e)=>d.jsx(ke.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));od.displayName=sN;var oN=[" ","Enter","ArrowUp","ArrowDown"],lN=[" ","Enter"],Bl="Select",[ld,cd,cN]=aw(Bl),[Ts,eie]=Qa(Bl,[cN,iw]),ud=iw(),[uN,na]=Ts(Bl),[dN,fN]=Ts(Bl),O1=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:p,form:v}=t,m=ud(e),[g,w]=b.useState(null),[y,S]=b.useState(null),[x,_]=b.useState(!1),j=ow(c),[C=!1,E]=jo({prop:n,defaultProp:a,onChange:i}),[A,P]=jo({prop:s,defaultProp:o,onChange:l}),T=b.useRef(null),N=g?v||!!g.closest("form"):!0,[D,M]=b.useState(new Set),R=Array.from(D).map(I=>I.props.value).join(";");return d.jsx(YC,{...m,children:d.jsxs(uN,{required:p,scope:e,trigger:g,onTriggerChange:w,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:x,onValueNodeHasChildrenChange:_,contentId:mm(),value:A,onValueChange:P,open:C,onOpenChange:E,dir:j,triggerPointerDownPosRef:T,disabled:h,children:[d.jsx(ld.Provider,{scope:e,children:d.jsx(dN,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(I=>{M(B=>new Set(B).add(I))},[]),onNativeOptionRemove:b.useCallback(I=>{M(B=>{const U=new Set(B);return U.delete(I),U})},[]),children:r})}),N?d.jsxs(Q1,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:A,onChange:I=>P(I.target.value),disabled:h,form:v,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(D)]},R):null]})})};O1.displayName=Bl;var C1="SelectTrigger",E1=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=ud(r),s=na(C1,r),o=s.disabled||n,l=rt(e,s.onTriggerChange),c=cd(r),u=b.useRef("touch"),[f,h,p]=Z1(m=>{const g=c().filter(S=>!S.disabled),w=g.find(S=>S.value===s.value),y=X1(g,m,w);y!==void 0&&s.onValueChange(y.value)}),v=m=>{o||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return d.jsx(UC,{asChild:!0,...i,children:d.jsx(ke.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Y1(s.value)?"":void 0,...a,ref:l,onClick:we(a.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:we(a.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:we(a.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&oN.includes(m.key)&&(v(),m.preventDefault())})})})});E1.displayName=C1;var T1="SelectValue",P1=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...o}=t,l=na(T1,r),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,f=rt(e,l.onValueNodeChange);return er(()=>{c(u)},[c,u]),d.jsx(ke.span,{...o,ref:f,style:{pointerEvents:"none"},children:Y1(l.value)?d.jsx(d.Fragment,{children:s}):i})});P1.displayName=T1;var hN="SelectIcon",A1=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return d.jsx(ke.span,{"aria-hidden":!0,...a,ref:e,children:n||"▼"})});A1.displayName=hN;var pN="SelectPortal",k1=t=>d.jsx(sw,{asChild:!0,...t});k1.displayName=pN;var za="SelectContent",N1=b.forwardRef((t,e)=>{const r=na(za,t.__scopeSelect),[n,a]=b.useState();if(er(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ku.createPortal(d.jsx($1,{scope:t.__scopeSelect,children:d.jsx(ld.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(M1,{...t,ref:e})});N1.displayName=za;var lr=10,[$1,aa]=Ts(za),mN="SelectContentImpl",M1=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g,...w}=t,y=na(za,r),[S,x]=b.useState(null),[_,j]=b.useState(null),C=rt(e,se=>x(se)),[E,A]=b.useState(null),[P,T]=b.useState(null),N=cd(r),[D,M]=b.useState(!1),R=b.useRef(!1);b.useEffect(()=>{if(S)return zC(S)},[S]),qC();const I=b.useCallback(se=>{const[Te,...W]=N().map(F=>F.ref.current),[X]=W.slice(-1),re=document.activeElement;for(const F of se)if(F===re||(F==null||F.scrollIntoView({block:"nearest"}),F===Te&&_&&(_.scrollTop=0),F===X&&_&&(_.scrollTop=_.scrollHeight),F==null||F.focus(),document.activeElement!==re))return},[N,_]),B=b.useCallback(()=>I([E,S]),[I,E,S]);b.useEffect(()=>{D&&B()},[D,B]);const{onOpenChange:U,triggerPointerDownPosRef:q}=y;b.useEffect(()=>{if(S){let se={x:0,y:0};const Te=X=>{var re,F;se={x:Math.abs(Math.round(X.pageX)-(((re=q.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(X.pageY)-(((F=q.current)==null?void 0:F.y)??0))}},W=X=>{se.x<=10&&se.y<=10?X.preventDefault():S.contains(X.target)||U(!1),document.removeEventListener("pointermove",Te),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",W,{capture:!0})}}},[S,U,q]),b.useEffect(()=>{const se=()=>U(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[U]);const[ie,V]=Z1(se=>{const Te=N().filter(re=>!re.disabled),W=Te.find(re=>re.ref.current===document.activeElement),X=X1(Te,se,W);X&&setTimeout(()=>X.ref.current.focus())}),Y=b.useCallback((se,Te,W)=>{const X=!R.current&&!W;(y.value!==void 0&&y.value===Te||X)&&(A(se),X&&(R.current=!0))},[y.value]),ce=b.useCallback(()=>S==null?void 0:S.focus(),[S]),Se=b.useCallback((se,Te,W)=>{const X=!R.current&&!W;(y.value!==void 0&&y.value===Te||X)&&T(se)},[y.value]),Je=n==="popper"?Eh:I1,Et=Je===Eh?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return d.jsx($1,{scope:r,content:S,viewport:_,onViewportChange:j,itemRefCallback:Y,selectedItem:E,onItemLeave:ce,itemTextRefCallback:Se,focusSelectedItem:B,selectedItemText:P,position:n,isPositioned:D,searchRef:ie,children:d.jsx(WC,{as:dm,allowPinchZoom:!0,children:d.jsx(HC,{asChild:!0,trapped:y.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:we(a,se=>{var Te;(Te=y.trigger)==null||Te.focus({preventScroll:!0}),se.preventDefault()}),children:d.jsx(VC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:d.jsx(Je,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:se=>se.preventDefault(),...w,...Et,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:we(w.onKeyDown,se=>{const Te=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Te&&se.key.length===1&&V(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let X=N().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(se.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const re=se.target,F=X.indexOf(re);X=X.slice(F+1)}setTimeout(()=>I(X)),se.preventDefault()}})})})})})})});M1.displayName=mN;var gN="SelectItemAlignedPosition",I1=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=na(za,r),s=aa(za,r),[o,l]=b.useState(null),[c,u]=b.useState(null),f=rt(e,C=>u(C)),h=cd(r),p=b.useRef(!1),v=b.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:w,focusSelectedItem:y}=s,S=b.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&c&&m&&g&&w){const C=i.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(i.dir!=="rtl"){const re=P.left-E.left,F=A.left-re,Re=C.left-F,ve=C.width+Re,Ze=Math.max(ve,E.width),Ye=window.innerWidth-lr,vt=Ch(F,[lr,Math.max(lr,Ye-Ze)]);o.style.minWidth=ve+"px",o.style.left=vt+"px"}else{const re=E.right-P.right,F=window.innerWidth-A.right-re,Re=window.innerWidth-C.right-F,ve=C.width+Re,Ze=Math.max(ve,E.width),Ye=window.innerWidth-lr,vt=Ch(F,[lr,Math.max(lr,Ye-Ze)]);o.style.minWidth=ve+"px",o.style.right=vt+"px"}const T=h(),N=window.innerHeight-lr*2,D=m.scrollHeight,M=window.getComputedStyle(c),R=parseInt(M.borderTopWidth,10),I=parseInt(M.paddingTop,10),B=parseInt(M.borderBottomWidth,10),U=parseInt(M.paddingBottom,10),q=R+I+D+U+B,ie=Math.min(g.offsetHeight*5,q),V=window.getComputedStyle(m),Y=parseInt(V.paddingTop,10),ce=parseInt(V.paddingBottom,10),Se=C.top+C.height/2-lr,Je=N-Se,Et=g.offsetHeight/2,se=g.offsetTop+Et,Te=R+I+se,W=q-Te;if(Te<=Se){const re=T.length>0&&g===T[T.length-1].ref.current;o.style.bottom="0px";const F=c.clientHeight-m.offsetTop-m.offsetHeight,Re=Math.max(Je,Et+(re?ce:0)+F+B),ve=Te+Re;o.style.height=ve+"px"}else{const re=T.length>0&&g===T[0].ref.current;o.style.top="0px";const Re=Math.max(Se,R+m.offsetTop+(re?Y:0)+Et)+W;o.style.height=Re+"px",m.scrollTop=Te-Se+m.offsetTop}o.style.margin=`${lr}px 0`,o.style.minHeight=ie+"px",o.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,o,c,m,g,w,i.dir,n]);er(()=>S(),[S]);const[x,_]=b.useState();er(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const j=b.useCallback(C=>{C&&v.current===!0&&(S(),y==null||y(),v.current=!1)},[S,y]);return d.jsx(yN,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:d.jsx(ke.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});I1.displayName=gN;var vN="SelectPopperPosition",Eh=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=lr,...i}=t,s=ud(r);return d.jsx(GC,{...s,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Eh.displayName=vN;var[yN,Nm]=Ts(za,{}),Th="SelectViewport",R1=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=aa(Th,r),s=Nm(Th,r),o=rt(e,i.onViewportChange),l=b.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(ld.Slot,{scope:r,children:d.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:we(a.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(l.current-u.scrollTop);if(p>0){const v=window.innerHeight-lr*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),w=Math.max(m,g);if(w<v){const y=w+p,S=Math.min(v,y),x=y-S;f.style.height=S+"px",f.style.bottom==="0px"&&(u.scrollTop=x>0?x:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});R1.displayName=Th;var D1="SelectGroup",[bN,xN]=Ts(D1),wN=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=mm();return d.jsx(bN,{scope:r,id:a,children:d.jsx(ke.div,{role:"group","aria-labelledby":a,...n,ref:e})})});wN.displayName=D1;var L1="SelectLabel",B1=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=xN(L1,r);return d.jsx(ke.div,{id:a.id,...n,ref:e})});B1.displayName=L1;var Lc="SelectItem",[_N,F1]=Ts(Lc),U1=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=t,o=na(Lc,r),l=aa(Lc,r),c=o.value===n,[u,f]=b.useState(i??""),[h,p]=b.useState(!1),v=rt(e,y=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,y,n,a)}),m=mm(),g=b.useRef("touch"),w=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(_N,{scope:r,value:n,disabled:a,textId:m,isSelected:c,onItemTextChange:b.useCallback(y=>{f(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:d.jsx(ld.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:d.jsx(ke.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:v,onFocus:we(s.onFocus,()=>p(!0)),onBlur:we(s.onBlur,()=>p(!1)),onClick:we(s.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:we(s.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:we(s.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:we(s.onPointerMove,y=>{var S;g.current=y.pointerType,a?(S=l.onItemLeave)==null||S.call(l):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(s.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:we(s.onKeyDown,y=>{var x;((x=l.searchRef)==null?void 0:x.current)!==""&&y.key===" "||(lN.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});U1.displayName=Lc;var co="SelectItemText",z1=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,s=na(co,r),o=aa(co,r),l=F1(co,r),c=fN(co,r),[u,f]=b.useState(null),h=rt(e,w=>f(w),l.onItemTextChange,w=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,w,l.value,l.disabled)}),p=u==null?void 0:u.textContent,v=b.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return er(()=>(m(v),()=>g(v)),[m,g,v]),d.jsxs(d.Fragment,{children:[d.jsx(ke.span,{id:l.textId,...i,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ku.createPortal(i.children,s.valueNode):null]})});z1.displayName=co;var q1="SelectItemIndicator",W1=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return F1(q1,r).isSelected?d.jsx(ke.span,{"aria-hidden":!0,...n,ref:e}):null});W1.displayName=q1;var Ph="SelectScrollUpButton",H1=b.forwardRef((t,e)=>{const r=aa(Ph,t.__scopeSelect),n=Nm(Ph,t.__scopeSelect),[a,i]=b.useState(!1),s=rt(e,n.onScrollButtonChange);return er(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;i(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?d.jsx(G1,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});H1.displayName=Ph;var Ah="SelectScrollDownButton",V1=b.forwardRef((t,e)=>{const r=aa(Ah,t.__scopeSelect),n=Nm(Ah,t.__scopeSelect),[a,i]=b.useState(!1),s=rt(e,n.onScrollButtonChange);return er(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?d.jsx(G1,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});V1.displayName=Ah;var G1=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=aa("SelectScrollButton",r),s=b.useRef(null),o=cd(r),l=b.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),er(()=>{var u;const c=o().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),d.jsx(ke.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:we(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:we(a.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:we(a.onPointerLeave,()=>{l()})})}),SN="SelectSeparator",K1=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return d.jsx(ke.div,{"aria-hidden":!0,...n,ref:e})});K1.displayName=SN;var kh="SelectArrow",jN=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=ud(r),i=na(kh,r),s=aa(kh,r);return i.open&&s.position==="popper"?d.jsx(KC,{...a,...n,ref:e}):null});jN.displayName=kh;function Y1(t){return t===""||t===void 0}var Q1=b.forwardRef((t,e)=>{const{value:r,...n}=t,a=b.useRef(null),i=rt(e,a),s=km(r);return b.useEffect(()=>{const o=a.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==r&&u){const f=new Event("change",{bubbles:!0});u.call(o,r),o.dispatchEvent(f)}},[s,r]),d.jsx(od,{asChild:!0,children:d.jsx("select",{...n,ref:i,defaultValue:r})})});Q1.displayName="BubbleSelect";function Z1(t){const e=Ht(t),r=b.useRef(""),n=b.useRef(0),a=b.useCallback(s=>{const o=r.current+s;e(o),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function X1(t,e,r){const a=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=ON(t,Math.max(i,0));a.length===1&&(s=s.filter(c=>c!==r));const l=s.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function ON(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var CN=O1,J1=E1,EN=P1,TN=A1,PN=k1,e_=N1,AN=R1,t_=B1,r_=U1,kN=z1,NN=W1,n_=H1,a_=V1,i_=K1;const Dr=CN,Lr=EN,wr=b.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(J1,{ref:n,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,d.jsx(TN,{asChild:!0,children:d.jsx(v1,{className:"h-4 w-4 opacity-50"})})]}));wr.displayName=J1.displayName;const s_=b.forwardRef(({className:t,...e},r)=>d.jsx(n_,{ref:r,className:G("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Wk,{className:"h-4 w-4"})}));s_.displayName=n_.displayName;const o_=b.forwardRef(({className:t,...e},r)=>d.jsx(a_,{ref:r,className:G("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(v1,{className:"h-4 w-4"})}));o_.displayName=a_.displayName;const _r=b.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>d.jsx(PN,{children:d.jsxs(e_,{ref:a,className:G("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[d.jsx(s_,{}),d.jsx(AN,{className:G("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(o_,{})]})}));_r.displayName=e_.displayName;const $N=b.forwardRef(({className:t,...e},r)=>d.jsx(t_,{ref:r,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$N.displayName=t_.displayName;const le=b.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(r_,{ref:n,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(NN,{children:d.jsx(id,{className:"h-4 w-4"})})}),d.jsx(kN,{children:e})]}));le.displayName=r_.displayName;const MN=b.forwardRef(({className:t,...e},r)=>d.jsx(i_,{ref:r,className:G("-mx-1 my-1 h-px bg-muted",t),...e}));MN.displayName=i_.displayName;var $m="Switch",[IN,tie]=Qa($m),[RN,DN]=IN($m),l_=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:l="on",onCheckedChange:c,form:u,...f}=t,[h,p]=b.useState(null),v=rt(e,S=>p(S)),m=b.useRef(!1),g=h?u||!!h.closest("form"):!0,[w=!1,y]=jo({prop:a,defaultProp:i,onChange:c});return d.jsxs(RN,{scope:r,checked:w,disabled:o,children:[d.jsx(ke.button,{type:"button",role:"switch","aria-checked":w,"aria-required":s,"data-state":d_(w),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onClick:we(t.onClick,S=>{y(x=>!x),g&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),g&&d.jsx(LN,{control:h,bubbles:!m.current,name:n,value:l,checked:w,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});l_.displayName=$m;var c_="SwitchThumb",u_=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=DN(c_,r);return d.jsx(ke.span,{"data-state":d_(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});u_.displayName=c_;var LN=t=>{const{control:e,checked:r,bubbles:n=!0,...a}=t,i=b.useRef(null),s=km(r),o=lw(e);return b.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[s,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function d_(t){return t?"checked":"unchecked"}var f_=l_,BN=u_;const Po=b.forwardRef(({className:t,...e},r)=>d.jsx(f_,{className:G("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:d.jsx(BN,{className:G("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Po.displayName=f_.displayName;var FN="Label",h_=b.forwardRef((t,e)=>d.jsx(ke.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));h_.displayName=FN;var p_=h_;const UN=_s("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),at=b.forwardRef(({className:t,...e},r)=>d.jsx(p_,{ref:r,className:G(UN(),t),...e}));at.displayName=p_.displayName;const zN=1,qN=1e6;let bf=0;function WN(){return bf=(bf+1)%Number.MAX_SAFE_INTEGER,bf.toString()}const xf=new Map,Vv=t=>{if(xf.has(t))return;const e=setTimeout(()=>{xf.delete(t),yo({type:"REMOVE_TOAST",toastId:t})},qN);xf.set(t,e)},HN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,zN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Vv(r):t.toasts.forEach(n=>{Vv(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},$c=[];let Mc={toasts:[]};function yo(t){Mc=HN(Mc,t),$c.forEach(e=>{e(Mc)})}function ne({...t}){const e=WN(),r=a=>yo({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>yo({type:"DISMISS_TOAST",toastId:e});return yo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function Fl(){const[t,e]=b.useState(Mc);return b.useEffect(()=>($c.push(e),()=>{const r=$c.indexOf(e);r>-1&&$c.splice(r,1)}),[]),{...t,toast:ne,dismiss:r=>yo({type:"DISMISS_TOAST",toastId:r})}}const m_=()=>{const t=it(),[e,r]=b.useState(!1),n=async()=>{$.info("Invalidating task queries"),t.removeQueries({queryKey:["tasks"]}),await t.invalidateQueries({queryKey:["tasks"]}),await t.refetchQueries({queryKey:["tasks"]})},a=po({mutationFn:async({task:o,completed:l})=>{r(!0),$.info(`Updating task ${o.id} completion to ${l}`);const{data:c,error:u}=await ae.from("tasks").update({status:l?"completed":"incomplete",updated_at:new Date().toISOString()}).eq("id",o.id).select();if(kc({data:c},u,"updateTaskCompletion"),u)throw u;return{taskId:o.id,completed:l,data:c}},onSuccess:()=>{n(),ne({title:"Task updated",description:"Task completion status has been updated"})},onError:o=>{$.error("Error updating task completion:",o),ne({title:"Update failed",description:"Failed to update task. Please try again.",variant:"destructive"})},onSettled:()=>{r(!1)}}),i=po({mutationFn:async({task:o,urgent:l})=>{r(!0),$.info(`Updating task ${o.id} urgency to ${l}`);const{data:c,error:u}=await ae.from("tasks").update({urgent:l,updated_at:new Date().toISOString()}).eq("id",o.id).select();if(kc({data:c},u,"updateTaskUrgency"),u)throw u;return{taskId:o.id,urgent:l,data:c}},onSuccess:()=>{n(),ne({title:"Task updated",description:"Task urgency has been updated"})},onError:o=>{$.error("Error updating task urgency:",o),ne({title:"Update failed",description:"Failed to update task urgency. Please try again.",variant:"destructive"})},onSettled:()=>{r(!1)}}),s=po({mutationFn:async o=>{r(!0),$.info(`Deleting task ${o.id}`);const{error:l}=await ae.from("tasks").delete().eq("id",o.id);if(kc(void 0,l,"deleteTask"),l)throw l;return{taskId:o.id}},onSuccess:()=>{n(),ne({title:"Task deleted",description:"Task has been removed successfully"})},onError:o=>{$.error("Error deleting task:",o),ne({title:"Delete failed",description:"Failed to delete task. Please try again.",variant:"destructive"})},onSettled:()=>{r(!1)}});return{isProcessing:e,updateCompletion:(o,l)=>a.mutate({task:o,completed:l}),updateUrgency:(o,l)=>i.mutate({task:o,urgent:l}),deleteTask:o=>s.mutate(o),invalidateTaskQueries:n}};function VN(t,e={}){const{onSuccess:r,onError:n,successMessage:a,errorMessage:i="An error occurred",showToasts:s=!0,logErrors:o=!0}=e,[l,c]=b.useState({data:null,error:null,isLoading:!1}),u=b.useCallback(async f=>{c({data:null,error:null,isLoading:!0});try{const h=await t(f);return c({data:h,error:null,isLoading:!1}),r&&r(h),s&&a&&ne({title:"Success",description:a}),h}catch(h){const p=h instanceof Error?h:new Error(String(h));return c({data:null,error:p,isLoading:!1}),n&&n(p),s&&ne({title:"Error",description:i||p.message,variant:"destructive"}),o&&$.error("API request failed",{error:p,params:f}),null}},[t,r,n,a,i,s,o]);return{...l,execute:u,reset:b.useCallback(()=>{c({data:null,error:null,isLoading:!1})},[])}}const Gv=["Marketing","Product Development","Partnerships","Business Admin"],GN=({task:t,onSaved:e,onCancel:r,defaultCategory:n})=>{Fl();const{invalidateTaskQueries:a}=m_(),[i,s]=b.useState((t==null?void 0:t.title)||""),[o,l]=b.useState((t==null?void 0:t.description)||""),[c,u]=b.useState((t==null?void 0:t.category)||n||Gv[0]),[f,h]=b.useState(t!=null&&t.due_date?new Date(t.due_date).toISOString().split("T")[0]:""),[p,v]=b.useState((t==null?void 0:t.urgent)||!1),{execute:m,isLoading:g}=VN(async y=>{const{data:{user:S}}=await ae.auth.getUser();if(t!=null&&t.id){const{error:x}=await ae.from("tasks").update({...y,updated_at:new Date().toISOString(),updated_by:S==null?void 0:S.id}).eq("id",t.id);if(x)throw x;return{success:!0,message:"Task updated successfully"}}else{const{error:x}=await ae.from("tasks").insert({...y,created_by:S==null?void 0:S.id,status:"incomplete"});if(x)throw x;return{success:!0,message:"Task created successfully"}}},{onSuccess:async()=>{await a(),e()},successMessage:t?"Task updated successfully":"Task created successfully",errorMessage:"There was an error saving the task. Please try again."}),w=async y=>{y.preventDefault();const S={title:i,description:o,category:c,due_date:f?new Date(f).toISOString():null,urgent:p};$.info("Submitting task form",{isUpdate:!!(t!=null&&t.id),formData:S}),await m(S)};return d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),d.jsx(Ce,{id:"title",value:i,onChange:y=>s(y.target.value),placeholder:"Enter task title",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),d.jsx(Cs,{id:"description",value:o,onChange:y=>l(y.target.value),placeholder:"Enter task description",rows:3})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"category",className:"text-sm font-medium",children:"Category"}),d.jsxs(Dr,{value:c,onValueChange:u,children:[d.jsx(wr,{children:d.jsx(Lr,{placeholder:"Select a category"})}),d.jsx(_r,{children:Gv.map(y=>d.jsx(le,{value:y,children:y},y))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"dueDate",className:"text-sm font-medium",children:"Due Date"}),d.jsx(Ce,{id:"dueDate",type:"date",value:f,onChange:y=>h(y.target.value)})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Po,{id:"urgent",checked:p,onCheckedChange:v}),d.jsx(at,{htmlFor:"urgent",children:"Mark as Urgent"})]}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(J,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),d.jsx(J,{type:"submit",disabled:g,children:g?"Saving...":t?"Update Task":"Create Task"})]})]})},Vi=({isOpen:t,onOpenChange:e,task:r,onSaved:n,defaultCategory:a})=>d.jsx(To,{open:t,onOpenChange:e,children:d.jsxs(qi,{children:[d.jsx(Wi,{children:d.jsx(Hi,{children:r?"Edit Task":"Add New Task"})}),d.jsx(GN,{task:r,onSaved:n,onCancel:()=>e(!1),defaultCategory:a})]})});var g_="AlertDialog",[KN,rie]=Qa(g_,[cw]),xn=cw(),v_=t=>{const{__scopeAlertDialog:e,...r}=t,n=xn(e);return d.jsx(hm,{...n,...r,modal:!0})};v_.displayName=g_;var YN="AlertDialogTrigger",QN=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=xn(r);return d.jsx(pm,{...a,...n,ref:e})});QN.displayName=YN;var ZN="AlertDialogPortal",y_=t=>{const{__scopeAlertDialog:e,...r}=t,n=xn(e);return d.jsx(fm,{...n,...r})};y_.displayName=ZN;var XN="AlertDialogOverlay",b_=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=xn(r);return d.jsx(Nl,{...a,...n,ref:e})});b_.displayName=XN;var wi="AlertDialogContent",[JN,e$]=KN(wi),x_=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=xn(r),s=b.useRef(null),o=rt(e,s),l=b.useRef(null);return d.jsx(QC,{contentName:wi,titleName:w_,docsSlug:"alert-dialog",children:d.jsx(JN,{scope:r,cancelRef:l,children:d.jsxs($l,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:we(a.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(ZC,{children:n}),d.jsx(r$,{contentRef:s})]})})})});x_.displayName=wi;var w_="AlertDialogTitle",__=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=xn(r);return d.jsx(Ml,{...a,...n,ref:e})});__.displayName=w_;var S_="AlertDialogDescription",j_=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=xn(r);return d.jsx(Il,{...a,...n,ref:e})});j_.displayName=S_;var t$="AlertDialogAction",O_=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=xn(r);return d.jsx(Gu,{...a,...n,ref:e})});O_.displayName=t$;var C_="AlertDialogCancel",E_=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=e$(C_,r),i=xn(r),s=rt(e,a);return d.jsx(Gu,{...i,...n,ref:s})});E_.displayName=C_;var r$=({contentRef:t})=>{const e=`\`${wi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wi}\` by passing a \`${S_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},n$=v_,a$=y_,T_=b_,P_=x_,A_=O_,k_=E_,N_=__,$_=j_;const dd=n$,i$=a$,M_=b.forwardRef(({className:t,...e},r)=>d.jsx(T_,{className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));M_.displayName=T_.displayName;const Ul=b.forwardRef(({className:t,...e},r)=>d.jsxs(i$,{children:[d.jsx(M_,{}),d.jsx(P_,{ref:r,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ul.displayName=P_.displayName;const zl=({className:t,...e})=>d.jsx("div",{className:G("flex flex-col space-y-2 text-center sm:text-left",t),...e});zl.displayName="AlertDialogHeader";const ql=({className:t,...e})=>d.jsx("div",{className:G("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ql.displayName="AlertDialogFooter";const Wl=b.forwardRef(({className:t,...e},r)=>d.jsx(N_,{ref:r,className:G("text-lg font-semibold",t),...e}));Wl.displayName=N_.displayName;const Hl=b.forwardRef(({className:t,...e},r)=>d.jsx($_,{ref:r,className:G("text-sm text-muted-foreground",t),...e}));Hl.displayName=$_.displayName;const Vl=b.forwardRef(({className:t,...e},r)=>d.jsx(A_,{ref:r,className:G(Cm(),t),...e}));Vl.displayName=A_.displayName;const Gl=b.forwardRef(({className:t,...e},r)=>d.jsx(k_,{ref:r,className:G(Cm({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Gl.displayName=k_.displayName;const s$=({open:t,onOpenChange:e,onConfirm:r})=>d.jsx(dd,{open:t,onOpenChange:e,children:d.jsxs(Ul,{children:[d.jsxs(zl,{children:[d.jsx(Wl,{children:"Create Task"}),d.jsx(Hl,{children:"Do you want to create a task from this idea?"})]}),d.jsxs(ql,{children:[d.jsx(Gl,{children:"Cancel"}),d.jsx(Vl,{onClick:r,children:"Create Task"})]})]})}),o$=({category:t,onTaskSaved:e})=>{const[r,n]=b.useState(!1),[a,i]=b.useState(null),[s,o]=b.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(s$,{open:s,onOpenChange:o,onConfirm:()=>{o(!1),n(!0)}}),d.jsx(Vi,{isOpen:r,onOpenChange:n,task:a?{id:"",title:a.suggestion,description:`Type: ${a.type}
Priority: ${a.priority}`,category:t,status:"incomplete",due_date:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),urgent:a.priority==="High",client_id:null,updated_by:null,created_by:null,type:"idea"}:null,onSaved:()=>{n(!1),e()}})]})},l$=(t,e)=>{const[r,n]=b.useState(!1);return{isGenerating:r,generateIdeas:async i=>{try{n(!0),$.info("Generating ideas for category:",t);const{error:s}=await ae.from("tasks").delete().eq("category",t).is("due_date",null).eq("status","incomplete");if(s)throw $.error("Error deleting existing tasks:",s),s;let l=[{suggestion:`Create a content strategy for ${t}`,priority:"high",type:"opportunity"},{suggestion:`Develop a monthly ${t} newsletter`,priority:"medium",type:"engagement"},{suggestion:`Research current trends in ${t}`,priority:"medium",type:"opportunity"}];try{await new Promise(h=>setTimeout(h,100));const{data:u,error:f}=await ae.functions.invoke("analyze-client",{body:{prompt:i||void 0,category:t,type:"strategy"}});if($.info("Response from Edge Function:",u,f),f)throw $.error("Error from Edge Function:",f),f;u!=null&&u.recommendations&&Array.isArray(u.recommendations)?l=u.recommendations:$.info("Invalid response format, using fallback recommendations")}catch(u){$.error("Error generating ideas:",u),ne({title:"Using default recommendations",description:"Could not connect to the idea generator service. Using default recommendations instead.",variant:"destructive"})}const c=l.map(u=>ae.from("tasks").insert({title:u.suggestion,description:`Type: ${u.type}
Priority: ${u.priority}`,category:t,status:"incomplete",due_date:null}));try{const u=await Promise.allSettled(c);u.forEach((f,h)=>{f.status==="rejected"?$.error(`Error inserting task ${h}:`,f.reason):$.info(`Successfully inserted task ${h}`)}),u.some(f=>f.status==="fulfilled")?(ne({title:"Ideas Generated",description:"Click on any idea to convert it into a task."}),e()):ne({title:"Error",description:"Ideas couldn't be saved. Please try again.",variant:"destructive"})}catch(u){$.error("Error inserting tasks:",u),ne({title:"Error",description:"Some ideas couldn't be saved. Please try again.",variant:"destructive"})}}catch(s){$.error("Error generating ideas:",s),ne({title:"Error",description:"Failed to generate ideas. Please try again.",variant:"destructive"})}finally{n(!1)}}}},c$=({category:t,onIdeaGenerated:e})=>{b.useState(null);const{isGenerating:r,generateIdeas:n}=l$(t,e),a=i=>{$.info("Generating ideas with prompt:",i),n(i)};return d.jsxs("div",{className:"space-y-4",children:[d.jsx(nN,{isGenerating:r,onGenerate:a}),d.jsx(o$,{category:t,onTaskSaved:e})]})},u$=(t,e)=>{var n;if(e||t.client_id)return"bg-[#FEC6A1]/50 hover:bg-[#FEC6A1]/70";const r=((n=t.category)==null?void 0:n.toLowerCase())||"";return r==="business admin"?"bg-gray-100 hover:bg-gray-200":r==="marketing"?"bg-[#F0D4FA]/50 hover:bg-[#F0D4FA]/70":r==="product development"?"bg-blue-100 hover:bg-blue-200":r==="partnerships"?"bg-green-100 hover:bg-green-200":"bg-gray-50 hover:bg-gray-100"},d$=({task:t,isClientTask:e=!1})=>{const r=u$(t,e),n=t.title.match(/Strategic Recommendation for (.+)/),a=n?`${n[1]} Strategic Recommendation`:t.title;let i=t.description||"No description provided";if(n&&i.includes("Type:")){const[o,...l]=i.split(`

`);i=l.join(`

`)}const s=t.next_due_date?new Date(t.next_due_date)<new Date:!1;return d.jsx("div",{className:G("p-6 rounded-lg transition-colors text-left",r,"relative group"),children:d.jsxs("div",{className:"flex items-start justify-between gap-6",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:a}),d.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap leading-relaxed",children:i}),t.next_due_date&&d.jsxs("p",{className:G("mt-3 text-sm flex items-center",s?"text-red-600 font-medium":"text-gray-500"),children:["Due: ",new Date(t.next_due_date).toLocaleDateString()]})]}),t.urgent&&d.jsx("span",{className:"px-3 py-1 text-xs font-medium text-red-700 bg-red-100 rounded-full shrink-0",children:"Urgent"})]})})},f$=t=>"bg-[#FEC6A1]/50 hover:bg-[#FEC6A1] transition-all duration-300",h$=({nextStep:t})=>{var n;const e=yn(),r=()=>{t.client_id&&e(`/client/${t.client_id}`)};return d.jsxs("div",{className:`p-3 rounded-lg ${f$(t.client_name||"")} ${t.urgent?"bg-red-50/50":""}`,onClick:r,children:[d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"h-6 w-6 rounded-full bg-orange-500 flex items-center justify-center text-white text-xs font-bold",children:((n=t.client_name)==null?void 0:n.charAt(0).toUpperCase())||"?"}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:t.client_name||"Unknown Client"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.notes||"No description"})]})]})}),d.jsxs("div",{className:"mt-2 text-sm flex items-center gap-2 text-gray-500",children:[d.jsx(ad,{size:14}),t.due_date?new Date(t.due_date).toLocaleDateString():"No deadline set"]})]})};function Br({className:t,...e}){return d.jsx("div",{className:G("animate-pulse rounded-md bg-muted",t),...e})}const Fe={clients:{all:()=>["clients"],lists:()=>[...Fe.clients.all(),"list"],list:(t={})=>[...Fe.clients.lists(),t],details:()=>[...Fe.clients.all(),"detail"],detail:t=>[...Fe.clients.details(),t]},tasks:{all:()=>["tasks"],unified:()=>["unified-tasks"],general:()=>["generalTasks"],next:()=>["nextSteps"],list:(t={})=>[...Fe.tasks.all(),t],clientItems:t=>[...Fe.tasks.all(),"client",t]},revenue:{all:()=>["revenue"],monthly:()=>["monthly-revenue"],annual:()=>["annual-revenue"],forecast:()=>["forecast"]}},I_=t=>{const[e,r]=b.useState(!1),n=it();return{deleteTask:async i=>{if(!(i!=null&&i.id))return $.error("No valid task ID provided for deletion"),!1;if(e)return $.info("Already processing a deletion"),!1;r(!0),$.info(`[DELETE] Starting deletion for task ID: ${i.id}`);try{const{error:s}=await ae.from("tasks").delete().eq("id",i.id);if(s)throw s;return $.info("[DELETE] Successfully deleted task"),n.setQueryData(["tasks"],o=>(o==null?void 0:o.filter(l=>l.id!==i.id))||[]),n.setQueryData(Fe.tasks.list(),o=>(o==null?void 0:o.filter(l=>l.id!==i.id))||[]),["generalTasks","unified-tasks","clientTasks"].forEach(o=>{n.setQueryData([o],l=>(l==null?void 0:l.filter(c=>c.id!==i.id))||[])}),setTimeout(()=>{n.invalidateQueries({queryKey:["tasks"]})},500),ne({title:"Task deleted",description:"The task has been removed successfully."}),t&&setTimeout(t,100),!0}catch(s){return $.error("[DELETE] Error deleting task:",s),ne({title:"Error",description:"Failed to delete task. Please try again.",variant:"destructive"}),!1}finally{r(!1)}},isDeleting:e}},p$=t=>{const[e,r]=b.useState(!1),n=it(),{deleteTask:a}=I_(()=>{$.info("[STRATEGY] Deletion callback executed"),n.refetchQueries({queryKey:Fe.tasks.general()}),n.refetchQueries({queryKey:Fe.tasks.unified()}),n.refetchQueries({queryKey:["tasks"]}),t&&setTimeout(t,100)});return{deleteTask:async s=>{if(!s)return $.error("[STRATEGY] No task provided for deletion"),!1;if(e)return!1;r(!0);try{return await a(s)}catch(o){return $.error("[STRATEGY] Error in deletion process:",o),ne({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"}),!1}finally{r(!1)}},isDeleting:e}},wf=({tasks:t,isLoading:e,onTasksUpdated:r,isHistory:n=!1})=>{const[a,i]=b.useState({}),[s,o]=b.useState(null),[l,c]=b.useState(!1),u=b.useRef(!1),f=it(),{deleteTask:h,isDeleting:p}=p$(()=>{$.info("Deletion callback executed"),f.invalidateQueries({queryKey:["generalTasks"]}),f.invalidateQueries({queryKey:["clientNextSteps"]}),f.invalidateQueries({queryKey:["unified-tasks"]}),setTimeout(()=>{r()},300)});b.useEffect(()=>{u.current||(u.current=!0,$.info("Strategy TaskList initial render completed"))},[]);const v=async(_,j)=>{try{const{error:C}=await ae.from("tasks").update({due_date:j?new Date(j).toISOString():null,status:"incomplete"}).eq("id",_);if(C)throw C;if(i(E=>{const A={...E};return delete A[_],A}),f.invalidateQueries({queryKey:["tasks"]}),f.invalidateQueries({queryKey:["generalTasks"]}),j){const{error:E}=await ae.from("tasks").update({type:"task"}).eq("id",_);E&&$.error("Error updating task type:",E)}ne({title:"Task updated",description:j?"Idea has been converted to a task and will appear in Priority Actions.":"Date removed from task."}),setTimeout(()=>{r()},300)}catch(C){$.error("Error updating task date:",C),ne({title:"Error",description:"Failed to update task date. Please try again.",variant:"destructive"})}},m=_=>{$.info("Delete button clicked for task:",_),o(_),c(!0)},g=async()=>{$.info("Confirming deletion for task:",s),s&&(s.id,c(!1),r(),await h(s)?$.info("Task deleted successfully from confirmation dialog"):(ne({title:"Error",description:"Failed to delete task. The task has been restored.",variant:"destructive"}),r())),o(null)},w=()=>{c(!1),o(null)},y=()=>{$.info("Manual refresh requested"),f.invalidateQueries({queryKey:["generalTasks"]}),f.invalidateQueries({queryKey:["clientNextSteps"]}),f.invalidateQueries({queryKey:["unified-tasks"]}),r()},x=[...t.filter(_=>n?_.status==="completed":!n&&_.next_due_date?_.status!=="completed":_.status!=="completed"&&!_.next_due_date)].sort((_,j)=>!_.next_due_date||!j.next_due_date?0:new Date(_.next_due_date).getTime()-new Date(j.next_due_date).getTime());return e?d.jsxs("div",{className:"space-y-4",children:[d.jsx(Br,{className:"h-24 w-full"}),d.jsx(Br,{className:"h-24 w-full"}),d.jsx(Br,{className:"h-24 w-full"})]}):x.length?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs(J,{onClick:y,variant:"outline",size:"sm",children:[d.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Refresh Tasks"]})}),x.map(_=>d.jsxs("div",{className:"relative space-y-2 border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-1",children:_.type==="next_step"?d.jsx(h$,{nextStep:_.original_data}):d.jsx(d$,{task:_,isClientTask:!!_.client_id})}),!n&&d.jsx(J,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 text-gray-500 hover:text-red-500",onClick:j=>{j.stopPropagation(),m(_)},children:d.jsx(Am,{className:"h-4 w-4"})})]}),!n&&!_.next_due_date&&_.type!=="next_step"&&d.jsxs("div",{className:"flex items-center gap-2 px-6",children:[d.jsx(Ce,{type:"date",value:a[_.id]||"",onChange:j=>{i(C=>({...C,[_.id]:j.target.value}))},className:"max-w-[200px]"}),d.jsx(J,{variant:"outline",onClick:()=>v(_.id,a[_.id]),children:"Set Due Date"})]})]},_.id)),d.jsx(dd,{open:l,onOpenChange:c,children:d.jsxs(Ul,{children:[d.jsxs(zl,{children:[d.jsx(Wl,{children:"Are you sure?"}),d.jsx(Hl,{children:"This action cannot be undone. This will permanently delete the task."})]}),d.jsxs(ql,{children:[d.jsx(Gl,{onClick:w,children:"Cancel"}),d.jsx(Vl,{onClick:g,disabled:p,className:"bg-red-500 hover:bg-red-600",children:p?"Deleting...":"Delete"})]})]})})]}):d.jsxs("div",{className:"text-center text-gray-500 py-8",children:[d.jsx("p",{className:"mb-4",children:n?"No completed tasks yet":"No tasks found"}),d.jsxs(J,{onClick:y,variant:"outline",size:"sm",children:[d.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Refresh Tasks"]})]})},m$=(t,e)=>rr({queryKey:[...Fe.tasks.general(),t,e],queryFn:async()=>{$.info("Fetching tasks for category:",t);const{data:r,error:n}=await ae.from("tasks").select("*, clients(name)").ilike("category",`%${t}%`);if(n)throw $.error("Error fetching tasks:",n),n;$.info("Strategy - fetched tasks:",r==null?void 0:r.length);const a=(r==null?void 0:r.map(i=>{var s;return{...i,type:"task",source_table:"tasks",next_due_date:i.due_date,notes:i.description,client_name:(s=i.clients)==null?void 0:s.name,original_data:i}}))||[];return $.info("Strategy - formatted tasks count:",a.length),a},staleTime:3e3,gcTime:6e4,refetchOnMount:!0,refetchOnWindowFocus:!0}),g$=XC,R_=b.forwardRef(({className:t,...e},r)=>d.jsx(uw,{ref:r,className:G("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));R_.displayName=uw.displayName;const Nh=b.forwardRef(({className:t,...e},r)=>d.jsx(dw,{ref:r,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Nh.displayName=dw.displayName;const $h=b.forwardRef(({className:t,...e},r)=>d.jsx(fw,{ref:r,className:G("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));$h.displayName=fw.displayName;const Mm=({category:t})=>{const[e,r]=b.useState(0),[n,a]=b.useState(!1),{data:i,isLoading:s}=m$(t,e),o=(i==null?void 0:i.filter(f=>f.status!=="completed"&&f.due_date!==null))||[],l=(i==null?void 0:i.filter(f=>f.status==="completed"))||[],c=(i==null?void 0:i.filter(f=>f.status!=="completed"&&f.due_date===null))||[],u=()=>{r(f=>f+1)};return d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(ot,{className:"p-6",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h2",{className:"text-2xl font-semibold",children:"Generate Ideas"})}),d.jsx(c$,{category:t,onIdeaGenerated:u}),c.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Generated Ideas"}),d.jsx(wf,{tasks:c,isLoading:s,onTasksUpdated:u})]})]}),d.jsxs(ot,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-2xl font-semibold",children:"Tasks & Action Items"}),d.jsxs(J,{onClick:()=>a(!0),children:[d.jsx(Es,{className:"mr-2 h-4 w-4"}),"New Task"]})]}),d.jsxs(g$,{defaultValue:"active",className:"w-full",children:[d.jsxs(R_,{className:"grid w-full grid-cols-2 mb-4",children:[d.jsxs(Nh,{value:"active",children:["Active Tasks (",o.length,")"]}),d.jsxs(Nh,{value:"completed",children:["Task History (",l.length,")"]})]}),d.jsx($h,{value:"active",children:d.jsx(wf,{tasks:o,isLoading:s,onTasksUpdated:u})}),d.jsx($h,{value:"completed",children:d.jsx(wf,{tasks:l,isLoading:s,onTasksUpdated:u,isHistory:!0})})]})]}),d.jsx(Vi,{isOpen:n,onOpenChange:a,task:null,onSaved:()=>{a(!1),u()},defaultCategory:t})]})},fd=hm,D_=pm,v$=fm,L_=b.forwardRef(({className:t,...e},r)=>d.jsx(Nl,{className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));L_.displayName=Nl.displayName;const y$=_s("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Kl=b.forwardRef(({side:t="right",className:e,children:r,...n},a)=>d.jsxs(v$,{children:[d.jsx(L_,{}),d.jsxs($l,{ref:a,className:G(y$({side:t}),e),...n,children:[r,d.jsxs(Gu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(sd,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kl.displayName=$l.displayName;const Im=({className:t,...e})=>d.jsx("div",{className:G("flex flex-col space-y-2 text-center sm:text-left",t),...e});Im.displayName="SheetHeader";const Rm=b.forwardRef(({className:t,...e},r)=>d.jsx(Ml,{ref:r,className:G("text-lg font-semibold text-foreground",t),...e}));Rm.displayName=Ml.displayName;const b$=b.forwardRef(({className:t,...e},r)=>d.jsx(Il,{ref:r,className:G("text-sm text-muted-foreground",t),...e}));b$.displayName=Il.displayName;const B_=({clients:t,isLoading:e})=>d.jsxs(ot,{children:[d.jsxs(yr,{children:[d.jsx(br,{children:"All Clients"}),d.jsx(m1,{children:"A complete list of all clients"})]}),d.jsx(xr,{children:e?d.jsxs("div",{className:"space-y-2",children:[d.jsx(Br,{className:"h-12 w-full"}),d.jsx(Br,{className:"h-12 w-full"}),d.jsx(Br,{className:"h-12 w-full"})]}):d.jsxs("div",{className:"space-y-2",children:[Array.isArray(t)&&t.map(r=>d.jsx(En,{to:`/client/${r.id}`,className:"block p-4 rounded-lg border hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:r.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[r.industry||r.contact_person||"No details",r.type&&` · ${r.type}`]})]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status||"New"})]})},r.id)),(!t||t.length===0)&&d.jsx("p",{className:"text-center text-gray-500 py-4",children:"No clients found. Add a new client to get started."})]})})]});function x$(){return null}function pr(){const[t,e]=b.useState(!1);yn();const{data:r,isLoading:n}=rr({queryKey:["clients"],queryFn:async()=>{const{data:a,error:i}=await ae.from("clients").select("*").order("name");if(i)throw i;return a}});return d.jsxs("div",{className:"border-b",children:[d.jsxs("div",{className:"flex h-16 items-center px-8 mx-auto max-w-screen-2xl",children:[d.jsxs("nav",{className:"flex items-center space-x-6 text-sm font-medium",children:[d.jsx(En,{to:"/",className:"transition-colors hover:text-primary",children:"Overview"}),d.jsx(En,{to:"/business-admin",className:"transition-colors hover:text-primary",children:"Business Admin"}),d.jsx(En,{to:"/marketing",className:"transition-colors hover:text-primary",children:"Marketing"}),d.jsx(En,{to:"/partnerships",className:"transition-colors hover:text-primary",children:"Partnerships"}),d.jsx(En,{to:"/product-development",className:"transition-colors hover:text-primary",children:"Product Development"}),d.jsx(En,{to:"/ai-news",className:"transition-colors hover:text-primary",children:"AI News"})]}),d.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[d.jsx(x$,{}),d.jsxs(J,{variant:"ghost",type:"button",onClick:async()=>{try{await ae.auth.signOut();try{localStorage.clear()}catch{}window.location.assign("/login")}catch(a){console.error("Logout failed",a),window.location.assign("/login")}},className:"gap-2",title:"Log out",children:[d.jsx(Qk,{className:"h-4 w-4"}),"Logout"]}),d.jsxs(J,{variant:"outline",onClick:()=>e(!0),className:"gap-2",children:[d.jsx(rN,{className:"h-4 w-4"}),"View All Clients"]}),d.jsx(En,{to:"/client/new",children:d.jsxs(J,{variant:"default",className:"gap-2",children:[d.jsx(Hk,{className:"h-4 w-4"}),"Add Client"]})})]})]}),d.jsx(fd,{open:t,onOpenChange:e,children:d.jsx(Kl,{side:"right",className:"w-full sm:max-w-xl overflow-y-auto h-screen",children:d.jsx(B_,{clients:r,isLoading:n})})})]})}const w$=()=>d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100/50",children:[d.jsx(pr,{}),d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Marketing Strategy"}),d.jsx(Mm,{category:"marketing"})]})]}),_$=()=>d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100/50",children:[d.jsx(pr,{}),d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Partnerships Strategy"}),d.jsx(Mm,{category:"partnerships"})]})]}),S$=()=>d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100/50",children:[d.jsx(pr,{}),d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Product Development Strategy"}),d.jsx(Mm,{category:"product development"})]})]});function Cr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function qa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const F_=6048e5,j$=864e5,U_=6e4,z_=36e5;let O$={};function hd(){return O$}function Ao(t,e){var o,l,c,u;const r=hd(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Cr(t),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Bc(t){return Ao(t,{weekStartsOn:1})}function q_(t){const e=Cr(t),r=e.getFullYear(),n=qa(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Bc(n),i=qa(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=Bc(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Kv(t){const e=Cr(t);return e.setHours(0,0,0,0),e}function Yv(t){const e=Cr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function C$(t,e){const r=Kv(t),n=Kv(e),a=+r-Yv(r),i=+n-Yv(n);return Math.round((a-i)/j$)}function E$(t){const e=q_(t),r=qa(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Bc(r)}function T$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function P$(t){if(!T$(t)&&typeof t!="number")return!1;const e=Cr(t);return!isNaN(Number(e))}function A$(t){const e=Cr(t),r=qa(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const k$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N$=(t,e,r)=>{let n;const a=k$[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _f(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const $$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R$={date:_f({formats:$$,defaultWidth:"full"}),time:_f({formats:M$,defaultWidth:"full"}),dateTime:_f({formats:I$,defaultWidth:"full"})},D$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L$=(t,e,r,n)=>D$[t];function Gs(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[o]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const B$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H$=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},V$={ordinalNumber:H$,era:Gs({values:B$,defaultWidth:"wide"}),quarter:Gs({values:F$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gs({values:U$,defaultWidth:"wide"}),day:Gs({values:z$,defaultWidth:"wide"}),dayPeriod:Gs({values:q$,defaultWidth:"wide",formattingValues:W$,defaultFormattingWidth:"wide"})};function Ks(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?K$(o,f=>f.test(s)):G$(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function G$(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function K$(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Y$(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(a.length);return{value:s,rest:o}}}const Q$=/^(\d+)(th|st|nd|rd)?/i,Z$=/\d+/i,X$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J$={any:[/^b/i,/^(a|c)/i]},e4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t4={any:[/1/i,/2/i,/3/i,/4/i]},r4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},a4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},i4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},s4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l4={ordinalNumber:Y$({matchPattern:Q$,parsePattern:Z$,valueCallback:t=>parseInt(t,10)}),era:Ks({matchPatterns:X$,defaultMatchWidth:"wide",parsePatterns:J$,defaultParseWidth:"any"}),quarter:Ks({matchPatterns:e4,defaultMatchWidth:"wide",parsePatterns:t4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ks({matchPatterns:r4,defaultMatchWidth:"wide",parsePatterns:n4,defaultParseWidth:"any"}),day:Ks({matchPatterns:a4,defaultMatchWidth:"wide",parsePatterns:i4,defaultParseWidth:"any"}),dayPeriod:Ks({matchPatterns:s4,defaultMatchWidth:"any",parsePatterns:o4,defaultParseWidth:"any"})},c4={code:"en-US",formatDistance:N$,formatLong:R$,formatRelative:L$,localize:V$,match:l4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function u4(t){const e=Cr(t);return C$(e,A$(e))+1}function d4(t){const e=Cr(t),r=+Bc(e)-+E$(e);return Math.round(r/F_)+1}function W_(t,e){var u,f,h,p;const r=Cr(t),n=r.getFullYear(),a=hd(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=qa(t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Ao(s,e),l=qa(t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=Ao(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function f4(t,e){var o,l,c,u;const r=hd(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=W_(t,e),i=qa(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ao(i,e)}function h4(t,e){const r=Cr(t),n=+Ao(r,e)-+f4(r,e);return Math.round(n/F_)+1}function De(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Cn={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return De(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):De(r+1,2)},d(t,e){return De(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return De(t.getHours()%12||12,e.length)},H(t,e){return De(t.getHours(),e.length)},m(t,e){return De(t.getMinutes(),e.length)},s(t,e){return De(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return De(a,e.length)}},oi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qv={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Cn.y(t,e)},Y:function(t,e,r,n){const a=W_(t,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return De(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):De(i,e.length)},R:function(t,e){const r=q_(t);return De(r,e.length)},u:function(t,e){const r=t.getFullYear();return De(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return De(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return De(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Cn.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return De(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=h4(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):De(a,e.length)},I:function(t,e,r){const n=d4(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):De(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Cn.d(t,e)},D:function(t,e,r){const n=u4(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):De(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return De(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return De(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return De(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=oi.noon:n===0?a=oi.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=oi.evening:n>=12?a=oi.afternoon:n>=4?a=oi.morning:a=oi.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Cn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Cn.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):De(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):De(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Cn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Cn.s(t,e)},S:function(t,e){return Cn.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Xv(n);case"XXXX":case"XX":return ma(n);case"XXXXX":case"XXX":default:return ma(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Xv(n);case"xxxx":case"xx":return ma(n);case"xxxxx":case"xxx":default:return ma(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Zv(n,":");case"OOOO":default:return"GMT"+ma(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Zv(n,":");case"zzzz":default:return"GMT"+ma(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return De(n,e.length)},T:function(t,e,r){const n=t.getTime();return De(n,e.length)}};function Zv(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+De(i,2)}function Xv(t,e){return t%60===0?(t>0?"-":"+")+De(Math.abs(t)/60,2):ma(t,e)}function ma(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=De(Math.trunc(n/60),2),i=De(n%60,2);return r+a+e+i}const Jv=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},H_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},p4=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Jv(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Jv(n,e)).replace("{{time}}",H_(a,e))},m4={p:H_,P:p4},g4=/^D+$/,v4=/^Y+$/,y4=["D","DD","YY","YYYY"];function b4(t){return g4.test(t)}function x4(t){return v4.test(t)}function w4(t,e,r){const n=_4(t,e,r);if(console.warn(n),y4.includes(t))throw new RangeError(n)}function _4(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const S4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O4=/^'([^]*?)'?$/,C4=/''/g,E4=/[a-zA-Z]/;function Kn(t,e,r){var u,f,h,p;const n=hd(),a=n.locale??c4,i=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Cr(t);if(!P$(o))throw new RangeError("Invalid time value");let l=e.match(j4).map(v=>{const m=v[0];if(m==="p"||m==="P"){const g=m4[m];return g(v,a.formatLong)}return v}).join("").match(S4).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const m=v[0];if(m==="'")return{isToken:!1,value:T4(v)};if(Qv[m])return{isToken:!0,value:v};if(m.match(E4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(v=>{if(!v.isToken)return v.value;const m=v.value;(x4(m)||b4(m))&&w4(m,e,String(t));const g=Qv[m[0]];return g(o,m,a.localize,c)}).join("")}function T4(t){const e=t.match(O4);return e?e[1].replace(C4,"'"):t}function P4(t,e){const n=$4(t);let a;if(n.date){const l=M4(n.date,2);a=I4(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let s=0,o;if(n.time&&(s=R4(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(o=D4(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+s),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(i+s+o)}const pc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},A4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,k4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,N4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $4(t){const e={},r=t.split(pc.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],pc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(pc.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=pc.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function M4(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function I4(t,e){if(e===null)return new Date(NaN);const r=t.match(A4);if(!r)return new Date(NaN);const n=!!r[4],a=Ys(r[1]),i=Ys(r[2])-1,s=Ys(r[3]),o=Ys(r[4]),l=Ys(r[5])-1;if(n)return z4(e,o,l)?L4(e,o,l):new Date(NaN);{const c=new Date(0);return!F4(e,i,s)||!U4(e,a)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(a,s)),c)}}function Ys(t){return t?parseInt(t):1}function R4(t){const e=t.match(k4);if(!e)return NaN;const r=Sf(e[1]),n=Sf(e[2]),a=Sf(e[3]);return q4(r,n,a)?r*z_+n*U_+a*1e3:NaN}function Sf(t){return t&&parseFloat(t.replace(",","."))||0}function D4(t){if(t==="Z")return 0;const e=t.match(N4);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return W4(n,a)?r*(n*z_+a*U_):NaN}function L4(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const B4=[31,null,31,30,31,30,31,31,30,31,30,31];function V_(t){return t%400===0||t%4===0&&t%100!==0}function F4(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(B4[e]||(V_(t)?29:28))}function U4(t,e){return e>=1&&e<=(V_(t)?366:365)}function z4(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function q4(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function W4(t,e){return e>=0&&e<=59}var Dm="Avatar",[H4,nie]=Qa(Dm),[V4,G_]=H4(Dm),K_=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=b.useState("idle");return d.jsx(V4,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:d.jsx(ke.span,{...n,ref:e})})});K_.displayName=Dm;var Y_="AvatarImage",Q_=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,s=G_(Y_,r),o=G4(n,i.referrerPolicy),l=Ht(c=>{a(c),s.onImageLoadingStatusChange(c)});return er(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?d.jsx(ke.img,{...i,ref:e,src:n}):null});Q_.displayName=Y_;var Z_="AvatarFallback",X_=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=G_(Z_,r),[s,o]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(l)}},[n]),s&&i.imageLoadingStatus!=="loaded"?d.jsx(ke.span,{...a,ref:e}):null});X_.displayName=Z_;function G4(t,e){const[r,n]=b.useState("idle");return er(()=>{if(!t){n("error");return}let a=!0;const i=new window.Image,s=o=>()=>{a&&n(o)};return n("loading"),i.onload=s("loaded"),i.onerror=s("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{a=!1}},[t,e]),r}var J_=K_,eS=Q_,tS=X_;const rS=b.forwardRef(({className:t,...e},r)=>d.jsx(J_,{ref:r,className:G("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));rS.displayName=J_.displayName;const K4=b.forwardRef(({className:t,...e},r)=>d.jsx(eS,{ref:r,className:G("aspect-square h-full w-full",t),...e}));K4.displayName=eS.displayName;const nS=b.forwardRef(({className:t,...e},r)=>d.jsx(tS,{ref:r,className:G("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));nS.displayName=tS.displayName;const Y4=_s("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ko({className:t,variant:e,...r}){return d.jsx("div",{className:G(Y4({variant:e}),t),...r})}const Q4=({task:t,onUpdateCompletion:e,onUpdateUrgency:r,onDelete:n,isUpdating:a=!1,isDeleting:i=!1,onSelect:s})=>{$.info(`Rendering TaskItem for task ${t.id}`,{title:t.title,status:t.status,urgent:t.urgent});const[o,l]=b.useState(!1),c=t.due_date?Kn(new Date(t.due_date),"MMM d, yyyy"):"No due date",u=t.client_name||(t.client?t.client.name:null);return d.jsx("div",{className:`p-4 border rounded-lg transition-all ${o?"shadow-md":"shadow-sm"} ${t.urgent?"border-red-200 bg-red-50/50":"border-gray-200"}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:s,children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"space-y-1 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[t.urgent&&d.jsx(y1,{size:16,className:"text-red-500"}),d.jsx("h4",{className:"font-medium",children:t.title})]}),t.description&&d.jsx("p",{className:"text-sm text-gray-600",children:t.description}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx(ad,{size:14}),d.jsx("span",{children:c}),t.category&&d.jsx(ko,{variant:"outline",className:"ml-2",children:t.category})]}),u&&d.jsxs("div",{className:"flex items-center mt-2",children:[d.jsx(rS,{className:"h-5 w-5 mr-1",children:d.jsx(nS,{className:"text-xs",children:u.substring(0,2).toUpperCase()})}),d.jsx("span",{className:"text-xs text-gray-600",children:u})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:`p-1.5 rounded-full transition-colors ${t.status==="completed"?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200 hover:text-gray-600"}`,onClick:f=>{f.stopPropagation(),e(t.status!=="completed")},disabled:a,"aria-label":t.status==="completed"?"Mark as incomplete":"Mark as complete",children:d.jsx(id,{size:16})}),d.jsx("button",{className:`p-1.5 rounded-full transition-colors ${i?"bg-gray-100 text-gray-400":"bg-gray-100 text-gray-400 hover:bg-red-100 hover:text-red-600"}`,onClick:f=>{f.stopPropagation(),n()},disabled:i,"aria-label":"Delete task",children:d.jsx(Am,{size:16})})]})]})})},Z4=(t,e=!1)=>rr({queryKey:["tasks",{category:t,showCompleted:e,timestamp:Date.now()}],queryFn:async()=>{$.info(`Fetching tasks with category: ${t}, showCompleted: ${e}`),$.info(`DEBUG: Fetching tasks with category: ${t}, showCompleted: ${e}`);try{let r=ae.from("tasks").select("*, clients(name)")[e?"eq":"not"]("status","completed");t&&t!=="All"&&(r=r.ilike("category",`%${t}%`));const{data:n,error:a}=await r.order("urgent",{ascending:!1}).order("due_date",{ascending:!0});if(kc({data:n},a,"useTaskData"),a)throw $.error("Error fetching tasks:",a),$.error("Error fetching tasks:",a),a;$.info(`Raw tasks data: ${JSON.stringify(n==null?void 0:n.slice(0,2))}`),n&&n.length>0?$.info("Raw tasks data sample:",n.slice(0,2)):$.info("No tasks data returned from query");const i=(n||[]).map(s=>{var o;return{id:s.id,title:s.title,description:s.description,client_id:s.client_id,client:s.clients,client_name:(o=s.clients)==null?void 0:o.name,due_date:s.due_date,urgent:s.urgent||!1,status:s.status,category:s.category,created_at:s.created_at,updated_at:s.updated_at,created_by:s.created_by,updated_by:s.updated_by,type:"task"}});return $.info(`Processed ${i.length} tasks with status: ${e?"completed":"incomplete"}`),$.info(`Processed ${i.length} tasks with status: ${e?"completed":"incomplete"}`),i}catch(r){throw $.error("Exception in useTaskData:",r),$.error("Exception in useTaskData:",r),r}},staleTime:0,gcTime:6e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),X4=({category:t,showCompleted:e=!1})=>{const[r,n]=b.useState(0),[a,i]=b.useState(null),[s,o]=b.useState([]),{data:l=[],isLoading:c,error:u,refetch:f}=Z4(t,e),{isProcessing:h,updateCompletion:p,updateUrgency:v,deleteTask:m,invalidateTaskQueries:g}=m_();b.useEffect(()=>{$.info(`TaskList useEffect running for filtering with refreshKey: ${r}`),$.info(`Current tasks count: ${l.length}`);const _=[...l];$.info(`Filtered task list has ${_.length} tasks after filtering`),o(_)},[l,t,e,r]);const w=b.useCallback(async()=>{var j;$.info("Manual refresh requested"),await g();const _=await f();return $.info(`Manual refresh completed with ${(j=_.data)==null?void 0:j.length} tasks`),n(C=>C+1),_},[f,g]),y=b.useCallback((_,j)=>{j&&_.urgent?i(_):p(_,j)},[p]),S=b.useCallback(_=>{m(_)},[m]),x=b.useCallback(()=>{a&&(p(a,!0),i(null))},[a,p]);return{filteredTasks:s,isLoading:c,error:u,isProcessing:h,handleRefresh:w,handleTaskDelete:S,handleCompletionChange:y,updateUrgency:v,completionConfirmTask:a,setCompletionConfirmTask:i,confirmTaskCompletion:x,refreshKey:r}},J4=()=>d.jsxs(ot,{children:[d.jsx(yr,{children:d.jsx(br,{children:"Priority Actions"})}),d.jsx(xr,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx(Br,{className:"h-24 w-full"}),d.jsx(Br,{className:"h-24 w-full"})]})})]}),e3=({open:t,onOpenChange:e,onConfirm:r,itemType:n})=>d.jsx(dd,{open:t,onOpenChange:e,children:d.jsxs(Ul,{children:[d.jsxs(zl,{children:[d.jsx(Wl,{children:"Mark as completed?"}),d.jsxs(Hl,{children:["Are you sure you want to mark this ",n==="task"?"task":"next step"," as completed? It will be moved to the completed items list."]})]}),d.jsxs(ql,{children:[d.jsx(Gl,{children:"Cancel"}),d.jsx(Vl,{onClick:r,children:"Confirm"})]})]})}),t3=({onRefresh:t,tasksCount:e,isLoading:r=!1,hasError:n=!1})=>d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("div",{children:d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:r?"Loading tasks...":n?"Error loading tasks":`${e} tasks found`})}),d.jsxs(J,{onClick:t,variant:"outline",size:"sm",disabled:r,children:[d.jsx(Ua,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),r?"Refreshing...":"Refresh"]})]}),r3=({showCompleted:t,category:e,onRefresh:r,onCreateNew:n})=>{const a=()=>t?`No completed tasks found${e&&e!=="All"?` in ${e}`:""}`:`No active tasks found${e&&e!=="All"?` in ${e}`:""}`;return d.jsxs("div",{className:"py-10 text-center border rounded-lg bg-gray-50",children:[d.jsx(Kk,{className:"h-12 w-12 mx-auto text-gray-400"}),d.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:a()}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t?"Tasks marked as complete will appear here":"Create a new task to get started"}),d.jsxs("div",{className:"mt-6 flex justify-center gap-3",children:[d.jsxs(J,{variant:"outline",onClick:r,className:"px-3 py-2 text-sm",children:[d.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Refresh"]}),!t&&n&&d.jsxs(J,{onClick:n,className:"px-3 py-2 text-sm",children:[d.jsx(Es,{className:"mr-2 h-4 w-4"}),"Create New Task"]})]})]})},n3=({error:t,onRefresh:e})=>{const r=t instanceof Error?t.message:"An unknown error occurred";return d.jsxs(rd,{variant:"destructive",children:[d.jsx(y1,{className:"h-4 w-4"}),d.jsx(Tm,{children:"Error loading tasks"}),d.jsxs(nd,{className:"flex justify-between items-center",children:[d.jsx("span",{children:r}),d.jsxs(J,{size:"sm",variant:"outline",onClick:e,className:"bg-white hover:bg-gray-100",children:[d.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})]})},a3=({category:t,showCompleted:e=!1,onItemSelected:r})=>{const{filteredTasks:n,isLoading:a,error:i,isProcessing:s,handleRefresh:o,handleTaskDelete:l,handleCompletionChange:c,updateUrgency:u,completionConfirmTask:f,setCompletionConfirmTask:h,confirmTaskCompletion:p,refreshKey:v}=X4({category:t,showCompleted:e}),m=b.useRef(!1);return b.useEffect(()=>{m.current||(m.current=!0,$.info("TaskList mounted with:",{category:t,showCompleted:e,taskCount:(n==null?void 0:n.length)||0,hasError:!!i}),o())},[o]),$.info("TaskList rendering with:",{category:t,showCompleted:e,taskCount:(n==null?void 0:n.length)||0,isLoading:a,hasError:!!i,refreshKey:v}),a&&!n.length?d.jsx(J4,{}):i?d.jsx(n3,{error:i,onRefresh:o}):n.length?d.jsxs("div",{className:"space-y-2",children:[d.jsx(t3,{onRefresh:o,tasksCount:n.length,isLoading:s}),n.map(g=>d.jsx(Q4,{task:g,onUpdateCompletion:w=>c(g,w),onUpdateUrgency:w=>u(g,w),onDelete:()=>l(g),isUpdating:s,isDeleting:s,onSelect:()=>r==null?void 0:r(g.id)},`${g.id}-${v}`)),d.jsx(e3,{open:!!f,onOpenChange:g=>{g||h(null)},onConfirm:p,itemType:"task"})]}):d.jsx(r3,{showCompleted:e,category:t,onRefresh:o})},ey=({active:t=!1,children:e,onClick:r,category:n})=>{const a=i=>{if(!i||i==="All")return"bg-gray-100 hover:bg-gray-200";switch(i){case"Marketing":return"bg-purple-100 hover:bg-purple-200";case"Product Development":return"bg-blue-100 hover:bg-blue-200";case"Partnerships":return"bg-green-100 hover:bg-green-200";case"Business Admin":return"bg-gray-100 hover:bg-gray-200";case"Client":return"bg-orange-100 hover:bg-orange-200";default:return"bg-gray-100 hover:bg-gray-200"}};return d.jsx("button",{onClick:r,className:G("px-3 py-1 text-sm rounded-full transition-colors",a(n),t?"ring-2 ring-primary/50":""),children:e})},i3=({filter:t,onFilterChange:e,showCompleted:r,onShowCompletedChange:n})=>{const a=["All","Marketing","Product Development","Partnerships","Business Admin","Client"];return d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("div",{className:"flex flex-wrap gap-2 mr-4",children:a.map(i=>d.jsx(ey,{active:t===i,onClick:()=>e(i),category:i,children:i},i))}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(ey,{active:r,onClick:()=>n(!r),children:r?"Hide Completed":"Show Completed"})})]})},aS=({hideAddButton:t=!1,initialCategory:e,onTaskClick:r})=>{const[n,a]=b.useState(e||"All"),[i,s]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(null),f=h=>{r?r(h):u({id:h})};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsx(i3,{filter:n,onFilterChange:a,showCompleted:i,onShowCompletedChange:s}),!t&&d.jsxs(J,{onClick:()=>l(!0),size:"sm",children:[d.jsx(Es,{className:"mr-2 h-4 w-4"}),"New Task"]})]}),d.jsx(a3,{category:n==="All"?void 0:n,showCompleted:i,onItemSelected:f}),d.jsx(Vi,{isOpen:o,onOpenChange:l,task:null,onSaved:()=>l(!1),defaultCategory:e}),d.jsx(Vi,{isOpen:!!c,onOpenChange:()=>u(null),task:c,onSaved:()=>u(null),defaultCategory:e})]})},s3=({annualTotals:t})=>{$.info("RevenueStats rendering with annual totals:",t);const e=Number((t==null?void 0:t.confirmed)||0),r=Number((t==null?void 0:t.forecast)||0),n=e+r;return $.info("RevenueStats calculated values:",{confirmed:e,forecast:r,totalAnnualRevenue:n}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Annual Revenue"}),d.jsxs("p",{className:"text-2xl font-bold",children:["$",n.toLocaleString()]})]}),d.jsxs("div",{className:"p-4 bg-[#1A1F2C] rounded-lg",children:[d.jsx("p",{className:"text-sm text-white",children:"Actual Revenue"}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",e.toLocaleString()]})]}),d.jsxs("div",{className:"p-4 bg-[hsl(var(--primary)/0.1)] rounded-lg",children:[d.jsx("p",{className:"text-sm text-primary",children:"Forecast Revenue"}),d.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",r.toLocaleString()]})]})]})};var o3=Array.isArray,Ft=o3,l3=typeof Ot=="object"&&Ot&&Ot.Object===Object&&Ot,iS=l3,c3=iS,u3=typeof self=="object"&&self&&self.Object===Object&&self,d3=c3||u3||Function("return this")(),Yr=d3,f3=Yr,h3=f3.Symbol,Yl=h3,ty=Yl,sS=Object.prototype,p3=sS.hasOwnProperty,m3=sS.toString,Qs=ty?ty.toStringTag:void 0;function g3(t){var e=p3.call(t,Qs),r=t[Qs];try{t[Qs]=void 0;var n=!0}catch{}var a=m3.call(t);return n&&(e?t[Qs]=r:delete t[Qs]),a}var v3=g3,y3=Object.prototype,b3=y3.toString;function x3(t){return b3.call(t)}var w3=x3,ry=Yl,_3=v3,S3=w3,j3="[object Null]",O3="[object Undefined]",ny=ry?ry.toStringTag:void 0;function C3(t){return t==null?t===void 0?O3:j3:ny&&ny in Object(t)?_3(t):S3(t)}var wn=C3;function E3(t){return t!=null&&typeof t=="object"}var _n=E3,T3=wn,P3=_n,A3="[object Symbol]";function k3(t){return typeof t=="symbol"||P3(t)&&T3(t)==A3}var Ps=k3,N3=Ft,$3=Ps,M3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I3=/^\w*$/;function R3(t,e){if(N3(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||$3(t)?!0:I3.test(t)||!M3.test(t)||e!=null&&t in Object(e)}var Lm=R3;function D3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ia=D3;const As=He(ia);var L3=wn,B3=ia,F3="[object AsyncFunction]",U3="[object Function]",z3="[object GeneratorFunction]",q3="[object Proxy]";function W3(t){if(!B3(t))return!1;var e=L3(t);return e==U3||e==z3||e==F3||e==q3}var Bm=W3;const _e=He(Bm);var H3=Yr,V3=H3["__core-js_shared__"],G3=V3,jf=G3,ay=function(){var t=/[^.]+$/.exec(jf&&jf.keys&&jf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function K3(t){return!!ay&&ay in t}var Y3=K3,Q3=Function.prototype,Z3=Q3.toString;function X3(t){if(t!=null){try{return Z3.call(t)}catch{}try{return t+""}catch{}}return""}var oS=X3,J3=Bm,eM=Y3,tM=ia,rM=oS,nM=/[\\^$.*+?()[\]{}|]/g,aM=/^\[object .+?Constructor\]$/,iM=Function.prototype,sM=Object.prototype,oM=iM.toString,lM=sM.hasOwnProperty,cM=RegExp("^"+oM.call(lM).replace(nM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uM(t){if(!tM(t)||eM(t))return!1;var e=J3(t)?cM:aM;return e.test(rM(t))}var dM=uM;function fM(t,e){return t==null?void 0:t[e]}var hM=fM,pM=dM,mM=hM;function gM(t,e){var r=mM(t,e);return pM(r)?r:void 0}var ei=gM,vM=ei,yM=vM(Object,"create"),pd=yM,iy=pd;function bM(){this.__data__=iy?iy(null):{},this.size=0}var xM=bM;function wM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _M=wM,SM=pd,jM="__lodash_hash_undefined__",OM=Object.prototype,CM=OM.hasOwnProperty;function EM(t){var e=this.__data__;if(SM){var r=e[t];return r===jM?void 0:r}return CM.call(e,t)?e[t]:void 0}var TM=EM,PM=pd,AM=Object.prototype,kM=AM.hasOwnProperty;function NM(t){var e=this.__data__;return PM?e[t]!==void 0:kM.call(e,t)}var $M=NM,MM=pd,IM="__lodash_hash_undefined__";function RM(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=MM&&e===void 0?IM:e,this}var DM=RM,LM=xM,BM=_M,FM=TM,UM=$M,zM=DM;function ks(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ks.prototype.clear=LM;ks.prototype.delete=BM;ks.prototype.get=FM;ks.prototype.has=UM;ks.prototype.set=zM;var qM=ks;function WM(){this.__data__=[],this.size=0}var HM=WM;function VM(t,e){return t===e||t!==t&&e!==e}var Fm=VM,GM=Fm;function KM(t,e){for(var r=t.length;r--;)if(GM(t[r][0],e))return r;return-1}var md=KM,YM=md,QM=Array.prototype,ZM=QM.splice;function XM(t){var e=this.__data__,r=YM(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ZM.call(e,r,1),--this.size,!0}var JM=XM,eI=md;function tI(t){var e=this.__data__,r=eI(e,t);return r<0?void 0:e[r][1]}var rI=tI,nI=md;function aI(t){return nI(this.__data__,t)>-1}var iI=aI,sI=md;function oI(t,e){var r=this.__data__,n=sI(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var lI=oI,cI=HM,uI=JM,dI=rI,fI=iI,hI=lI;function Ns(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ns.prototype.clear=cI;Ns.prototype.delete=uI;Ns.prototype.get=dI;Ns.prototype.has=fI;Ns.prototype.set=hI;var gd=Ns,pI=ei,mI=Yr,gI=pI(mI,"Map"),Um=gI,sy=qM,vI=gd,yI=Um;function bI(){this.size=0,this.__data__={hash:new sy,map:new(yI||vI),string:new sy}}var xI=bI;function wI(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _I=wI,SI=_I;function jI(t,e){var r=t.__data__;return SI(e)?r[typeof e=="string"?"string":"hash"]:r.map}var vd=jI,OI=vd;function CI(t){var e=OI(this,t).delete(t);return this.size-=e?1:0,e}var EI=CI,TI=vd;function PI(t){return TI(this,t).get(t)}var AI=PI,kI=vd;function NI(t){return kI(this,t).has(t)}var $I=NI,MI=vd;function II(t,e){var r=MI(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var RI=II,DI=xI,LI=EI,BI=AI,FI=$I,UI=RI;function $s(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$s.prototype.clear=DI;$s.prototype.delete=LI;$s.prototype.get=BI;$s.prototype.has=FI;$s.prototype.set=UI;var zm=$s,lS=zm,zI="Expected a function";function qm(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zI);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=t.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(qm.Cache||lS),r}qm.Cache=lS;var cS=qm;const qI=He(cS);var WI=cS,HI=500;function VI(t){var e=WI(t,function(n){return r.size===HI&&r.clear(),n}),r=e.cache;return e}var GI=VI,KI=GI,YI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QI=/\\(\\)?/g,ZI=KI(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(YI,function(r,n,a,i){e.push(a?i.replace(QI,"$1"):n||r)}),e}),XI=ZI;function JI(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Wm=JI,oy=Yl,eR=Wm,tR=Ft,rR=Ps,nR=1/0,ly=oy?oy.prototype:void 0,cy=ly?ly.toString:void 0;function uS(t){if(typeof t=="string")return t;if(tR(t))return eR(t,uS)+"";if(rR(t))return cy?cy.call(t):"";var e=t+"";return e=="0"&&1/t==-nR?"-0":e}var aR=uS,iR=aR;function sR(t){return t==null?"":iR(t)}var dS=sR,oR=Ft,lR=Lm,cR=XI,uR=dS;function dR(t,e){return oR(t)?t:lR(t,e)?[t]:cR(uR(t))}var fS=dR,fR=Ps,hR=1/0;function pR(t){if(typeof t=="string"||fR(t))return t;var e=t+"";return e=="0"&&1/t==-hR?"-0":e}var yd=pR,mR=fS,gR=yd;function vR(t,e){e=mR(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[gR(e[r++])];return r&&r==n?t:void 0}var Hm=vR,yR=Hm;function bR(t,e,r){var n=t==null?void 0:yR(t,e);return n===void 0?r:n}var hS=bR;const Jt=He(hS);function xR(t){return t==null}var wR=xR;const Me=He(wR);var _R=wn,SR=Ft,jR=_n,OR="[object String]";function CR(t){return typeof t=="string"||!SR(t)&&jR(t)&&_R(t)==OR}var ER=CR;const Ql=He(ER);var pS={exports:{}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=Symbol.for("react.element"),Gm=Symbol.for("react.portal"),bd=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),wd=Symbol.for("react.profiler"),_d=Symbol.for("react.provider"),Sd=Symbol.for("react.context"),TR=Symbol.for("react.server_context"),jd=Symbol.for("react.forward_ref"),Od=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),Td=Symbol.for("react.lazy"),PR=Symbol.for("react.offscreen"),mS;mS=Symbol.for("react.module.reference");function ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Vm:switch(t=t.type,t){case bd:case wd:case xd:case Od:case Cd:return t;default:switch(t=t&&t.$$typeof,t){case TR:case Sd:case jd:case Td:case Ed:case _d:return t;default:return e}}case Gm:return e}}}Le.ContextConsumer=Sd;Le.ContextProvider=_d;Le.Element=Vm;Le.ForwardRef=jd;Le.Fragment=bd;Le.Lazy=Td;Le.Memo=Ed;Le.Portal=Gm;Le.Profiler=wd;Le.StrictMode=xd;Le.Suspense=Od;Le.SuspenseList=Cd;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return ar(t)===Sd};Le.isContextProvider=function(t){return ar(t)===_d};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vm};Le.isForwardRef=function(t){return ar(t)===jd};Le.isFragment=function(t){return ar(t)===bd};Le.isLazy=function(t){return ar(t)===Td};Le.isMemo=function(t){return ar(t)===Ed};Le.isPortal=function(t){return ar(t)===Gm};Le.isProfiler=function(t){return ar(t)===wd};Le.isStrictMode=function(t){return ar(t)===xd};Le.isSuspense=function(t){return ar(t)===Od};Le.isSuspenseList=function(t){return ar(t)===Cd};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bd||t===wd||t===xd||t===Od||t===Cd||t===PR||typeof t=="object"&&t!==null&&(t.$$typeof===Td||t.$$typeof===Ed||t.$$typeof===_d||t.$$typeof===Sd||t.$$typeof===jd||t.$$typeof===mS||t.getModuleId!==void 0)};Le.typeOf=ar;pS.exports=Le;var gS=pS.exports,AR=wn,kR=_n,NR="[object Number]";function $R(t){return typeof t=="number"||kR(t)&&AR(t)==NR}var vS=$R;const MR=He(vS);var IR=vS;function RR(t){return IR(t)&&t!=+t}var DR=RR;const Zl=He(DR);var gr=function(e){return e===0?0:e>0?1:-1},_a=function(e){return Ql(e)&&e.indexOf("%")===e.length-1},H=function(e){return MR(e)&&!Zl(e)},dt=function(e){return H(e)||Ql(e)},LR=0,Pd=function(e){var r=++LR;return"".concat(e||"").concat(r)},Wa=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(e)&&!Ql(e))return n;var i;if(_a(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return Zl(i)&&(i=n),a&&i>r&&(i=r),i},Mn=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},BR=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},li=function(e,r){return H(e)&&H(r)?function(n){return e+n*(r-e)}:function(){return r}};function Mh(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Jt(n,e))===r})}function _i(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}var FR=["viewBox","children"],UR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uy=["points","pathLength"],Of={svg:FR,polygon:uy,polyline:uy},Km=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Fc=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!As(n))return null;var a={};return Object.keys(n).forEach(function(i){Km.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},zR=function(e,r,n){return function(a){return e(r,n,a),null}},Uc=function(e,r,n){if(!As(e)||Ih(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];Km.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=zR(s,r,n))}),a},qR=["children"],WR=["children"];function dy(t,e){if(t==null)return{};var r=HR(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fy={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},cn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},hy=null,Cf=null,Ym=function t(e){if(e===hy&&Array.isArray(Cf))return Cf;var r=[];return b.Children.forEach(e,function(n){Me(n)||(gS.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Cf=r,hy=e,r};function Sr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return cn(a)}):n=[cn(e)],Ym(t).forEach(function(a){var i=Jt(a,"type.displayName")||Jt(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Wt(t,e){var r=Sr(t,e);return r&&r[0]}var py=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!H(n)||n<=0||!H(a)||a<=0)},VR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GR=function(e){return e&&e.type&&Ql(e.type)&&VR.indexOf(e.type)>=0},KR=function(e,r,n,a){var i,s=(i=Of==null?void 0:Of[a])!==null&&i!==void 0?i:[];return!_e(e)&&(a&&s.includes(r)||UR.includes(r))||n&&Km.includes(r)},Ne=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(b.isValidElement(e)&&(a=e.props),!As(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;KR((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},Rh=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return my(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!my(i,s))return!1}return!0},my=function(e,r){if(Me(e)&&Me(r))return!0;if(!Me(e)&&!Me(r)){var n=e.props||{},a=n.children,i=dy(n,qR),s=r.props||{},o=s.children,l=dy(s,WR);return a&&o?_i(i,l)&&Rh(a,o):!a&&!o?_i(i,l):!1}return!1},gy=function(e,r){var n=[],a={};return Ym(e).forEach(function(i,s){if(GR(i))n.push(i);else if(i){var o=cn(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},YR=function(e){var r=e&&e.type;return r&&fy[r]?fy[r]:null},QR=function(e,r){return Ym(r).indexOf(e)},ZR=["children","width","height","viewBox","className","style","title","desc"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dh.apply(this,arguments)}function XR(t,e){if(t==null)return{};var r=JR(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lh(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,o=t.title,l=t.desc,c=XR(t,ZR),u=a||{width:r,height:n,x:0,y:0},f=Pe("recharts-surface",i);return O.createElement("svg",Dh({},Ne(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),O.createElement("title",null,o),O.createElement("desc",null,l),e)}var e5=["children","className"];function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bh.apply(this,arguments)}function t5(t,e){if(t==null)return{};var r=r5(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mt=O.forwardRef(function(t,e){var r=t.children,n=t.className,a=t5(t,e5),i=Pe("recharts-layer",n);return O.createElement("g",Bh({className:i},Ne(a,!0),{ref:e}),r)}),un=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function n5(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var a5=n5,i5=a5;function s5(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:i5(t,e,r)}var o5=s5,l5="\\ud800-\\udfff",c5="\\u0300-\\u036f",u5="\\ufe20-\\ufe2f",d5="\\u20d0-\\u20ff",f5=c5+u5+d5,h5="\\ufe0e\\ufe0f",p5="\\u200d",m5=RegExp("["+p5+l5+f5+h5+"]");function g5(t){return m5.test(t)}var yS=g5;function v5(t){return t.split("")}var y5=v5,bS="\\ud800-\\udfff",b5="\\u0300-\\u036f",x5="\\ufe20-\\ufe2f",w5="\\u20d0-\\u20ff",_5=b5+x5+w5,S5="\\ufe0e\\ufe0f",j5="["+bS+"]",Fh="["+_5+"]",Uh="\\ud83c[\\udffb-\\udfff]",O5="(?:"+Fh+"|"+Uh+")",xS="[^"+bS+"]",wS="(?:\\ud83c[\\udde6-\\uddff]){2}",_S="[\\ud800-\\udbff][\\udc00-\\udfff]",C5="\\u200d",SS=O5+"?",jS="["+S5+"]?",E5="(?:"+C5+"(?:"+[xS,wS,_S].join("|")+")"+jS+SS+")*",T5=jS+SS+E5,P5="(?:"+[xS+Fh+"?",Fh,wS,_S,j5].join("|")+")",A5=RegExp(Uh+"(?="+Uh+")|"+P5+T5,"g");function k5(t){return t.match(A5)||[]}var N5=k5,$5=y5,M5=yS,I5=N5;function R5(t){return M5(t)?I5(t):$5(t)}var D5=R5,L5=o5,B5=yS,F5=D5,U5=dS;function z5(t){return function(e){e=U5(e);var r=B5(e)?F5(e):void 0,n=r?r[0]:e.charAt(0),a=r?L5(r,1).join(""):e.slice(1);return n[t]()+a}}var q5=z5,W5=q5,H5=W5("toUpperCase"),V5=H5;const Ad=He(V5);function We(t){return function(){return t}}const OS=Math.cos,zc=Math.sin,Er=Math.sqrt,qc=Math.PI,kd=2*qc,zh=Math.PI,qh=2*zh,ga=1e-6,G5=qh-ga;function CS(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function K5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CS;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Y5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CS:K5(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-e,c=a-r,u=s-e,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>ga)if(!(Math.abs(f*l-c*u)>ga)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,v=a-o,m=l*l+c*c,g=p*p+v*v,w=Math.sqrt(m),y=Math.sqrt(h),S=i*Math.tan((zh-Math.acos((m+h-g)/(2*w*y)))/2),x=S/y,_=S/w;Math.abs(x-1)>ga&&this._append`L${e+x*u},${r+x*f}`,this._append`A${i},${i},0,0,${+(f*p>u*v)},${this._x1=e+_*l},${this._y1=r+_*c}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=e+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ga||Math.abs(this._y1-u)>ga)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%qh+qh),h>G5?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>ga&&this._append`A${n},${n},0,${+(h>=zh)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Qm(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Y5(e)}function Zm(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ES(t){this._context=t}ES.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nd(t){return new ES(t)}function TS(t){return t[0]}function PS(t){return t[1]}function AS(t,e){var r=We(!0),n=null,a=Nd,i=null,s=Qm(o);t=typeof t=="function"?t:t===void 0?TS:We(t),e=typeof e=="function"?e:e===void 0?PS:We(e);function o(l){var c,u=(l=Zm(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,c,l),+e(f,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:We(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:We(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:We(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function mc(t,e,r){var n=null,a=We(!0),i=null,s=Nd,o=null,l=Qm(c);t=typeof t=="function"?t:t===void 0?TS:We(+t),e=typeof e=="function"?e:We(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?PS:We(+r);function c(f){var h,p,v,m=(f=Zm(f)).length,g,w=!1,y,S=new Array(m),x=new Array(m);for(i==null&&(o=s(y=l())),h=0;h<=m;++h){if(!(h<m&&a(g=f[h],h,f))===w)if(w=!w)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(S[v],x[v]);o.lineEnd(),o.areaEnd()}w&&(S[h]=+t(g,h,f),x[h]=+e(g,h,f),o.point(n?+n(g,h,f):S[h],r?+r(g,h,f):x[h]))}if(y)return o=null,y+""||null}function u(){return AS().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:We(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:We(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:We(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:We(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:We(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:We(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:We(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class kS{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Q5(t){return new kS(t,!0)}function Z5(t){return new kS(t,!1)}const Xm={draw(t,e){const r=Er(e/qc);t.moveTo(r,0),t.arc(0,0,r,0,kd)}},X5={draw(t,e){const r=Er(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},NS=Er(1/3),J5=NS*2,eD={draw(t,e){const r=Er(e/J5),n=r*NS;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},tD={draw(t,e){const r=Er(e),n=-r/2;t.rect(n,n,r,r)}},rD=.8908130915292852,$S=zc(qc/10)/zc(7*qc/10),nD=zc(kd/10)*$S,aD=-OS(kd/10)*$S,iD={draw(t,e){const r=Er(e*rD),n=nD*r,a=aD*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=kd*i/5,o=OS(s),l=zc(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*a,l*n+o*a)}t.closePath()}},Ef=Er(3),sD={draw(t,e){const r=-Er(e/(Ef*3));t.moveTo(0,r*2),t.lineTo(-Ef*r,-r),t.lineTo(Ef*r,-r),t.closePath()}},Gt=-.5,Kt=Er(3)/2,Wh=1/Er(12),oD=(Wh/2+1)*3,lD={draw(t,e){const r=Er(e/oD),n=r/2,a=r*Wh,i=n,s=r*Wh+r,o=-i,l=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(o,l),t.lineTo(Gt*n-Kt*a,Kt*n+Gt*a),t.lineTo(Gt*i-Kt*s,Kt*i+Gt*s),t.lineTo(Gt*o-Kt*l,Kt*o+Gt*l),t.lineTo(Gt*n+Kt*a,Gt*a-Kt*n),t.lineTo(Gt*i+Kt*s,Gt*s-Kt*i),t.lineTo(Gt*o+Kt*l,Gt*l-Kt*o),t.closePath()}};function cD(t,e){let r=null,n=Qm(a);t=typeof t=="function"?t:We(t||Xm),e=typeof e=="function"?e:We(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:We(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:We(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Wc(){}function Hc(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function MS(t){this._context=t}MS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uD(t){return new MS(t)}function IS(t){this._context=t}IS.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dD(t){return new IS(t)}function RS(t){this._context=t}RS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fD(t){return new RS(t)}function DS(t){this._context=t}DS.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hD(t){return new DS(t)}function vy(t){return t<0?-1:1}function yy(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(vy(i)+vy(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function by(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Tf(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*e,i-o,s-o*r,i,s)}function Vc(t){this._context=t}Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tf(this,this._t0,by(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tf(this,by(this,r=yy(this,t,e)),r);break;default:Tf(this,this._t0,r=yy(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function LS(t){this._context=new BS(t)}(LS.prototype=Object.create(Vc.prototype)).point=function(t,e){Vc.prototype.point.call(this,e,t)};function BS(t){this._context=t}BS.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function pD(t){return new Vc(t)}function mD(t){return new LS(t)}function FS(t){this._context=t}FS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=xy(t),a=xy(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xy(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function gD(t){return new FS(t)}function $d(t,e){this._context=t,this._t=e}$d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function vD(t){return new $d(t,.5)}function yD(t){return new $d(t,0)}function bD(t){return new $d(t,1)}function Gi(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Hh(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function xD(t,e){return t[e]}function wD(t){const e=[];return e.key=t,e}function _D(){var t=We([]),e=Hh,r=Gi,n=xD;function a(i){var s=Array.from(t.apply(this,arguments),wD),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=Zm(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:We(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:We(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?Hh:typeof i=="function"?i:We(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Gi,a):r},a}function SD(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}Gi(t,e)}}function jD(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Gi(t,e)}}function OD(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var m=t[e[v]],g=m[n][1]||0,w=m[n-1][1]||0;p+=g-w}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Gi(t,e)}}function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}var CD=["type","size","sizeType"];function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vh.apply(this,arguments)}function wy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(r),!0).forEach(function(n){ED(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ED(t,e,r){return e=TD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TD(t){var e=PD(t,"string");return No(e)=="symbol"?e:e+""}function PD(t,e){if(No(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AD(t,e){if(t==null)return{};var r=kD(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kD(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var US={symbolCircle:Xm,symbolCross:X5,symbolDiamond:eD,symbolSquare:tD,symbolStar:iD,symbolTriangle:sD,symbolWye:lD},ND=Math.PI/180,$D=function(e){var r="symbol".concat(Ad(e));return US[r]||Xm},MD=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*ND;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ID=function(e,r){US["symbol".concat(Ad(e))]=r},Jm=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,o=s===void 0?"area":s,l=AD(e,CD),c=_y(_y({},l),{},{type:n,size:i,sizeType:o}),u=function(){var g=$D(n),w=cD().type(g).size(MD(i,o,n));return w()},f=c.className,h=c.cx,p=c.cy,v=Ne(c,!0);return h===+h&&p===+p&&i===+i?O.createElement("path",Vh({},v,{className:Pe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Jm.registerSymbol=ID;function Ki(t){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gh.apply(this,arguments)}function Sy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sy(Object(r),!0).forEach(function(n){$o(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qS(n.key),n)}}function BD(t,e,r){return e&&LD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FD(t,e,r){return e=Gc(e),UD(t,zS()?Reflect.construct(e,r||[],Gc(t).constructor):e.apply(t,r))}function UD(t,e){if(e&&(Ki(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zD(t)}function zD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zS=function(){return!!t})()}function Gc(t){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gc(t)}function qD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kh(t,e)}function Kh(t,e){return Kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kh(t,e)}function $o(t,e,r){return e=qS(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qS(t){var e=WD(t,"string");return Ki(e)=="symbol"?e:e+""}function WD(t,e){if(Ki(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yt=32,eg=function(t){function e(){return DD(this,e),FD(this,e,arguments)}return qD(e,t),BD(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Yt/2,s=Yt/6,o=Yt/3,l=n.inactive?a:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Yt,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Yt,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Yt/8,"h").concat(Yt,"v").concat(Yt*3/4,"h").concat(-Yt,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var c=RD({},n);return delete c.legendIcon,O.cloneElement(n.legendIcon,c)}return O.createElement(Jm,{fill:l,cx:i,cy:i,size:Yt,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Yt,height:Yt},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var m=p.formatter||l,g=Pe($o($o({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=_e(p.value)?null:p.value;un(!_e(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?c:p.color;return O.createElement("li",Gh({className:g,style:f,key:"legend-item-".concat(v)},Uc(n.props,p,v)),O.createElement(Lh,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(w,p,v):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(b.PureComponent);$o(eg,"displayName","Legend");$o(eg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var HD=gd;function VD(){this.__data__=new HD,this.size=0}var GD=VD;function KD(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var YD=KD;function QD(t){return this.__data__.get(t)}var ZD=QD;function XD(t){return this.__data__.has(t)}var JD=XD,e6=gd,t6=Um,r6=zm,n6=200;function a6(t,e){var r=this.__data__;if(r instanceof e6){var n=r.__data__;if(!t6||n.length<n6-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new r6(n)}return r.set(t,e),this.size=r.size,this}var i6=a6,s6=gd,o6=GD,l6=YD,c6=ZD,u6=JD,d6=i6;function Ms(t){var e=this.__data__=new s6(t);this.size=e.size}Ms.prototype.clear=o6;Ms.prototype.delete=l6;Ms.prototype.get=c6;Ms.prototype.has=u6;Ms.prototype.set=d6;var WS=Ms,f6="__lodash_hash_undefined__";function h6(t){return this.__data__.set(t,f6),this}var p6=h6;function m6(t){return this.__data__.has(t)}var g6=m6,v6=zm,y6=p6,b6=g6;function Kc(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new v6;++e<r;)this.add(t[e])}Kc.prototype.add=Kc.prototype.push=y6;Kc.prototype.has=b6;var HS=Kc;function x6(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var VS=x6;function w6(t,e){return t.has(e)}var GS=w6,_6=HS,S6=VS,j6=GS,O6=1,C6=2;function E6(t,e,r,n,a,i){var s=r&O6,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=r&C6?new _6:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var v=t[f],m=e[f];if(n)var g=s?n(m,v,f,e,t,i):n(v,m,f,t,e,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!S6(e,function(w,y){if(!j6(p,y)&&(v===w||a(v,w,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(v===m||a(v,m,r,n,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var KS=E6,T6=Yr,P6=T6.Uint8Array,A6=P6;function k6(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var N6=k6;function $6(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var tg=$6,jy=Yl,Oy=A6,M6=Fm,I6=KS,R6=N6,D6=tg,L6=1,B6=2,F6="[object Boolean]",U6="[object Date]",z6="[object Error]",q6="[object Map]",W6="[object Number]",H6="[object RegExp]",V6="[object Set]",G6="[object String]",K6="[object Symbol]",Y6="[object ArrayBuffer]",Q6="[object DataView]",Cy=jy?jy.prototype:void 0,Pf=Cy?Cy.valueOf:void 0;function Z6(t,e,r,n,a,i,s){switch(r){case Q6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Y6:return!(t.byteLength!=e.byteLength||!i(new Oy(t),new Oy(e)));case F6:case U6:case W6:return M6(+t,+e);case z6:return t.name==e.name&&t.message==e.message;case H6:case G6:return t==e+"";case q6:var o=R6;case V6:var l=n&L6;if(o||(o=D6),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=B6,s.set(t,e);var u=I6(o(t),o(e),n,a,i,s);return s.delete(t),u;case K6:if(Pf)return Pf.call(t)==Pf.call(e)}return!1}var X6=Z6;function J6(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var YS=J6,e9=YS,t9=Ft;function r9(t,e,r){var n=e(t);return t9(t)?n:e9(n,r(t))}var n9=r9;function a9(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[a++]=s)}return i}var i9=a9;function s9(){return[]}var o9=s9,l9=i9,c9=o9,u9=Object.prototype,d9=u9.propertyIsEnumerable,Ey=Object.getOwnPropertySymbols,f9=Ey?function(t){return t==null?[]:(t=Object(t),l9(Ey(t),function(e){return d9.call(t,e)}))}:c9,h9=f9;function p9(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var m9=p9,g9=wn,v9=_n,y9="[object Arguments]";function b9(t){return v9(t)&&g9(t)==y9}var x9=b9,Ty=x9,w9=_n,QS=Object.prototype,_9=QS.hasOwnProperty,S9=QS.propertyIsEnumerable,j9=Ty(function(){return arguments}())?Ty:function(t){return w9(t)&&_9.call(t,"callee")&&!S9.call(t,"callee")},rg=j9,Yc={exports:{}};function O9(){return!1}var C9=O9;Yc.exports;(function(t,e){var r=Yr,n=C9,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(Yc,Yc.exports);var ZS=Yc.exports,E9=9007199254740991,T9=/^(?:0|[1-9]\d*)$/;function P9(t,e){var r=typeof t;return e=e??E9,!!e&&(r=="number"||r!="symbol"&&T9.test(t))&&t>-1&&t%1==0&&t<e}var ng=P9,A9=9007199254740991;function k9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=A9}var ag=k9,N9=wn,$9=ag,M9=_n,I9="[object Arguments]",R9="[object Array]",D9="[object Boolean]",L9="[object Date]",B9="[object Error]",F9="[object Function]",U9="[object Map]",z9="[object Number]",q9="[object Object]",W9="[object RegExp]",H9="[object Set]",V9="[object String]",G9="[object WeakMap]",K9="[object ArrayBuffer]",Y9="[object DataView]",Q9="[object Float32Array]",Z9="[object Float64Array]",X9="[object Int8Array]",J9="[object Int16Array]",eL="[object Int32Array]",tL="[object Uint8Array]",rL="[object Uint8ClampedArray]",nL="[object Uint16Array]",aL="[object Uint32Array]",Ge={};Ge[Q9]=Ge[Z9]=Ge[X9]=Ge[J9]=Ge[eL]=Ge[tL]=Ge[rL]=Ge[nL]=Ge[aL]=!0;Ge[I9]=Ge[R9]=Ge[K9]=Ge[D9]=Ge[Y9]=Ge[L9]=Ge[B9]=Ge[F9]=Ge[U9]=Ge[z9]=Ge[q9]=Ge[W9]=Ge[H9]=Ge[V9]=Ge[G9]=!1;function iL(t){return M9(t)&&$9(t.length)&&!!Ge[N9(t)]}var sL=iL;function oL(t){return function(e){return t(e)}}var XS=oL,Qc={exports:{}};Qc.exports;(function(t,e){var r=iS,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Qc,Qc.exports);var lL=Qc.exports,cL=sL,uL=XS,Py=lL,Ay=Py&&Py.isTypedArray,dL=Ay?uL(Ay):cL,JS=dL,fL=m9,hL=rg,pL=Ft,mL=ZS,gL=ng,vL=JS,yL=Object.prototype,bL=yL.hasOwnProperty;function xL(t,e){var r=pL(t),n=!r&&hL(t),a=!r&&!n&&mL(t),i=!r&&!n&&!a&&vL(t),s=r||n||a||i,o=s?fL(t.length,String):[],l=o.length;for(var c in t)(e||bL.call(t,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gL(c,l)))&&o.push(c);return o}var wL=xL,_L=Object.prototype;function SL(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||_L;return t===r}var jL=SL;function OL(t,e){return function(r){return t(e(r))}}var ej=OL,CL=ej,EL=CL(Object.keys,Object),TL=EL,PL=jL,AL=TL,kL=Object.prototype,NL=kL.hasOwnProperty;function $L(t){if(!PL(t))return AL(t);var e=[];for(var r in Object(t))NL.call(t,r)&&r!="constructor"&&e.push(r);return e}var ML=$L,IL=Bm,RL=ag;function DL(t){return t!=null&&RL(t.length)&&!IL(t)}var Xl=DL,LL=wL,BL=ML,FL=Xl;function UL(t){return FL(t)?LL(t):BL(t)}var Md=UL,zL=n9,qL=h9,WL=Md;function HL(t){return zL(t,WL,qL)}var VL=HL,ky=VL,GL=1,KL=Object.prototype,YL=KL.hasOwnProperty;function QL(t,e,r,n,a,i){var s=r&GL,o=ky(t),l=o.length,c=ky(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:YL.call(e,h)))return!1}var p=i.get(t),v=i.get(e);if(p&&v)return p==e&&v==t;var m=!0;i.set(t,e),i.set(e,t);for(var g=s;++f<l;){h=o[f];var w=t[h],y=e[h];if(n)var S=s?n(y,w,h,e,t,i):n(w,y,h,t,e,i);if(!(S===void 0?w===y||a(w,y,r,n,i):S)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var x=t.constructor,_=e.constructor;x!=_&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(t),i.delete(e),m}var ZL=QL,XL=ei,JL=Yr,e8=XL(JL,"DataView"),t8=e8,r8=ei,n8=Yr,a8=r8(n8,"Promise"),i8=a8,s8=ei,o8=Yr,l8=s8(o8,"Set"),tj=l8,c8=ei,u8=Yr,d8=c8(u8,"WeakMap"),f8=d8,Yh=t8,Qh=Um,Zh=i8,Xh=tj,Jh=f8,rj=wn,Is=oS,Ny="[object Map]",h8="[object Object]",$y="[object Promise]",My="[object Set]",Iy="[object WeakMap]",Ry="[object DataView]",p8=Is(Yh),m8=Is(Qh),g8=Is(Zh),v8=Is(Xh),y8=Is(Jh),va=rj;(Yh&&va(new Yh(new ArrayBuffer(1)))!=Ry||Qh&&va(new Qh)!=Ny||Zh&&va(Zh.resolve())!=$y||Xh&&va(new Xh)!=My||Jh&&va(new Jh)!=Iy)&&(va=function(t){var e=rj(t),r=e==h8?t.constructor:void 0,n=r?Is(r):"";if(n)switch(n){case p8:return Ry;case m8:return Ny;case g8:return $y;case v8:return My;case y8:return Iy}return e});var b8=va,Af=WS,x8=KS,w8=X6,_8=ZL,Dy=b8,Ly=Ft,By=ZS,S8=JS,j8=1,Fy="[object Arguments]",Uy="[object Array]",gc="[object Object]",O8=Object.prototype,zy=O8.hasOwnProperty;function C8(t,e,r,n,a,i){var s=Ly(t),o=Ly(e),l=s?Uy:Dy(t),c=o?Uy:Dy(e);l=l==Fy?gc:l,c=c==Fy?gc:c;var u=l==gc,f=c==gc,h=l==c;if(h&&By(t)){if(!By(e))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new Af),s||S8(t)?x8(t,e,r,n,a,i):w8(t,e,l,r,n,a,i);if(!(r&j8)){var p=u&&zy.call(t,"__wrapped__"),v=f&&zy.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,g=v?e.value():e;return i||(i=new Af),a(m,g,r,n,i)}}return h?(i||(i=new Af),_8(t,e,r,n,a,i)):!1}var E8=C8,T8=E8,qy=_n;function nj(t,e,r,n,a){return t===e?!0:t==null||e==null||!qy(t)&&!qy(e)?t!==t&&e!==e:T8(t,e,r,n,nj,a)}var ig=nj,P8=WS,A8=ig,k8=1,N8=2;function $8(t,e,r,n){var a=r.length,i=a,s=!n;if(t==null)return!i;for(t=Object(t);a--;){var o=r[a];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++a<i;){o=r[a];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new P8;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?A8(u,c,k8|N8,n,f):h))return!1}}return!0}var M8=$8,I8=ia;function R8(t){return t===t&&!I8(t)}var aj=R8,D8=aj,L8=Md;function B8(t){for(var e=L8(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,D8(a)]}return e}var F8=B8;function U8(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var ij=U8,z8=M8,q8=F8,W8=ij;function H8(t){var e=q8(t);return e.length==1&&e[0][2]?W8(e[0][0],e[0][1]):function(r){return r===t||z8(r,t,e)}}var V8=H8;function G8(t,e){return t!=null&&e in Object(t)}var K8=G8,Y8=fS,Q8=rg,Z8=Ft,X8=ng,J8=ag,e7=yd;function t7(t,e,r){e=Y8(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var s=e7(e[n]);if(!(i=t!=null&&r(t,s)))break;t=t[s]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&J8(a)&&X8(s,a)&&(Z8(t)||Q8(t)))}var r7=t7,n7=K8,a7=r7;function i7(t,e){return t!=null&&a7(t,e,n7)}var s7=i7,o7=ig,l7=hS,c7=s7,u7=Lm,d7=aj,f7=ij,h7=yd,p7=1,m7=2;function g7(t,e){return u7(t)&&d7(e)?f7(h7(t),e):function(r){var n=l7(r,t);return n===void 0&&n===e?c7(r,t):o7(e,n,p7|m7)}}var v7=g7;function y7(t){return t}var Rs=y7;function b7(t){return function(e){return e==null?void 0:e[t]}}var x7=b7,w7=Hm;function _7(t){return function(e){return w7(e,t)}}var S7=_7,j7=x7,O7=S7,C7=Lm,E7=yd;function T7(t){return C7(t)?j7(E7(t)):O7(t)}var P7=T7,A7=V8,k7=v7,N7=Rs,$7=Ft,M7=P7;function I7(t){return typeof t=="function"?t:t==null?N7:typeof t=="object"?$7(t)?k7(t[0],t[1]):A7(t):M7(t)}var sa=I7;function R7(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var sj=R7;function D7(t){return t!==t}var L7=D7;function B7(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var F7=B7,U7=sj,z7=L7,q7=F7;function W7(t,e,r){return e===e?q7(t,e,r):U7(t,z7,r)}var H7=W7,V7=H7;function G7(t,e){var r=t==null?0:t.length;return!!r&&V7(t,e,0)>-1}var K7=G7;function Y7(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var Q7=Y7;function Z7(){}var X7=Z7,kf=tj,J7=X7,eB=tg,tB=1/0,rB=kf&&1/eB(new kf([,-0]))[1]==tB?function(t){return new kf(t)}:J7,nB=rB,aB=HS,iB=K7,sB=Q7,oB=GS,lB=nB,cB=tg,uB=200;function dB(t,e,r){var n=-1,a=iB,i=t.length,s=!0,o=[],l=o;if(r)s=!1,a=sB;else if(i>=uB){var c=e?null:lB(t);if(c)return cB(c);s=!1,a=oB,l=new aB}else l=e?[]:o;e:for(;++n<i;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var fB=dB,hB=sa,pB=fB;function mB(t,e){return t&&t.length?pB(t,hB(e)):[]}var gB=mB;const Wy=He(gB);function oj(t,e,r){return e===!0?Wy(t,r):_e(e)?Wy(t,e):t}function Yi(t){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(t)}var vB=["ref"];function Hy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hy(Object(r),!0).forEach(function(n){Id(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cj(n.key),n)}}function bB(t,e,r){return e&&Vy(t.prototype,e),r&&Vy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xB(t,e,r){return e=Zc(e),wB(t,lj()?Reflect.construct(e,r||[],Zc(t).constructor):e.apply(t,r))}function wB(t,e){if(e&&(Yi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _B(t)}function _B(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lj=function(){return!!t})()}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zc(t)}function SB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ep(t,e)}function ep(t,e){return ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ep(t,e)}function Id(t,e,r){return e=cj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cj(t){var e=jB(t,"string");return Yi(e)=="symbol"?e:e+""}function jB(t,e){if(Yi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OB(t,e){if(t==null)return{};var r=CB(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EB(t){return t.value}function TB(t,e){if(O.isValidElement(t))return O.cloneElement(t,e);if(typeof t=="function")return O.createElement(t,e);e.ref;var r=OB(e,vB);return O.createElement(eg,r)}var Gy=1,Ma=function(t){function e(){var r;yB(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xB(this,e,[].concat(a)),Id(r,"lastBoundingBox",{width:-1,height:-1}),r}return SB(e,t),bB(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Gy||Math.abs(a.height-this.lastBoundingBox.height)>Gy)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();h={top:((u||0)-v.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Jr(Jr({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=Jr(Jr({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return O.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},TB(i,Jr(Jr({},this.props),{},{payload:oj(u,c,EB)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Jr(Jr({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&H(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(b.PureComponent);Id(Ma,"displayName","Legend");Id(Ma,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ky=Yl,PB=rg,AB=Ft,Yy=Ky?Ky.isConcatSpreadable:void 0;function kB(t){return AB(t)||PB(t)||!!(Yy&&t&&t[Yy])}var NB=kB,$B=YS,MB=NB;function uj(t,e,r,n,a){var i=-1,s=t.length;for(r||(r=MB),a||(a=[]);++i<s;){var o=t[i];e>0&&r(o)?e>1?uj(o,e-1,r,n,a):$B(a,o):n||(a[a.length]=o)}return a}var dj=uj;function IB(t){return function(e,r,n){for(var a=-1,i=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++a];if(r(i[l],l,i)===!1)break}return e}}var RB=IB,DB=RB,LB=DB(),BB=LB,FB=BB,UB=Md;function zB(t,e){return t&&FB(t,e,UB)}var fj=zB,qB=Xl;function WB(t,e){return function(r,n){if(r==null)return r;if(!qB(r))return t(r,n);for(var a=r.length,i=e?a:-1,s=Object(r);(e?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var HB=WB,VB=fj,GB=HB,KB=GB(VB),sg=KB,YB=sg,QB=Xl;function ZB(t,e){var r=-1,n=QB(t)?Array(t.length):[];return YB(t,function(a,i,s){n[++r]=e(a,i,s)}),n}var hj=ZB;function XB(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var JB=XB,Qy=Ps;function eF(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=Qy(t),s=e!==void 0,o=e===null,l=e===e,c=Qy(e);if(!o&&!c&&!i&&t>e||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&t<e||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var tF=eF,rF=tF;function nF(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,s=a.length,o=r.length;++n<s;){var l=rF(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var aF=nF,Nf=Wm,iF=Hm,sF=sa,oF=hj,lF=JB,cF=XS,uF=aF,dF=Rs,fF=Ft;function hF(t,e,r){e.length?e=Nf(e,function(i){return fF(i)?function(s){return iF(s,i.length===1?i[0]:i)}:i}):e=[dF];var n=-1;e=Nf(e,cF(sF));var a=oF(t,function(i,s,o){var l=Nf(e,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return lF(a,function(i,s){return uF(i,s,r)})}var pF=hF;function mF(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var gF=mF,vF=gF,Zy=Math.max;function yF(t,e,r){return e=Zy(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=Zy(n.length-e,0),s=Array(i);++a<i;)s[a]=n[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=n[a];return o[e]=r(s),vF(t,this,o)}}var bF=yF;function xF(t){return function(){return t}}var wF=xF,_F=ei,SF=function(){try{var t=_F(Object,"defineProperty");return t({},"",{}),t}catch{}}(),pj=SF,jF=wF,Xy=pj,OF=Rs,CF=Xy?function(t,e){return Xy(t,"toString",{configurable:!0,enumerable:!1,value:jF(e),writable:!0})}:OF,EF=CF,TF=800,PF=16,AF=Date.now;function kF(t){var e=0,r=0;return function(){var n=AF(),a=PF-(n-r);if(r=n,a>0){if(++e>=TF)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var NF=kF,$F=EF,MF=NF,IF=MF($F),RF=IF,DF=Rs,LF=bF,BF=RF;function FF(t,e){return BF(LF(t,e,DF),t+"")}var UF=FF,zF=Fm,qF=Xl,WF=ng,HF=ia;function VF(t,e,r){if(!HF(r))return!1;var n=typeof e;return(n=="number"?qF(r)&&WF(e,r.length):n=="string"&&e in r)?zF(r[e],t):!1}var Rd=VF,GF=dj,KF=pF,YF=UF,Jy=Rd,QF=YF(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Jy(t,e[0],e[1])?e=[]:r>2&&Jy(e[0],e[1],e[2])&&(e=[e[0]]),KF(t,GF(e,1),[])}),ZF=QF;const og=He(ZF);function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tp.apply(this,arguments)}function XF(t,e){return rU(t)||tU(t,e)||eU(t,e)||JF()}function JF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eU(t,e){if(t){if(typeof t=="string")return e0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e0(t,e)}}function e0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function rU(t){if(Array.isArray(t))return t}function t0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $f(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t0(Object(r),!0).forEach(function(n){nU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nU(t,e,r){return e=aU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aU(t){var e=iU(t,"string");return Mo(e)=="symbol"?e:e+""}function iU(t,e){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sU(t){return Array.isArray(t)&&dt(t[0])&&dt(t[1])?t.join(" ~ "):t}var oU=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,m=e.label,g=e.labelFormatter,w=e.accessibilityLayer,y=w===void 0?!1:w,S=function(){if(u&&u.length){var N={padding:0,margin:0},D=(h?og(u,h):u).map(function(M,R){if(M.type==="none")return null;var I=$f({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),B=M.formatter||f||sU,U=M.value,q=M.name,ie=U,V=q;if(B&&ie!=null&&V!=null){var Y=B(U,q,M,R,u);if(Array.isArray(Y)){var ce=XF(Y,2);ie=ce[0],V=ce[1]}else ie=Y}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:I},dt(V)?O.createElement("span",{className:"recharts-tooltip-item-name"},V):null,dt(V)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},ie),O.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:N},D)}return null},x=$f({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=$f({margin:0},c),j=!Me(m),C=j?m:"",E=Pe("recharts-default-tooltip",p),A=Pe("recharts-tooltip-label",v);j&&g&&u!==void 0&&u!==null&&(C=g(m,u));var P=y?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",tp({className:E,style:x},P),O.createElement("p",{className:A,style:_},O.isValidElement(C)?C:"".concat(C)),S())};function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function vc(t,e,r){return e=lU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lU(t){var e=cU(t,"string");return Io(e)=="symbol"?e:e+""}function cU(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zs="recharts-tooltip-wrapper",uU={visibility:"hidden"};function dU(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Pe(Zs,vc(vc(vc(vc({},"".concat(Zs,"-right"),H(r)&&e&&H(e.x)&&r>=e.x),"".concat(Zs,"-left"),H(r)&&e&&H(e.x)&&r<e.x),"".concat(Zs,"-bottom"),H(n)&&e&&H(e.y)&&n>=e.y),"".concat(Zs,"-top"),H(n)&&e&&H(e.y)&&n<e.y))}function r0(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(i&&H(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(e[n])return s[n]?u:f;if(s[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var v=f+o,m=l[n]+c;return v>m?Math.max(u,l[n]):Math.max(f,l[n])}function fU(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function hU(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=r0({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=r0({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=fU({translateX:u,translateY:f,useTranslate3d:o})):c=uU,{cssProperties:c,cssClasses:dU({translateX:u,translateY:f,coordinate:r})}}function Qi(t){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(t)}function n0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n0(Object(r),!0).forEach(function(n){np(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gj(n.key),n)}}function gU(t,e,r){return e&&mU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vU(t,e,r){return e=Xc(e),yU(t,mj()?Reflect.construct(e,r||[],Xc(t).constructor):e.apply(t,r))}function yU(t,e){if(e&&(Qi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bU(t)}function bU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mj=function(){return!!t})()}function Xc(t){return Xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xc(t)}function xU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rp(t,e)}function rp(t,e){return rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rp(t,e)}function np(t,e,r){return e=gj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gj(t){var e=wU(t,"string");return Qi(e)=="symbol"?e:e+""}function wU(t,e){if(Qi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i0=1,_U=function(t){function e(){var r;pU(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vU(this,e,[].concat(a)),np(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),np(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return xU(e,t),gU(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>i0||Math.abs(n.height-this.state.lastBoundingBox.height)>i0)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,v=a.position,m=a.reverseDirection,g=a.useTranslate3d,w=a.viewBox,y=a.wrapperStyle,S=hU({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:w}),x=S.cssClasses,_=S.cssProperties,j=a0(a0({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return O.createElement("div",{tabIndex:-1,className:x,style:j,ref:function(E){n.wrapperNode=E}},c)}}])}(b.PureComponent),SU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yn={isSsr:SU(),get:function(e){return Yn[e]},set:function(e,r){if(typeof e=="string")Yn[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(a){Yn[a]=e[a]})}}};function Zi(t){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(t)}function s0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function o0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(r),!0).forEach(function(n){lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yj(n.key),n)}}function CU(t,e,r){return e&&OU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EU(t,e,r){return e=Jc(e),TU(t,vj()?Reflect.construct(e,r||[],Jc(t).constructor):e.apply(t,r))}function TU(t,e){if(e&&(Zi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PU(t)}function PU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vj=function(){return!!t})()}function Jc(t){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jc(t)}function AU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ap(t,e)}function ap(t,e){return ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ap(t,e)}function lg(t,e,r){return e=yj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yj(t){var e=kU(t,"string");return Zi(e)=="symbol"?e:e+""}function kU(t,e){if(Zi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NU(t){return t.dataKey}function $U(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(oU,e)}var dr=function(t){function e(){return jU(this,e),EU(this,e,arguments)}return AU(e,t),CU(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,v=a.payload,m=a.payloadUniqBy,g=a.position,w=a.reverseDirection,y=a.useTranslate3d,S=a.viewBox,x=a.wrapperStyle,_=v??[];f&&_.length&&(_=oj(v.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,NU));var j=_.length>0;return O.createElement(_U,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:j,offset:p,position:g,reverseDirection:w,useTranslate3d:y,viewBox:S,wrapperStyle:x},$U(c,o0(o0({},this.props),{},{payload:_})))}}])}(b.PureComponent);lg(dr,"displayName","Tooltip");lg(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var MU=Yr,IU=function(){return MU.Date.now()},RU=IU,DU=/\s/;function LU(t){for(var e=t.length;e--&&DU.test(t.charAt(e)););return e}var BU=LU,FU=BU,UU=/^\s+/;function zU(t){return t&&t.slice(0,FU(t)+1).replace(UU,"")}var qU=zU,WU=qU,l0=ia,HU=Ps,c0=NaN,VU=/^[-+]0x[0-9a-f]+$/i,GU=/^0b[01]+$/i,KU=/^0o[0-7]+$/i,YU=parseInt;function QU(t){if(typeof t=="number")return t;if(HU(t))return c0;if(l0(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=l0(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=WU(t);var r=GU.test(t);return r||KU.test(t)?YU(t.slice(2),r?2:8):VU.test(t)?c0:+t}var bj=QU,ZU=ia,Mf=RU,u0=bj,XU="Expected a function",JU=Math.max,ez=Math.min;function tz(t,e,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(XU);e=u0(e)||0,ZU(r)&&(u=!!r.leading,f="maxWait"in r,i=f?JU(u0(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function p(j){var C=n,E=a;return n=a=void 0,c=j,s=t.apply(E,C),s}function v(j){return c=j,o=setTimeout(w,e),u?p(j):s}function m(j){var C=j-l,E=j-c,A=e-C;return f?ez(A,i-E):A}function g(j){var C=j-l,E=j-c;return l===void 0||C>=e||C<0||f&&E>=i}function w(){var j=Mf();if(g(j))return y(j);o=setTimeout(w,m(j))}function y(j){return o=void 0,h&&n?p(j):(n=a=void 0,s)}function S(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function x(){return o===void 0?s:y(Mf())}function _(){var j=Mf(),C=g(j);if(n=arguments,a=this,l=j,C){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(w,e),p(l)}return o===void 0&&(o=setTimeout(w,e)),s}return _.cancel=S,_.flush=x,_}var rz=tz,nz=rz,az=ia,iz="Expected a function";function sz(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(iz);return az(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),nz(t,e,{leading:n,maxWait:e,trailing:a})}var oz=sz;const xj=He(oz);function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function d0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d0(Object(r),!0).forEach(function(n){lz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lz(t,e,r){return e=cz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cz(t){var e=uz(t,"string");return Ro(e)=="symbol"?e:e+""}function uz(t,e){if(Ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dz(t,e){return mz(t)||pz(t,e)||hz(t,e)||fz()}function fz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hz(t,e){if(t){if(typeof t=="string")return f0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f0(t,e)}}function f0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function mz(t){if(Array.isArray(t))return t}var wj=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,m=v===void 0?0:v,g=t.id,w=t.className,y=t.onResize,S=t.style,x=S===void 0?{}:S,_=b.useRef(null),j=b.useRef();j.current=y,b.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var C=b.useState({containerWidth:a.width,containerHeight:a.height}),E=dz(C,2),A=E[0],P=E[1],T=b.useCallback(function(D,M){P(function(R){var I=Math.round(D),B=Math.round(M);return R.containerWidth===I&&R.containerHeight===B?R:{containerWidth:I,containerHeight:B}})},[]);b.useEffect(function(){var D=function(q){var ie,V=q[0].contentRect,Y=V.width,ce=V.height;T(Y,ce),(ie=j.current)===null||ie===void 0||ie.call(j,Y,ce)};m>0&&(D=xj(D,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(D),R=_.current.getBoundingClientRect(),I=R.width,B=R.height;return T(I,B),M.observe(_.current),function(){M.disconnect()}},[T,m]);var N=b.useMemo(function(){var D=A.containerWidth,M=A.containerHeight;if(D<0||M<0)return null;un(_a(s)||_a(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),un(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=_a(s)?D:s,I=_a(l)?M:l;r&&r>0&&(R?I=R/r:I&&(R=I*r),h&&I>h&&(I=h)),un(R>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,I,s,l,u,f,r);var B=!Array.isArray(p)&&cn(p.type).endsWith("Chart");return O.Children.map(p,function(U){return gS.isElement(U)?b.cloneElement(U,yc({width:R,height:I},B?{style:yc({height:"100%",width:"100%",maxHeight:I,maxWidth:R},U.props.style)}:{})):U})},[r,p,l,h,f,u,A,s]);return O.createElement("div",{id:g?"".concat(g):void 0,className:Pe("recharts-responsive-container",w),style:yc(yc({},x),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:_},N)}),_j=function(e){return null};_j.displayName="Cell";function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function h0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h0(Object(r),!0).forEach(function(n){gz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gz(t,e,r){return e=vz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vz(t){var e=yz(t,"string");return Do(e)=="symbol"?e:e+""}function yz(t,e){if(Do(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ci={widthCache:{},cacheCount:0},bz=2e3,xz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},p0="recharts_measurement_span";function wz(t){var e=ip({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var bo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yn.isSsr)return{width:0,height:0};var n=wz(r),a=JSON.stringify({text:e,copyStyle:n});if(ci.widthCache[a])return ci.widthCache[a];try{var i=document.getElementById(p0);i||(i=document.createElement("span"),i.setAttribute("id",p0),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=ip(ip({},xz),n);Object.assign(i.style,s),i.textContent="".concat(e);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return ci.widthCache[a]=l,++ci.cacheCount>bz&&(ci.cacheCount=0,ci.widthCache={}),l}catch{return{width:0,height:0}}},_z=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(t)}function eu(t,e){return Cz(t)||Oz(t,e)||jz(t,e)||Sz()}function Sz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jz(t,e){if(t){if(typeof t=="string")return m0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m0(t,e)}}function m0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Cz(t){if(Array.isArray(t))return t}function Ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g0(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pz(n.key),n)}}function Tz(t,e,r){return e&&g0(t.prototype,e),r&&g0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pz(t){var e=Az(t,"string");return Lo(e)=="symbol"?e:e+""}function Az(t,e){if(Lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$z=Object.keys(Sj),mi="NaN";function Mz(t,e){return t*Sj[e]}var bc=function(){function t(e,r){Ez(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!kz.test(r)&&(this.num=NaN,this.unit=""),$z.includes(r)&&(this.num=Mz(e,r),this.unit="px")}return Tz(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Nz.exec(r))!==null&&n!==void 0?n:[],i=eu(a,3),s=i[1],o=i[2];return new t(parseFloat(s),o??"")}}])}();function jj(t){if(t.includes(mi))return mi;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=v0.exec(e))!==null&&r!==void 0?r:[],a=eu(n,4),i=a[1],s=a[2],o=a[3],l=bc.parse(i??""),c=bc.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return mi;e=e.replace(v0,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=y0.exec(e))!==null&&f!==void 0?f:[],p=eu(h,4),v=p[1],m=p[2],g=p[3],w=bc.parse(v??""),y=bc.parse(g??""),S=m==="+"?w.add(y):w.subtract(y);if(S.isNaN())return mi;e=e.replace(y0,S.toString())}return e}var b0=/\(([^()]*)\)/;function Iz(t){for(var e=t;e.includes("(");){var r=b0.exec(e),n=eu(r,2),a=n[1];e=e.replace(b0,jj(a))}return e}function Rz(t){var e=t.replace(/\s+/g,"");return e=Iz(e),e=jj(e),e}function Dz(t){try{return Rz(t)}catch{return mi}}function If(t){var e=Dz(t.slice(5,-1));return e===mi?"":e}var Lz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bz=["dx","dy","angle","className","breakAll"];function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sp.apply(this,arguments)}function x0(t,e){if(t==null)return{};var r=Fz(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w0(t,e){return Wz(t)||qz(t,e)||zz(t,e)||Uz()}function Uz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zz(t,e){if(t){if(typeof t=="string")return _0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(t,e)}}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Wz(t){if(Array.isArray(t))return t}var Oj=/[ \f\n\r\t\v\u2028\u2029]+/,Cj=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Me(r)||(n?i=r.toString().split(""):i=r.toString().split(Oj));var s=i.map(function(l){return{word:l,width:bo(l,a).width}}),o=n?0:bo(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Hz=function(e,r,n,a,i){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=H(s),f=o,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(I,B){var U=B.word,q=B.width,ie=I[I.length-1];if(ie&&(a==null||i||ie.width+q+n<Number(a)))ie.words.push(U),ie.width+=q+n;else{var V={words:[U],width:q};I.push(V)}return I},[])},p=h(r),v=function(R){return R.reduce(function(I,B){return I.width>B.width?I:B})};if(!u)return p;for(var m="…",g=function(R){var I=f.slice(0,R),B=Cj({breakAll:c,style:l,children:I+m}).wordsWithComputedWidth,U=h(B),q=U.length>s||v(U).width>Number(a);return[q,U]},w=0,y=f.length-1,S=0,x;w<=y&&S<=f.length-1;){var _=Math.floor((w+y)/2),j=_-1,C=g(j),E=w0(C,2),A=E[0],P=E[1],T=g(_),N=w0(T,1),D=N[0];if(!A&&!D&&(w=_+1),A&&D&&(y=_-1),!A&&D){x=P;break}S++}return x||p},S0=function(e){var r=Me(e)?[]:e.toString().split(Oj);return[{words:r}]},Vz=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Yn.isSsr){var l,c,u=Cj({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return S0(a);return Hz({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return S0(a)},j0="#808080",tu=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,m=v===void 0?"end":v,g=e.fill,w=g===void 0?j0:g,y=x0(e,Lz),S=b.useMemo(function(){return Vz({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),x=y.dx,_=y.dy,j=y.angle,C=y.className,E=y.breakAll,A=x0(y,Bz);if(!dt(n)||!dt(i))return null;var P=n+(H(x)?x:0),T=i+(H(_)?_:0),N;switch(m){case"start":N=If("calc(".concat(c,")"));break;case"middle":N=If("calc(".concat((S.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=If("calc(".concat(S.length-1," * -").concat(o,")"));break}var D=[];if(f){var M=S[0].width,R=y.width;D.push("scale(".concat((H(R)?R/M:1)/M,")"))}return j&&D.push("rotate(".concat(j,", ").concat(P,", ").concat(T,")")),D.length&&(A.transform=D.join(" ")),O.createElement("text",sp({},Ne(A,!0),{x:P,y:T,className:Pe("recharts-text",C),textAnchor:p,fill:w.includes("url")?j0:w}),S.map(function(I,B){var U=I.words.join(E?"":" ");return O.createElement("tspan",{x:P,dy:B===0?N:o,key:"".concat(U,"-").concat(B)},U)}))};function Qn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gz(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cg(t){let e,r,n;t.length!==2?(e=Qn,r=(o,l)=>Qn(t(o),l),n=(o,l)=>t(o)-l):(e=t===Qn||t===Gz?t:Kz,r=t,n=t);function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function Kz(){return 0}function Ej(t){return t===null?NaN:+t}function*Yz(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Qz=cg(Qn),Jl=Qz.right;cg(Ej).center;class O0 extends Map{constructor(e,r=Jz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(C0(this,e))}has(e){return super.has(C0(this,e))}set(e,r){return super.set(Zz(this,e),r)}delete(e){return super.delete(Xz(this,e))}}function C0({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Zz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Xz({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Jz(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eq(t=Qn){if(t===Qn)return Tj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Tj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tq=Math.sqrt(50),rq=Math.sqrt(10),nq=Math.sqrt(2);function ru(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=tq?10:i>=rq?5:i>=nq?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?ru(t,e,r*2):[o,l,c]}function op(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?ru(e,t,r):ru(t,e,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function lp(t,e,r){return e=+e,t=+t,r=+r,ru(t,e,r)[2]}function cp(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?lp(e,t,r):lp(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function E0(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function T0(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Pj(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?Tj:eq(a);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),v=Math.min(n,Math.floor(e+(l-c)*f/l+h));Pj(t,e,p,v,a)}const i=t[e];let s=r,o=n;for(Xs(t,r,e),a(t[n],i)>0&&Xs(t,r,n);s<o;){for(Xs(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[r],i)===0?Xs(t,r,o):(++o,Xs(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Xs(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function aq(t,e,r){if(t=Float64Array.from(Yz(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return T0(t);if(e>=1)return E0(t);var n,a=(n-1)*e,i=Math.floor(a),s=E0(Pj(t,i).subarray(0,i+1)),o=T0(t.subarray(i+1));return s+(o-s)*(a-i)}}function iq(t,e,r=Ej){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return s+(o-s)*(a-i)}}function sq(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function ir(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const up=Symbol("implicit");function ug(){var t=new O0,e=[],r=[],n=up;function a(i){let s=t.get(i);if(s===void 0){if(n!==up)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new O0;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ug(e,r).unknown(n)},ir.apply(a,arguments),a}function Bo(){var t=ug().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=a<n,v=p?a:n,m=p?n:a;i=(m-v)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),v+=(m-v-i*(h-l))*u,s=i*(1-l),o&&(v=Math.round(v),s=Math.round(s));var g=sq(h).map(function(w){return v+i*w});return r(p?g.reverse():g)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Bo(e(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},ir.apply(f(),arguments)}function Aj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Aj(e())},t}function xo(){return Aj(Bo.apply(null,arguments).paddingInner(1))}function dg(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function kj(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ec(){}var Fo=.7,nu=1/Fo,Si="\\s*([+-]?\\d+)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oq=/^#([0-9a-f]{3,8})$/,lq=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),cq=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),uq=new RegExp(`^rgba\\(${Si},${Si},${Si},${Uo}\\)$`),dq=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${Uo}\\)$`),fq=new RegExp(`^hsl\\(${Uo},${Fr},${Fr}\\)$`),hq=new RegExp(`^hsla\\(${Uo},${Fr},${Fr},${Uo}\\)$`),P0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dg(ec,zo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:A0,formatHex:A0,formatHex8:pq,formatHsl:mq,formatRgb:k0,toString:k0});function A0(){return this.rgb().formatHex()}function pq(){return this.rgb().formatHex8()}function mq(){return Nj(this).formatHsl()}function k0(){return this.rgb().formatRgb()}function zo(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=oq.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?N0(e):r===3?new Bt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?xc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?xc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lq.exec(t))?new Bt(e[1],e[2],e[3],1):(e=cq.exec(t))?new Bt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uq.exec(t))?xc(e[1],e[2],e[3],e[4]):(e=dq.exec(t))?xc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fq.exec(t))?I0(e[1],e[2]/100,e[3]/100,1):(e=hq.exec(t))?I0(e[1],e[2]/100,e[3]/100,e[4]):P0.hasOwnProperty(t)?N0(P0[t]):t==="transparent"?new Bt(NaN,NaN,NaN,0):null}function N0(t){return new Bt(t>>16&255,t>>8&255,t&255,1)}function xc(t,e,r,n){return n<=0&&(t=e=r=NaN),new Bt(t,e,r,n)}function gq(t){return t instanceof ec||(t=zo(t)),t?(t=t.rgb(),new Bt(t.r,t.g,t.b,t.opacity)):new Bt}function dp(t,e,r,n){return arguments.length===1?gq(t):new Bt(t,e,r,n??1)}function Bt(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}dg(Bt,dp,kj(ec,{brighter(t){return t=t==null?nu:Math.pow(nu,t),new Bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fo:Math.pow(Fo,t),new Bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bt(Ia(this.r),Ia(this.g),Ia(this.b),au(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$0,formatHex:$0,formatHex8:vq,formatRgb:M0,toString:M0}));function $0(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}`}function vq(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}${Sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function M0(){const t=au(this.opacity);return`${t===1?"rgb(":"rgba("}${Ia(this.r)}, ${Ia(this.g)}, ${Ia(this.b)}${t===1?")":`, ${t})`}`}function au(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ia(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sa(t){return t=Ia(t),(t<16?"0":"")+t.toString(16)}function I0(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new mr(t,e,r,n)}function Nj(t){if(t instanceof mr)return new mr(t.h,t.s,t.l,t.opacity);if(t instanceof ec||(t=zo(t)),!t)return new mr;if(t instanceof mr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new mr(s,o,l,t.opacity)}function yq(t,e,r,n){return arguments.length===1?Nj(t):new mr(t,e,r,n??1)}function mr(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}dg(mr,yq,kj(ec,{brighter(t){return t=t==null?nu:Math.pow(nu,t),new mr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fo:Math.pow(Fo,t),new mr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Bt(Rf(t>=240?t-240:t+120,a,n),Rf(t,a,n),Rf(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new mr(R0(this.h),wc(this.s),wc(this.l),au(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=au(this.opacity);return`${t===1?"hsl(":"hsla("}${R0(this.h)}, ${wc(this.s)*100}%, ${wc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function R0(t){return t=(t||0)%360,t<0?t+360:t}function wc(t){return Math.max(0,Math.min(1,t||0))}function Rf(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const fg=t=>()=>t;function bq(t,e){return function(r){return t+r*e}}function xq(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function wq(t){return(t=+t)==1?$j:function(e,r){return r-e?xq(e,r,t):fg(isNaN(e)?r:e)}}function $j(t,e){var r=e-t;return r?bq(t,r):fg(isNaN(t)?e:t)}const D0=function t(e){var r=wq(e);function n(a,i){var s=r((a=dp(a)).r,(i=dp(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=$j(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=t,n}(1);function _q(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function Sq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jq(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ds(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function Oq(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function iu(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Cq(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Ds(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var fp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Df=new RegExp(fp.source,"g");function Eq(t){return function(){return t}}function Tq(t){return function(e){return t(e)+""}}function Pq(t,e){var r=fp.lastIndex=Df.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=fp.exec(t))&&(a=Df.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:iu(n,a)})),r=Df.lastIndex;return r<e.length&&(i=e.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?Tq(l[0].x):Eq(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Ds(t,e){var r=typeof e,n;return e==null||r==="boolean"?fg(e):(r==="number"?iu:r==="string"?(n=zo(e))?(e=n,D0):Pq:e instanceof zo?D0:e instanceof Date?Oq:Sq(e)?_q:Array.isArray(e)?jq:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cq:iu)(t,e)}function hg(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Aq(t,e){e===void 0&&(e=t,t=Ds);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function kq(t){return function(){return t}}function su(t){return+t}var L0=[0,1];function Nt(t){return t}function hp(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:kq(isNaN(e)?NaN:.5)}function Nq(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function $q(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=hp(a,n),i=r(s,i)):(n=hp(n,a),i=r(i,s)),function(o){return i(n(o))}}function Mq(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=hp(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var l=Jl(t,o,1,n)-1;return i[l](a[l](o))}}function tc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Dd(){var t=L0,e=L0,r=Ds,n,a,i,s=Nt,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==Nt&&(s=Nq(t[0],t[h-1])),o=h>2?Mq:$q,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(e,t.map(n),iu)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,su),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=hg,u()},f.clamp=function(h){return arguments.length?(s=h?!0:Nt,u()):s!==Nt},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,u()}}function pg(){return Dd()(Nt,Nt)}function Iq(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ou(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Xi(t){return t=ou(Math.abs(t)),t?t[1]:NaN}function Rq(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function Dq(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Lq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qo(t){if(!(e=Lq.exec(t)))throw new Error("invalid format: "+t);var e;return new mg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qo.prototype=mg.prototype;function mg(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bq(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Mj;function Fq(t,e){var r=ou(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(Mj=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ou(t,Math.max(0,e+i-1))[0]}function B0(t,e){var r=ou(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const F0={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Iq,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>B0(t*100,e),r:B0,s:Fq,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function U0(t){return t}var z0=Array.prototype.map,q0=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Uq(t){var e=t.grouping===void 0||t.thousands===void 0?U0:Rq(z0.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?U0:Dq(z0.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=qo(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,g=f.zero,w=f.width,y=f.comma,S=f.precision,x=f.trim,_=f.type;_==="n"?(y=!0,_="g"):F0[_]||(S===void 0&&(S=12),x=!0,_="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",C=m==="$"?n:/[%p]/.test(_)?s:"",E=F0[_],A=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(T){var N=j,D=C,M,R,I;if(_==="c")D=E(T)+D,T="";else{T=+T;var B=T<0||1/T<0;if(T=isNaN(T)?l:E(Math.abs(T),S),x&&(T=Bq(T)),B&&+T==0&&v!=="+"&&(B=!1),N=(B?v==="("?v:o:v==="-"||v==="("?"":v)+N,D=(_==="s"?q0[8+Mj/3]:"")+D+(B&&v==="("?")":""),A){for(M=-1,R=T.length;++M<R;)if(I=T.charCodeAt(M),48>I||I>57){D=(I===46?a+T.slice(M+1):T.slice(M))+D,T=T.slice(0,M);break}}}y&&!g&&(T=e(T,1/0));var U=N.length+T.length+D.length,q=U<w?new Array(w-U+1).join(h):"";switch(y&&g&&(T=e(q+T,q.length?w-D.length:1/0),q=""),p){case"<":T=N+T+D+q;break;case"=":T=N+q+T+D;break;case"^":T=q.slice(0,U=q.length>>1)+N+T+D+q.slice(U);break;default:T=q+N+T+D;break}return i(T)}return P.toString=function(){return f+""},P}function u(f,h){var p=c((f=qo(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Xi(h)/3)))*3,m=Math.pow(10,-v),g=q0[8+v/3];return function(w){return p(m*w)+g}}return{format:c,formatPrefix:u}}var _c,gg,Ij;zq({thousands:",",grouping:[3],currency:["$",""]});function zq(t){return _c=Uq(t),gg=_c.format,Ij=_c.formatPrefix,_c}function qq(t){return Math.max(0,-Xi(Math.abs(t)))}function Wq(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xi(e)/3)))*3-Xi(Math.abs(t)))}function Hq(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xi(e)-Xi(t))+1}function Rj(t,e,r,n){var a=cp(t,e,r),i;switch(n=qo(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Wq(a,s))&&(n.precision=i),Ij(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Hq(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=qq(a))&&(n.precision=i-(n.type==="%")*2);break}}return gg(n)}function oa(t){var e=t.domain;return t.ticks=function(r){var n=e();return op(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return Rj(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=lp(s,o,r),c===l)return n[a]=s,n[i]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function lu(){var t=pg();return t.copy=function(){return tc(t,lu())},ir.apply(t,arguments),oa(t)}function Dj(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,su),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Dj(t).unknown(e)},t=arguments.length?Array.from(t,su):[0,1],oa(r)}function Lj(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function W0(t){return Math.log(t)}function H0(t){return Math.exp(t)}function Vq(t){return-Math.log(-t)}function Gq(t){return-Math.exp(-t)}function Kq(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yq(t){return t===10?Kq:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qq(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function V0(t){return(e,r)=>-t(-e,r)}function vg(t){const e=t(W0,H0),r=e.domain;let n=10,a,i;function s(){return a=Qq(n),i=Yq(n),r()[0]<0?(a=V0(a),i=V0(i),t(Vq,Gq)):t(W0,H0),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),v,m;const g=o==null?10:+o;let w=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/i(-h):v*i(h),!(m<c)){if(m>u)break;w.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/i(-h):v*i(h),!(m<c)){if(m>u)break;w.push(m)}w.length*2<g&&(w=op(c,u,g))}else w=op(h,p,Math.min(p-h,g)).map(i);return f?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=qo(l)).precision==null&&(l.trim=!0),l=gg(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(Lj(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),e}function Bj(){const t=vg(Dd()).domain([1,10]);return t.copy=()=>tc(t,Bj()).base(t.base()),ir.apply(t,arguments),t}function G0(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function K0(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yg(t){var e=1,r=t(G0(e),K0(e));return r.constant=function(n){return arguments.length?t(G0(e=+n),K0(e)):e},oa(r)}function Fj(){var t=yg(Dd());return t.copy=function(){return tc(t,Fj()).constant(t.constant())},ir.apply(t,arguments)}function Y0(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zq(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xq(t){return t<0?-t*t:t*t}function bg(t){var e=t(Nt,Nt),r=1;function n(){return r===1?t(Nt,Nt):r===.5?t(Zq,Xq):t(Y0(r),Y0(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},oa(e)}function xg(){var t=bg(Dd());return t.copy=function(){return tc(t,xg()).exponent(t.exponent())},ir.apply(t,arguments),t}function Jq(){return xg.apply(null,arguments).exponent(.5)}function Q0(t){return Math.sign(t)*t*t}function eW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Uj(){var t=pg(),e=[0,1],r=!1,n;function a(i){var s=eW(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(Q0(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,su)).map(Q0)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Uj(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ir.apply(a,arguments),oa(a)}function zj(){var t=[],e=[],r=[],n;function a(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=iq(t,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:e[Jl(r,s)]}return i.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Qn),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return zj().domain(t).range(e).unknown(n)},ir.apply(i,arguments)}function qj(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Jl(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return qj().domain([t,e]).range(a).unknown(i)},ir.apply(oa(s),arguments)}function Wj(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Jl(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Wj().domain(t).range(e).unknown(r)},ir.apply(a,arguments)}const Lf=new Date,Bf=new Date;function ft(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),e(i,o),t(i);while(c<i&&i<s);return l},a.filter=i=>ft(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(Lf.setTime(+i),Bf.setTime(+s),t(Lf),t(Bf),Math.floor(r(Lf,Bf))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const cu=ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cu.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):cu);cu.range;const sn=1e3,Xt=sn*60,on=Xt*60,pn=on*24,wg=pn*7,Z0=pn*30,Ff=pn*365,ja=ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sn)},(t,e)=>(e-t)/sn,t=>t.getUTCSeconds());ja.range;const _g=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sn)},(t,e)=>{t.setTime(+t+e*Xt)},(t,e)=>(e-t)/Xt,t=>t.getMinutes());_g.range;const Sg=ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xt)},(t,e)=>(e-t)/Xt,t=>t.getUTCMinutes());Sg.range;const jg=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sn-t.getMinutes()*Xt)},(t,e)=>{t.setTime(+t+e*on)},(t,e)=>(e-t)/on,t=>t.getHours());jg.range;const Og=ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*on)},(t,e)=>(e-t)/on,t=>t.getUTCHours());Og.range;const rc=ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xt)/pn,t=>t.getDate()-1);rc.range;const Ld=ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pn,t=>t.getUTCDate()-1);Ld.range;const Hj=ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pn,t=>Math.floor(t/pn));Hj.range;function ti(t){return ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Xt)/wg)}const Bd=ti(0),uu=ti(1),tW=ti(2),rW=ti(3),Ji=ti(4),nW=ti(5),aW=ti(6);Bd.range;uu.range;tW.range;rW.range;Ji.range;nW.range;aW.range;function ri(t){return ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/wg)}const Fd=ri(0),du=ri(1),iW=ri(2),sW=ri(3),es=ri(4),oW=ri(5),lW=ri(6);Fd.range;du.range;iW.range;sW.range;es.range;oW.range;lW.range;const Cg=ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Cg.range;const Eg=ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Eg.range;const mn=ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());mn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});mn.range;const gn=ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());gn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});gn.range;function Vj(t,e,r,n,a,i){const s=[[ja,1,sn],[ja,5,5*sn],[ja,15,15*sn],[ja,30,30*sn],[i,1,Xt],[i,5,5*Xt],[i,15,15*Xt],[i,30,30*Xt],[a,1,on],[a,3,3*on],[a,6,6*on],[a,12,12*on],[n,1,pn],[n,2,2*pn],[r,1,wg],[e,1,Z0],[e,3,3*Z0],[t,1,Ff]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),v=p?p.range(c,+u+1):[];return h?v.reverse():v}function l(c,u,f){const h=Math.abs(u-c)/f,p=cg(([,,g])=>g).right(s,h);if(p===s.length)return t.every(cp(c/Ff,u/Ff,f));if(p===0)return cu.every(Math.max(cp(c,u,f),1));const[v,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return v.every(m)}return[o,l]}const[cW,uW]=Vj(gn,Eg,Fd,Hj,Og,Sg),[dW,fW]=Vj(mn,Cg,Bd,rc,jg,_g);function Uf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Js(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function hW(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=eo(a),u=to(a),f=eo(i),h=to(i),p=eo(s),v=to(s),m=eo(o),g=to(o),w=eo(l),y=to(l),S={a:B,A:U,b:q,B:ie,c:null,d:nb,e:nb,f:RW,g:VW,G:KW,H:$W,I:MW,j:IW,L:Gj,m:DW,M:LW,p:V,q:Y,Q:sb,s:ob,S:BW,u:FW,U:UW,V:zW,w:qW,W:WW,x:null,X:null,y:HW,Y:GW,Z:YW,"%":ib},x={a:ce,A:Se,b:Je,B:Et,c:null,d:ab,e:ab,f:JW,g:cH,G:dH,H:QW,I:ZW,j:XW,L:Yj,m:eH,M:tH,p:se,q:Te,Q:sb,s:ob,S:rH,u:nH,U:aH,V:iH,w:sH,W:oH,x:null,X:null,y:lH,Y:uH,Z:fH,"%":ib},_={a:P,A:T,b:N,B:D,c:M,d:tb,e:tb,f:PW,g:eb,G:J0,H:rb,I:rb,j:OW,L:TW,m:jW,M:CW,p:A,q:SW,Q:kW,s:NW,S:EW,u:yW,U:bW,V:xW,w:vW,W:wW,x:R,X:I,y:eb,Y:J0,Z:_W,"%":AW};S.x=j(r,S),S.X=j(n,S),S.c=j(e,S),x.x=j(r,x),x.X=j(n,x),x.c=j(e,x);function j(W,X){return function(re){var F=[],Re=-1,ve=0,Ze=W.length,Ye,vt,Zr;for(re instanceof Date||(re=new Date(+re));++Re<Ze;)W.charCodeAt(Re)===37&&(F.push(W.slice(ve,Re)),(vt=X0[Ye=W.charAt(++Re)])!=null?Ye=W.charAt(++Re):vt=Ye==="e"?" ":"0",(Zr=X[Ye])&&(Ye=Zr(re,vt)),F.push(Ye),ve=Re+1);return F.push(W.slice(ve,Re)),F.join("")}}function C(W,X){return function(re){var F=Js(1900,void 0,1),Re=E(F,W,re+="",0),ve,Ze;if(Re!=re.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(X&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(ve=zf(Js(F.y,0,1)),Ze=ve.getUTCDay(),ve=Ze>4||Ze===0?du.ceil(ve):du(ve),ve=Ld.offset(ve,(F.V-1)*7),F.y=ve.getUTCFullYear(),F.m=ve.getUTCMonth(),F.d=ve.getUTCDate()+(F.w+6)%7):(ve=Uf(Js(F.y,0,1)),Ze=ve.getDay(),ve=Ze>4||Ze===0?uu.ceil(ve):uu(ve),ve=rc.offset(ve,(F.V-1)*7),F.y=ve.getFullYear(),F.m=ve.getMonth(),F.d=ve.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),Ze="Z"in F?zf(Js(F.y,0,1)).getUTCDay():Uf(Js(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(Ze+5)%7:F.w+F.U*7-(Ze+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,zf(F)):Uf(F)}}function E(W,X,re,F){for(var Re=0,ve=X.length,Ze=re.length,Ye,vt;Re<ve;){if(F>=Ze)return-1;if(Ye=X.charCodeAt(Re++),Ye===37){if(Ye=X.charAt(Re++),vt=_[Ye in X0?X.charAt(Re++):Ye],!vt||(F=vt(W,re,F))<0)return-1}else if(Ye!=re.charCodeAt(F++))return-1}return F}function A(W,X,re){var F=c.exec(X.slice(re));return F?(W.p=u.get(F[0].toLowerCase()),re+F[0].length):-1}function P(W,X,re){var F=p.exec(X.slice(re));return F?(W.w=v.get(F[0].toLowerCase()),re+F[0].length):-1}function T(W,X,re){var F=f.exec(X.slice(re));return F?(W.w=h.get(F[0].toLowerCase()),re+F[0].length):-1}function N(W,X,re){var F=w.exec(X.slice(re));return F?(W.m=y.get(F[0].toLowerCase()),re+F[0].length):-1}function D(W,X,re){var F=m.exec(X.slice(re));return F?(W.m=g.get(F[0].toLowerCase()),re+F[0].length):-1}function M(W,X,re){return E(W,e,X,re)}function R(W,X,re){return E(W,r,X,re)}function I(W,X,re){return E(W,n,X,re)}function B(W){return s[W.getDay()]}function U(W){return i[W.getDay()]}function q(W){return l[W.getMonth()]}function ie(W){return o[W.getMonth()]}function V(W){return a[+(W.getHours()>=12)]}function Y(W){return 1+~~(W.getMonth()/3)}function ce(W){return s[W.getUTCDay()]}function Se(W){return i[W.getUTCDay()]}function Je(W){return l[W.getUTCMonth()]}function Et(W){return o[W.getUTCMonth()]}function se(W){return a[+(W.getUTCHours()>=12)]}function Te(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var X=j(W+="",S);return X.toString=function(){return W},X},parse:function(W){var X=C(W+="",!1);return X.toString=function(){return W},X},utcFormat:function(W){var X=j(W+="",x);return X.toString=function(){return W},X},utcParse:function(W){var X=C(W+="",!0);return X.toString=function(){return W},X}}}var X0={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,pW=/^%/,mW=/[\\^$*+?|[\]().{}]/g;function Ae(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function gW(t){return t.replace(mW,"\\$&")}function eo(t){return new RegExp("^(?:"+t.map(gW).join("|")+")","i")}function to(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function vW(t,e,r){var n=gt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function yW(t,e,r){var n=gt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function bW(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function xW(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function wW(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function J0(t,e,r){var n=gt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function eb(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _W(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SW(t,e,r){var n=gt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function jW(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function tb(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function OW(t,e,r){var n=gt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function rb(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function CW(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function EW(t,e,r){var n=gt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function TW(t,e,r){var n=gt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function PW(t,e,r){var n=gt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function AW(t,e,r){var n=pW.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function kW(t,e,r){var n=gt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function NW(t,e,r){var n=gt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function nb(t,e){return Ae(t.getDate(),e,2)}function $W(t,e){return Ae(t.getHours(),e,2)}function MW(t,e){return Ae(t.getHours()%12||12,e,2)}function IW(t,e){return Ae(1+rc.count(mn(t),t),e,3)}function Gj(t,e){return Ae(t.getMilliseconds(),e,3)}function RW(t,e){return Gj(t,e)+"000"}function DW(t,e){return Ae(t.getMonth()+1,e,2)}function LW(t,e){return Ae(t.getMinutes(),e,2)}function BW(t,e){return Ae(t.getSeconds(),e,2)}function FW(t){var e=t.getDay();return e===0?7:e}function UW(t,e){return Ae(Bd.count(mn(t)-1,t),e,2)}function Kj(t){var e=t.getDay();return e>=4||e===0?Ji(t):Ji.ceil(t)}function zW(t,e){return t=Kj(t),Ae(Ji.count(mn(t),t)+(mn(t).getDay()===4),e,2)}function qW(t){return t.getDay()}function WW(t,e){return Ae(uu.count(mn(t)-1,t),e,2)}function HW(t,e){return Ae(t.getFullYear()%100,e,2)}function VW(t,e){return t=Kj(t),Ae(t.getFullYear()%100,e,2)}function GW(t,e){return Ae(t.getFullYear()%1e4,e,4)}function KW(t,e){var r=t.getDay();return t=r>=4||r===0?Ji(t):Ji.ceil(t),Ae(t.getFullYear()%1e4,e,4)}function YW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ae(e/60|0,"0",2)+Ae(e%60,"0",2)}function ab(t,e){return Ae(t.getUTCDate(),e,2)}function QW(t,e){return Ae(t.getUTCHours(),e,2)}function ZW(t,e){return Ae(t.getUTCHours()%12||12,e,2)}function XW(t,e){return Ae(1+Ld.count(gn(t),t),e,3)}function Yj(t,e){return Ae(t.getUTCMilliseconds(),e,3)}function JW(t,e){return Yj(t,e)+"000"}function eH(t,e){return Ae(t.getUTCMonth()+1,e,2)}function tH(t,e){return Ae(t.getUTCMinutes(),e,2)}function rH(t,e){return Ae(t.getUTCSeconds(),e,2)}function nH(t){var e=t.getUTCDay();return e===0?7:e}function aH(t,e){return Ae(Fd.count(gn(t)-1,t),e,2)}function Qj(t){var e=t.getUTCDay();return e>=4||e===0?es(t):es.ceil(t)}function iH(t,e){return t=Qj(t),Ae(es.count(gn(t),t)+(gn(t).getUTCDay()===4),e,2)}function sH(t){return t.getUTCDay()}function oH(t,e){return Ae(du.count(gn(t)-1,t),e,2)}function lH(t,e){return Ae(t.getUTCFullYear()%100,e,2)}function cH(t,e){return t=Qj(t),Ae(t.getUTCFullYear()%100,e,2)}function uH(t,e){return Ae(t.getUTCFullYear()%1e4,e,4)}function dH(t,e){var r=t.getUTCDay();return t=r>=4||r===0?es(t):es.ceil(t),Ae(t.getUTCFullYear()%1e4,e,4)}function fH(){return"+0000"}function ib(){return"%"}function sb(t){return+t}function ob(t){return Math.floor(+t/1e3)}var ui,Zj,Xj;hH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hH(t){return ui=hW(t),Zj=ui.format,ui.parse,Xj=ui.utcFormat,ui.utcParse,ui}function pH(t){return new Date(t)}function mH(t){return t instanceof Date?+t:+new Date(+t)}function Tg(t,e,r,n,a,i,s,o,l,c){var u=pg(),f=u.invert,h=u.domain,p=c(".%L"),v=c(":%S"),m=c("%I:%M"),g=c("%I %p"),w=c("%a %d"),y=c("%b %d"),S=c("%B"),x=c("%Y");function _(j){return(l(j)<j?p:o(j)<j?v:s(j)<j?m:i(j)<j?g:n(j)<j?a(j)<j?w:y:r(j)<j?S:x)(j)}return u.invert=function(j){return new Date(f(j))},u.domain=function(j){return arguments.length?h(Array.from(j,mH)):h().map(pH)},u.ticks=function(j){var C=h();return t(C[0],C[C.length-1],j??10)},u.tickFormat=function(j,C){return C==null?_:c(C)},u.nice=function(j){var C=h();return(!j||typeof j.range!="function")&&(j=e(C[0],C[C.length-1],j??10)),j?h(Lj(C,j)):u},u.copy=function(){return tc(u,Tg(t,e,r,n,a,i,s,o,l,c))},u}function gH(){return ir.apply(Tg(dW,fW,mn,Cg,Bd,rc,jg,_g,ja,Zj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vH(){return ir.apply(Tg(cW,uW,gn,Eg,Fd,Ld,Og,Sg,ja,Xj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ud(){var t=0,e=1,r,n,a,i,s=Nt,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,v;return arguments.length?([p,v]=h,s=f(p,v),c):[s(0),s(1)]}}return c.range=u(Ds),c.rangeRound=u(hg),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),c}}function la(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Jj(){var t=oa(Ud()(Nt));return t.copy=function(){return la(t,Jj())},Sn.apply(t,arguments)}function e2(){var t=vg(Ud()).domain([1,10]);return t.copy=function(){return la(t,e2()).base(t.base())},Sn.apply(t,arguments)}function t2(){var t=yg(Ud());return t.copy=function(){return la(t,t2()).constant(t.constant())},Sn.apply(t,arguments)}function Pg(){var t=bg(Ud());return t.copy=function(){return la(t,Pg()).exponent(t.exponent())},Sn.apply(t,arguments)}function yH(){return Pg.apply(null,arguments).exponent(.5)}function r2(){var t=[],e=Nt;function r(n){if(n!=null&&!isNaN(n=+n))return e((Jl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Qn),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>aq(t,i/n))},r.copy=function(){return r2(e).domain(t)},Sn.apply(r,arguments)}function zd(){var t=0,e=.5,r=1,n=1,a,i,s,o,l,c=Nt,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,a=u(t=+t),i=u(e=+e),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function v(m){return function(g){var w,y,S;return arguments.length?([w,y,S]=g,c=Aq(m,[w,y,S]),p):[c(0),c(.5),c(1)]}}return p.range=v(Ds),p.rangeRound=v(hg),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(t),i=m(e),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function n2(){var t=oa(zd()(Nt));return t.copy=function(){return la(t,n2())},Sn.apply(t,arguments)}function a2(){var t=vg(zd()).domain([.1,1,10]);return t.copy=function(){return la(t,a2()).base(t.base())},Sn.apply(t,arguments)}function i2(){var t=yg(zd());return t.copy=function(){return la(t,i2()).constant(t.constant())},Sn.apply(t,arguments)}function Ag(){var t=bg(zd());return t.copy=function(){return la(t,Ag()).exponent(t.exponent())},Sn.apply(t,arguments)}function bH(){return Ag.apply(null,arguments).exponent(.5)}const lb=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bo,scaleDiverging:n2,scaleDivergingLog:a2,scaleDivergingPow:Ag,scaleDivergingSqrt:bH,scaleDivergingSymlog:i2,scaleIdentity:Dj,scaleImplicit:up,scaleLinear:lu,scaleLog:Bj,scaleOrdinal:ug,scalePoint:xo,scalePow:xg,scaleQuantile:zj,scaleQuantize:qj,scaleRadial:Uj,scaleSequential:Jj,scaleSequentialLog:e2,scaleSequentialPow:Pg,scaleSequentialQuantile:r2,scaleSequentialSqrt:yH,scaleSequentialSymlog:t2,scaleSqrt:Jq,scaleSymlog:Fj,scaleThreshold:Wj,scaleTime:gH,scaleUtc:vH,tickFormat:Rj},Symbol.toStringTag,{value:"Module"}));var xH=Ps;function wH(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],s=e(i);if(s!=null&&(o===void 0?s===s&&!xH(s):r(s,o)))var o=s,l=i}return l}var s2=wH;function _H(t,e){return t>e}var SH=_H,jH=s2,OH=SH,CH=Rs;function EH(t){return t&&t.length?jH(t,CH,OH):void 0}var TH=EH;const qd=He(TH);function PH(t,e){return t<e}var AH=PH,kH=s2,NH=AH,$H=Rs;function MH(t){return t&&t.length?kH(t,$H,NH):void 0}var IH=MH;const Wd=He(IH);var RH=Wm,DH=sa,LH=hj,BH=Ft;function FH(t,e){var r=BH(t)?RH:LH;return r(t,DH(e))}var UH=FH,zH=dj,qH=UH;function WH(t,e){return zH(qH(t,e),1)}var HH=WH;const VH=He(HH);var GH=ig;function KH(t,e){return GH(t,e)}var YH=KH;const kg=He(YH);var Ls=1e9,QH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$g,Qe=!0,tr="[DecimalError] ",Ra=tr+"Invalid argument: ",Ng=tr+"Exponent out of range: ",Bs=Math.floor,ya=Math.pow,ZH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vt,pt=1e7,Ke=7,o2=9007199254740991,fu=Bs(o2/Ke),ee={};ee.absoluteValue=ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ee.comparedTo=ee.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ke;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(t){return dn(this,new this.constructor(t))};ee.dividedToIntegerBy=ee.idiv=function(t){var e=this,r=e.constructor;return ze(dn(e,new r(t),0,1),r.precision)};ee.equals=ee.eq=function(t){return!this.cmp(t)};ee.exponent=function(){return lt(this)};ee.greaterThan=ee.gt=function(t){return this.cmp(t)>0};ee.greaterThanOrEqualTo=ee.gte=function(t){return this.cmp(t)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(t){return this.cmp(t)<0};ee.lessThanOrEqualTo=ee.lte=function(t){return this.cmp(t)<1};ee.logarithm=ee.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Vt))throw Error(tr+"NaN");if(r.s<1)throw Error(tr+(r.s?"NaN":"-Infinity"));return r.eq(Vt)?new n(0):(Qe=!1,e=dn(Wo(r,i),Wo(t,i),i),Qe=!0,ze(e,a))};ee.minus=ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?u2(e,t):l2(e,(t.s=-t.s,t))};ee.modulo=ee.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(tr+"NaN");return r.s?(Qe=!1,e=dn(r,t,0,1).times(t),Qe=!0,r.minus(e)):ze(new n(r),a)};ee.naturalExponential=ee.exp=function(){return c2(this)};ee.naturalLogarithm=ee.ln=function(){return Wo(this)};ee.negated=ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ee.plus=ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?l2(e,t):u2(e,(t.s=-t.s,t))};ee.precision=ee.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ra+t);if(e=lt(a)+1,n=a.d.length-1,r=n*Ke+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ee.squareRoot=ee.sqrt=function(){var t,e,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(tr+"NaN")}for(t=lt(o),Qe=!1,a=Math.sqrt(+o),a==0||a==1/0?(e=Ir(o.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Bs((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(dn(o,i,s+2)).times(.5),Ir(i.d).slice(0,s)===(e=Ir(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(ze(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(e!="9999")break;s+=4}return Qe=!0,ze(n,r)};ee.times=ee.mul=function(t){var e,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(e=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+e,i[a--]=o%pt|0,e=o/pt|0;i[a]=(i[a]+e)%pt|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Qe?ze(t,f.precision):t};ee.toDecimalPlaces=ee.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Wr(t,0,Ls),e===void 0?e=n.rounding:Wr(e,0,8),ze(r,t+lt(r)+1,e))};ee.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Ha(n,!0):(Wr(t,0,Ls),e===void 0?e=a.rounding:Wr(e,0,8),n=ze(new a(n),t+1,e),r=Ha(n,!0,t+1)),r};ee.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Ha(a):(Wr(t,0,Ls),e===void 0?e=i.rounding:Wr(e,0,8),n=ze(new i(a),t+lt(a)+1,e),r=Ha(n.abs(),!1,t+lt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var t=this,e=t.constructor;return ze(new e(t),lt(t)+1,e.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(t){var e,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Vt);if(o=new l(o),!o.s){if(t.s<1)throw Error(tr+"Infinity");return o}if(o.eq(Vt))return o;if(n=l.precision,t.eq(Vt))return ze(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=o.s,s){if((r=u<0?-u:u)<=o2){for(a=new l(Vt),e=Math.ceil(n/Ke+4),Qe=!1;r%2&&(a=a.times(o),ub(a.d,e)),r=Bs(r/2),r!==0;)o=o.times(o),ub(o.d,e);return Qe=!0,t.s<0?new l(Vt).div(a):ze(a,n)}}else if(i<0)throw Error(tr+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Qe=!1,a=t.times(Wo(o,n+c)),Qe=!0,a=c2(a),a.s=i,a};ee.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=lt(a),n=Ha(a,r<=i.toExpNeg||r>=i.toExpPos)):(Wr(t,1,Ls),e===void 0?e=i.rounding:Wr(e,0,8),a=ze(new i(a),t,e),r=lt(a),n=Ha(a,t<=r||r<=i.toExpNeg,t)),n};ee.toSignificantDigits=ee.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Wr(t,1,Ls),e===void 0?e=n.rounding:Wr(e,0,8)),ze(new n(r),t,e)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lt(t),r=t.constructor;return Ha(t,e<=r.toExpNeg||e>=r.toExpPos)};function l2(t,e){var r,n,a,i,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Qe?ze(e,f):e;if(l=t.d,c=e.d,s=t.e,a=e.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Ke),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/pt|0,l[i]%=pt;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=a,Qe?ze(e,f):e}function Wr(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ra+t)}function Ir(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=Ke-n.length,r&&(i+=Nn(r)),i+=n;s=t[e],n=s+"",r=Ke-n.length,r&&(i+=Nn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var dn=function(){function t(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%pt|0,s=i/pt|0;return s&&n.unshift(s),n}function e(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*pt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,p,v,m,g,w,y,S,x,_,j,C,E,A=n.constructor,P=n.s==a.s?1:-1,T=n.d,N=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(tr+"Division by zero");for(l=n.e-a.e,C=N.length,_=T.length,p=new A(P),v=p.d=[],c=0;N[c]==(T[c]||0);)++c;if(N[c]>(T[c]||0)&&--l,i==null?y=i=A.precision:s?y=i+(lt(n)-lt(a))+1:y=i,y<0)return new A(0);if(y=y/Ke+2|0,c=0,C==1)for(u=0,N=N[0],y++;(c<_||u)&&y--;c++)S=u*pt+(T[c]||0),v[c]=S/N|0,u=S%N|0;else{for(u=pt/(N[0]+1)|0,u>1&&(N=t(N,u),T=t(T,u),C=N.length,_=T.length),x=C,m=T.slice(0,C),g=m.length;g<C;)m[g++]=0;E=N.slice(),E.unshift(0),j=N[0],N[1]>=pt/2&&++j;do u=0,o=e(N,m,C,g),o<0?(w=m[0],C!=g&&(w=w*pt+(m[1]||0)),u=w/j|0,u>1?(u>=pt&&(u=pt-1),f=t(N,u),h=f.length,g=m.length,o=e(f,m,h,g),o==1&&(u--,r(f,C<h?E:N,h))):(u==0&&(o=u=1),f=N.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),o==-1&&(g=m.length,o=e(N,m,C,g),o<1&&(u++,r(m,C<g?E:N,g))),g=m.length):o===0&&(u++,m=[0]),v[c++]=u,o&&m[0]?m[g++]=T[x]||0:(m=[T[x]],g=1);while((x++<_||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=l,ze(p,s?i+lt(p)+1:i)}}();function c2(t,e){var r,n,a,i,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(lt(t)>16)throw Error(Ng+lt(t));if(!t.s)return new u(Vt);for(e==null?(Qe=!1,o=f):o=e,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(ya(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Vt),u.precision=o;;){if(a=ze(a.times(t),o),r=r.times(++l),s=i.plus(dn(a,r,o)),Ir(s.d).slice(0,o)===Ir(i.d).slice(0,o)){for(;c--;)i=ze(i.times(i),o);return u.precision=f,e==null?(Qe=!0,ze(i,f)):i}i=s}}function lt(t){for(var e=t.e*Ke,r=t.d[0];r>=10;r/=10)e++;return e}function qf(t,e,r){if(e>t.LN10.sd())throw Qe=!0,r&&(t.precision=r),Error(tr+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function Nn(t){for(var e="";t--;)e+="0";return e}function Wo(t,e){var r,n,a,i,s,o,l,c,u,f=1,h=10,p=t,v=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(tr+(p.s?"NaN":"-Infinity"));if(p.eq(Vt))return new m(0);if(e==null?(Qe=!1,c=g):c=e,p.eq(10))return e==null&&(Qe=!0),qf(m,c);if(c+=h,m.precision=c,r=Ir(v),n=r.charAt(0),i=lt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Ir(p.d),n=r.charAt(0),f++;i=lt(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=qf(m,c+2,g).times(i+""),p=Wo(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=g,e==null?(Qe=!0,ze(p,g)):p;for(o=s=p=dn(p.minus(Vt),p.plus(Vt),c),u=ze(p.times(p),c),a=3;;){if(s=ze(s.times(u),c),l=o.plus(dn(s,new m(a),c)),Ir(l.d).slice(0,c)===Ir(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(qf(m,c+2,g).times(i+""))),o=dn(o,new m(f),c),m.precision=g,e==null?(Qe=!0,ze(o,g)):o;o=l,a+=2}}function cb(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Bs(r/Ke),t.d=[],n=(r+1)%Ke,r<0&&(n+=Ke),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Ke;n<a;)t.d.push(+e.slice(n,n+=Ke));e=e.slice(n),n=Ke-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Qe&&(t.e>fu||t.e<-fu))throw Error(Ng+r)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,r){var n,a,i,s,o,l,c,u,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=Ke,a=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Ke),i=f.length,u>=i)return t;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Ke,a=n-Ke+s}if(r!==void 0&&(i=ya(10,s-a-1),o=c/i%10|0,l=e<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/ya(10,s-a):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(i=lt(t),f.length=1,e=e-i-1,f[0]=ya(10,(Ke-e%Ke)%Ke),t.e=Bs(-e/Ke)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=ya(10,Ke-n),f[u]=a>0?(c/ya(10,s-a)%ya(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==pt&&(f[0]=1,++t.e);break}else{if(f[u]+=i,f[u]!=pt)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Qe&&(t.e>fu||t.e<-fu))throw Error(Ng+lt(t));return t}function u2(t,e){var r,n,a,i,s,o,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Qe?ze(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/Ke),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=pt-1;--l[i],l[a]+=pt}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Qe?ze(e,p):e):new h(0)}function Ha(t,e,r){var n,a=lt(t),i=Ir(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Nn(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Nn(-a-1)+i,r&&(n=r-s)>0&&(i+=Nn(n))):a>=s?(i+=Nn(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Nn(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Nn(n))),t.s<0?"-"+i:i}function ub(t,e){if(t.length>e)return t.length=e,!0}function d2(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ra+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return cb(s,i.toString())}else if(typeof i!="string")throw Error(Ra+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,ZH.test(i))cb(s,i);else throw Error(Ra+i)}if(a.prototype=ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=d2,a.config=a.set=XH,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function XH(t){if(!t||typeof t!="object")throw Error(tr+"Object expected");var e,r,n,a=["precision",1,Ls,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Bs(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Ra+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ra+r+": "+n);return this}var $g=d2(QH);Vt=new $g(1);const Ue=$g;function JH(t){return nV(t)||rV(t)||tV(t)||eV()}function eV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tV(t,e){if(t){if(typeof t=="string")return pp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pp(t,e)}}function rV(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nV(t){if(Array.isArray(t))return pp(t)}function pp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aV=function(e){return e},f2={"@@functional/placeholder":!0},h2=function(e){return e===f2},db=function(e){return function r(){return arguments.length===0||arguments.length===1&&h2(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},iV=function t(e,r){return e===1?r:db(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==f2}).length;return s>=e?r.apply(void 0,a):t(e-s,db(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return h2(f)?l.shift():f});return r.apply(void 0,JH(u).concat(l))}))})},Hd=function(e){return iV(e.length,e)},mp=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},sV=Hd(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),oV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return aV;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},gp=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},p2=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=e.apply(void 0,i)),n}};function lV(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function cV(t,e,r){for(var n=new Ue(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var uV=Hd(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),dV=Hd(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),fV=Hd(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Vd={rangeStep:cV,getDigitCount:lV,interpolateNumber:uV,uninterpolateNumber:dV,uninterpolateTruncation:fV};function vp(t){return mV(t)||pV(t)||m2(t)||hV()}function hV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pV(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mV(t){if(Array.isArray(t))return yp(t)}function Ho(t,e){return yV(t)||vV(t,e)||m2(t,e)||gV()}function gV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2(t,e){if(t){if(typeof t=="string")return yp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yp(t,e)}}function yp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vV(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function yV(t){if(Array.isArray(t))return t}function g2(t){var e=Ho(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function v2(t,e,r){if(t.lte(0))return new Ue(0);var n=Vd.getDigitCount(t.toNumber()),a=new Ue(10).pow(n),i=t.div(a),s=n!==1?.05:.1,o=new Ue(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return e?l:new Ue(Math.ceil(l))}function bV(t,e,r){var n=1,a=new Ue(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Ue(10).pow(Vd.getDigitCount(t)-1),a=new Ue(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ue(Math.floor(t)))}else t===0?a=new Ue(Math.floor((e-1)/2)):r||(a=new Ue(Math.floor(t)));var s=Math.floor((e-1)/2),o=oV(sV(function(l){return a.add(new Ue(l-s).mul(n)).toNumber()}),mp);return o(0,e)}function y2(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var i=v2(new Ue(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new Ue(0):(s=new Ue(t).add(e).div(2),s=s.sub(new Ue(s).mod(i)));var o=Math.ceil(s.sub(t).div(i).toNumber()),l=Math.ceil(new Ue(e).sub(s).div(i).toNumber()),c=o+l+1;return c>r?y2(t,e,r,n,a+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Ue(o).mul(i)),tickMax:s.add(new Ue(l).mul(i))})}function xV(t){var e=Ho(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=g2([r,n]),l=Ho(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(vp(mp(0,a-1).map(function(){return 1/0}))):[].concat(vp(mp(0,a-1).map(function(){return-1/0})),[u]);return r>n?gp(f):f}if(c===u)return bV(c,a,i);var h=y2(c,u,s,i),p=h.step,v=h.tickMin,m=h.tickMax,g=Vd.rangeStep(v,m.add(new Ue(.1).mul(p)),p);return r>n?gp(g):g}function wV(t,e){var r=Ho(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=g2([n,a]),o=Ho(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(e,2),f=v2(new Ue(c).sub(l).div(u-1),i,0),h=[].concat(vp(Vd.rangeStep(new Ue(l),new Ue(c).sub(new Ue(.99).mul(f)),f)),[c]);return n>a?gp(h):h}var _V=p2(xV),SV=p2(wV),jV="Invariant failed";function Va(t,e){throw new Error(jV)}var OV=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hu.apply(this,arguments)}function CV(t,e){return AV(t)||PV(t,e)||TV(t,e)||EV()}function EV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(t,e){if(t){if(typeof t=="string")return fb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fb(t,e)}}function fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function AV(t){if(Array.isArray(t))return t}function kV(t,e){if(t==null)return{};var r=NV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w2(n.key),n)}}function IV(t,e,r){return e&&MV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RV(t,e,r){return e=pu(e),DV(t,b2()?Reflect.construct(e,r||[],pu(t).constructor):e.apply(t,r))}function DV(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LV(t)}function LV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2=function(){return!!t})()}function pu(t){return pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pu(t)}function BV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bp(t,e)}function bp(t,e){return bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bp(t,e)}function x2(t,e,r){return e=w2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w2(t){var e=FV(t,"string");return ts(e)=="symbol"?e:e+""}function FV(t,e){if(ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gd=function(t){function e(){return $V(this,e),RV(this,e,arguments)}return BV(e,t),IV(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=kV(n,OV),p=Ne(h,!1);this.props.direction==="x"&&u.type!=="number"&&Va();var v=l.map(function(m){var g=c(m,o),w=g.x,y=g.y,S=g.value,x=g.errorVal;if(!x)return null;var _=[],j,C;if(Array.isArray(x)){var E=CV(x,2);j=E[0],C=E[1]}else j=C=x;if(i==="vertical"){var A=u.scale,P=y+a,T=P+s,N=P-s,D=A(S-j),M=A(S+C);_.push({x1:M,y1:T,x2:M,y2:N}),_.push({x1:D,y1:P,x2:M,y2:P}),_.push({x1:D,y1:T,x2:D,y2:N})}else if(i==="horizontal"){var R=f.scale,I=w+a,B=I-s,U=I+s,q=R(S-j),ie=R(S+C);_.push({x1:B,y1:ie,x2:U,y2:ie}),_.push({x1:I,y1:q,x2:I,y2:ie}),_.push({x1:B,y1:q,x2:U,y2:q})}return O.createElement(mt,hu({className:"recharts-errorBar",key:"bar-".concat(_.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),_.map(function(V){return O.createElement("line",hu({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return O.createElement(mt,{className:"recharts-errorBars"},v)}}])}(O.Component);x2(Gd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});x2(Gd,"displayName","ErrorBar");function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function hb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hb(Object(r),!0).forEach(function(n){UV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UV(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=qV(t,"string");return Vo(e)=="symbol"?e:e+""}function qV(t,e){if(Vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _2=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=Wt(r,Ma);if(!s)return null;var o=Ma.defaultProps,l=o!==void 0?ha(ha({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return u.concat(v.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?ha(ha({},h),f.props):{},v=p.dataKey,m=p.name,g=p.legendType,w=p.hide;return{inactive:w,dataKey:v,type:l.iconType||g||"square",color:Mg(f),value:m||v,payload:p}}),ha(ha(ha({},l),Ma.getWithHeight(s,a)),{},{payload:c,item:s})};function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function pb(t){return GV(t)||VV(t)||HV(t)||WV()}function WV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HV(t,e){if(t){if(typeof t=="string")return xp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xp(t,e)}}function VV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GV(t){if(Array.isArray(t))return xp(t)}function xp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(r),!0).forEach(function(n){ji(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ji(t,e,r){return e=KV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KV(t){var e=YV(t,"string");return Go(e)=="symbol"?e:e+""}function YV(t,e){if(Go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hr(t,e,r){return Me(t)||Me(e)?r:dt(e)?Jt(t,e,r):_e(e)?e(t):r}function wo(t,e,r,n){var a=VH(t,function(o){return Hr(o,e)});if(r==="number"){var i=a.filter(function(o){return H(o)||parseFloat(o)});return i.length?[Wd(i),qd(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Me(o)}):a;return s.map(function(o){return dt(o)||o instanceof Date?o:""})}var QV=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(gr(f-u)!==gr(h-f)){var v=[];if(gr(h-f)===gr(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{p=u;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){s=a[c].index;break}}else{var y=Math.min(u,h),S=Math.max(u,h);if(e>(y+f)/2&&e<=(S+f)/2){s=a[c].index;break}}}else for(var x=0;x<o;x++)if(x===0&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){s=n[x].index;break}return s},Mg=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},ZV=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var v=u[f[h]],m=v.items,g=v.cateAxisId,w=m.filter(function(C){return cn(C.type).indexOf("Bar")>=0});if(w&&w.length){var y=w[0].type.defaultProps,S=y!==void 0?tt(tt({},y),w[0].props):w[0].props,x=S.barSize,_=S[g];s[_]||(s[_]=[]);var j=Me(x)?r:x;s[_].push({item:w[0],stackList:w.slice(1),barSize:Me(j)?void 0:Wa(j,n,0)})}}return s},XV=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=Wa(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,v=s.reduce(function(x,_){return x+_.barSize||0},0);v+=(l-1)*c,v>=a&&(v-=(l-1)*c,c=0),v>=a&&p>0&&(h=!0,p*=.9,v=l*p);var m=(a-v)/2>>0,g={offset:m-c,size:0};u=s.reduce(function(x,_){var j={item:_.item,position:{offset:g.offset+g.size+c,size:h?p:_.barSize}},C=[].concat(pb(x),[j]);return g=C[C.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){C.push({item:E,position:g})}),C},f)}else{var w=Wa(n,a,0,!0);a-2*w-(l-1)*c<=0&&(c=0);var y=(a-2*w-(l-1)*c)/l;y>1&&(y>>=0);var S=o===+o?Math.min(y,o):y;u=s.reduce(function(x,_,j){var C=[].concat(pb(x),[{item:_.item,position:{offset:w+(y+c)*j+(y-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){C.push({item:E,position:C[C.length-1].position})}),C},f)}return u},JV=function(e,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=_2({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&H(e[p]))return tt(tt({},e),{},ji({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&H(e[v]))return tt(tt({},e),{},ji({},v,e[v]+(h||0)))}return e},eG=function(e,r,n){return Me(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},S2=function(e,r,n,a,i){var s=r.props.children,o=Sr(s,Gd).filter(function(c){return eG(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Hr(u,n);if(Me(f))return c;var h=Array.isArray(f)?[Wd(f),qd(f)]:[f,f],p=l.reduce(function(v,m){var g=Hr(u,m,0),w=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(w,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},tG=function(e,r,n,a,i){var s=r.map(function(o){return S2(e,o,n,i,a)}).filter(function(o){return!Me(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},j2=function(e,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&S2(e,l,c,a)||wo(e,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},O2=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},C2=function(e,r,n,a){if(a)return e.map(function(l){return l.coordinate});var i,s,o=e.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},ln=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?gr(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!Zl(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},Wf=new WeakMap,Sc=function(e,r){if(typeof r!="function")return e;Wf.has(e)||Wf.set(e,new WeakMap);var n=Wf.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},rG=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,o=e.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Bo(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:lu(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xo(),realScaleType:"point"}:i==="category"?{scale:Bo(),realScaleType:"band"}:{scale:lu(),realScaleType:"linear"};if(Ql(a)){var l="scale".concat(Ad(a));return{scale:(lb[l]||xo)(),realScaleType:lb[l]?l:"point"}}return _e(a)?{scale:a}:{scale:xo(),realScaleType:"point"}},gb=1e-4,nG=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-gb,s=Math.max(a[0],a[1])+gb,o=e(r[0]),l=e(r[n-1]);(o<i||o>s||l<i||l>s)&&e.domain([r[0],r[n-1]])}},aG=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},iG=function(e,r){if(!r||r.length!==2||!H(r[0])||!H(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!H(e[0])||e[0]<n)&&(i[0]=n),(!H(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},sG=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Zl(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},oG=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Zl(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},lG={sign:sG,expand:SD,none:Gi,silhouette:jD,wiggle:OD,positive:oG},cG=function(e,r,n){var a=r.map(function(o){return o.props.dataKey}),i=lG[n],s=_D().keys(a).value(function(o,l){return+Hr(o,l,0)}).order(Hh).offset(i);return s(e)},uG=function(e,r,n,a,i,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?tt(tt({},h.type.defaultProps),h.props):h.props,m=v.stackId,g=v.hide;if(g)return f;var w=v[n],y=f[w]||{hasStack:!1,stackGroups:{}};if(dt(m)){var S=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(h),y.hasStack=!0,y.stackGroups[m]=S}else y.stackGroups[Pd("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return tt(tt({},f),{},ji({},w,y))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var w=p.stackGroups[g];return tt(tt({},m),{},ji({},g,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:cG(e,w.items,i)}))},v)}return tt(tt({},f),{},ji({},h,p))},u)},dG=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=_V(c,i,o);return e.domain([Wd(u),qd(u)]),{niceTicks:u}}if(i&&a==="number"){var f=e.domain(),h=SV(f,i,o);return{niceTicks:h}}return null},vb=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Hr(s,r.dataKey,r.domain[o]);return Me(l)?null:r.scale(l)-i/2+a},fG=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},hG=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(dt(i)){var s=r[i];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},pG=function(e){return e.reduce(function(r,n){return[Wd(n.concat([r[0]]).filter(H)),qd(n.concat([r[1]]).filter(H))]},[1/0,-1/0])},E2=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],o=s.stackedData,l=o.reduce(function(c,u){var f=pG(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},yb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wp=function(e,r,n){if(_e(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(H(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(yb.test(e[0])){var i=+yb.exec(e[0])[1];a[0]=r[0]-i}else _e(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(H(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(bb.test(e[1])){var s=+bb.exec(e[1])[1];a[1]=r[1]+s}else _e(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},mu=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=og(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},xb=function(e,r,n){return!e||!e.length||kg(e,Jt(n,"type.defaultProps.domain"))?r:e},T2=function(e,r){var n=e.type.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return tt(tt({},Ne(e,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:Mg(e),value:Hr(r,a),type:l,payload:r,chartType:c,hide:u})};function Ko(t){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(t)}function wb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _b(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wb(Object(r),!0).forEach(function(n){mG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mG(t,e,r){return e=gG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gG(t){var e=vG(t,"string");return Ko(e)=="symbol"?e:e+""}function vG(t,e){if(Ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gu=Math.PI/180,yG=function(e){return e*180/Math.PI},bt=function(e,r,n,a){return{x:e+Math.cos(-gu*a)*n,y:r+Math.sin(-gu*a)*n}},bG=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},xG=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,o=bG({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:yG(c),angleInRadian:c}},wG=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},_G=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return e+o*360},Sb=function(e,r){var n=e.x,a=e.y,i=xG({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=wG(r),f=u.startAngle,h=u.endAngle,p=o,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?_b(_b({},r),{},{radius:s,angle:_G(p,r)}):null};function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}var SG=["offset"];function jG(t){return TG(t)||EG(t)||CG(t)||OG()}function OG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(t,e){if(t){if(typeof t=="string")return _p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _p(t,e)}}function EG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TG(t){if(Array.isArray(t))return _p(t)}function _p(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PG(t,e){if(t==null)return{};var r=AG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jb(Object(r),!0).forEach(function(n){kG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kG(t,e,r){return e=NG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NG(t){var e=$G(t,"string");return Yo(e)=="symbol"?e:e+""}function $G(t,e){if(Yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qo.apply(this,arguments)}var MG=function(e){var r=e.value,n=e.formatter,a=Me(e.children)?r:e.children;return _e(n)?n(a):a},IG=function(e,r){var n=gr(r-e),a=Math.min(Math.abs(r-e),360);return n*a},RG=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,o=e.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+h)/2,w=IG(p,v),y=w>=0?1:-1,S,x;a==="insideStart"?(S=p+y*s,x=m):a==="insideEnd"?(S=v-y*s,x=!m):a==="end"&&(S=v+y*s,x=m),x=w<=0?x:!x;var _=bt(c,u,g,S),j=bt(c,u,g,S+(x?1:-1)*359),C="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(j.x,",").concat(j.y),E=Me(e.id)?Pd("recharts-radial-line-"):e.id;return O.createElement("text",Qo({},n,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",o)}),O.createElement("defs",null,O.createElement("path",{id:E,d:C})),O.createElement("textPath",{xlinkHref:"#".concat(E)},r))},DG=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var p=bt(s,o,c+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,w=bt(s,o,g,h),y=w.x,S=w.y;return{x:y,y:S,textAnchor:"middle",verticalAnchor:"middle"}},LG=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",v=f>0?"start":"end",m=c>=0?1:-1,g=m*a,w=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var S={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return ct(ct({},S),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var x={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:v};return ct(ct({},x),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var _={x:o-g,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return ct(ct({},_),n?{width:Math.max(_.x-n.x,0),height:u}:{})}if(i==="right"){var j={x:o+c+g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return ct(ct({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var C=n?{width:c,height:u}:{};return i==="insideLeft"?ct({x:o+g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideRight"?ct({x:o+c-g,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},C):i==="insideTop"?ct({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},C):i==="insideBottom"?ct({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},C):i==="insideTopLeft"?ct({x:o+g,y:l+h,textAnchor:y,verticalAnchor:v},C):i==="insideTopRight"?ct({x:o+c-g,y:l+h,textAnchor:w,verticalAnchor:v},C):i==="insideBottomLeft"?ct({x:o+g,y:l+u-h,textAnchor:y,verticalAnchor:p},C):i==="insideBottomRight"?ct({x:o+c-g,y:l+u-h,textAnchor:w,verticalAnchor:p},C):As(i)&&(H(i.x)||_a(i.x))&&(H(i.y)||_a(i.y))?ct({x:o+Wa(i.x,c),y:l+Wa(i.y,u),textAnchor:"end",verticalAnchor:"end"},C):ct({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},BG=function(e){return"cx"in e&&H(e.cx)};function St(t){var e=t.offset,r=e===void 0?5:e,n=PG(t,SG),a=ct({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||Me(o)&&Me(l)&&!b.isValidElement(c)&&!_e(c))return null;if(b.isValidElement(c))return b.cloneElement(c,a);var p;if(_e(c)){if(p=b.createElement(c,a),b.isValidElement(p))return p}else p=MG(a);var v=BG(i),m=Ne(a,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return RG(a,p,m);var g=v?DG(a):LG(a);return O.createElement(tu,Qo({className:Pe("recharts-label",f)},m,g,{breakAll:h}),p)}St.displayName="Label";var P2=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,m=e.width,g=e.height,w=e.clockWise,y=e.labelViewBox;if(y)return y;if(H(m)&&H(g)){if(H(f)&&H(h))return{x:f,y:h,width:m,height:g};if(H(p)&&H(v))return{x:p,y:v,width:m,height:g}}return H(f)&&H(h)?{x:f,y:h,width:0,height:0}:H(r)&&H(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},FG=function(e,r){return e?e===!0?O.createElement(St,{key:"label-implicit",viewBox:r}):dt(e)?O.createElement(St,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===St?b.cloneElement(e,{key:"label-implicit",viewBox:r}):O.createElement(St,{key:"label-implicit",content:e,viewBox:r}):_e(e)?O.createElement(St,{key:"label-implicit",content:e,viewBox:r}):As(e)?O.createElement(St,Qo({viewBox:r},e,{key:"label-implicit"})):null:null},UG=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=P2(e),s=Sr(a,St).map(function(l,c){return b.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=FG(e.label,r||i);return[o].concat(jG(s))};St.parseViewBox=P2;St.renderCallByParent=UG;function zG(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var qG=zG;const WG=He(qG);function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}var HG=["valueAccessor"],VG=["data","dataKey","clockWise","id","textBreakAll"];function GG(t){return ZG(t)||QG(t)||YG(t)||KG()}function KG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YG(t,e){if(t){if(typeof t=="string")return Sp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sp(t,e)}}function QG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZG(t){if(Array.isArray(t))return Sp(t)}function Sp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vu.apply(this,arguments)}function Ob(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ob(Object(r),!0).forEach(function(n){XG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XG(t,e,r){return e=JG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JG(t){var e=eK(t,"string");return Zo(e)=="symbol"?e:e+""}function eK(t,e){if(Zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eb(t,e){if(t==null)return{};var r=tK(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var rK=function(e){return Array.isArray(e.value)?WG(e.value):e.value};function Da(t){var e=t.valueAccessor,r=e===void 0?rK:e,n=Eb(t,HG),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=Eb(n,VG);return!a||!a.length?null:O.createElement(mt,{className:"recharts-label-list"},a.map(function(u,f){var h=Me(i)?r(u,f):Hr(u&&u.payload,i),p=Me(o)?{}:{id:"".concat(o,"-").concat(f)};return O.createElement(St,vu({},Ne(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:St.parseViewBox(Me(s)?u:Cb(Cb({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Da.displayName="LabelList";function nK(t,e){return t?t===!0?O.createElement(Da,{key:"labelList-implicit",data:e}):O.isValidElement(t)||_e(t)?O.createElement(Da,{key:"labelList-implicit",data:e,content:t}):As(t)?O.createElement(Da,vu({data:e},t,{key:"labelList-implicit"})):null:null}function aK(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Sr(n,Da).map(function(s,o){return b.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return a;var i=nK(t.label,e);return[i].concat(GG(a))}Da.renderCallByParent=aK;function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jp.apply(this,arguments)}function Tb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(r),!0).forEach(function(n){iK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iK(t,e,r){return e=sK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sK(t){var e=oK(t,"string");return Xo(e)=="symbol"?e:e+""}function oK(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lK=function(e,r){var n=gr(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},jc=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/gu,h=c?i:i+s*f,p=bt(r,n,u,h),v=bt(r,n,a,h),m=c?i-s*f:i,g=bt(r,n,u*Math.cos(f*gu),m);return{center:p,circleTangency:v,lineTangency:g,theta:f}},A2=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,o=e.endAngle,l=lK(s,o),c=s+l,u=bt(r,n,i,s),f=bt(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=bt(r,n,a,s),v=bt(r,n,a,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},cK=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=gr(u-c),h=jc({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,g=jc({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=g.circleTangency,y=g.lineTangency,S=g.theta,x=l?Math.abs(c-u):Math.abs(c-u)-m-S;if(x<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):A2({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var j=jc({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=j.circleTangency,E=j.lineTangency,A=j.theta,P=jc({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=P.circleTangency,N=P.lineTangency,D=P.theta,M=l?Math.abs(c-u):Math.abs(c-u)-A-D;if(M<0&&s===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},uK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},k2=function(e){var r=Pb(Pb({},uK),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var p=Pe("recharts-sector",h),v=s-i,m=Wa(o,v,0,!0),g;return m>0&&Math.abs(u-f)<360?g=cK({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):g=A2({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),O.createElement("path",jp({},Ne(r,!0),{className:p,d:g,role:"img"}))};function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Op.apply(this,arguments)}function Ab(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(r),!0).forEach(function(n){dK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dK(t,e,r){return e=fK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fK(t){var e=hK(t,"string");return Jo(e)=="symbol"?e:e+""}function hK(t,e){if(Jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nb={curveBasisClosed:dD,curveBasisOpen:fD,curveBasis:uD,curveBumpX:Q5,curveBumpY:Z5,curveLinearClosed:hD,curveLinear:Nd,curveMonotoneX:pD,curveMonotoneY:mD,curveNatural:gD,curveStep:vD,curveStepAfter:bD,curveStepBefore:yD},Oc=function(e){return e.x===+e.x&&e.y===+e.y},ro=function(e){return e.x},no=function(e){return e.y},pK=function(e,r){if(_e(e))return e;var n="curve".concat(Ad(e));return(n==="curveMonotone"||n==="curveBump")&&r?Nb["".concat(n).concat(r==="vertical"?"Y":"X")]:Nb[n]||Nd},mK=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=pK(n,o),f=c?i.filter(function(m){return Oc(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return Oc(m)}):s,v=f.map(function(m,g){return kb(kb({},m),{},{base:p[g]})});return o==="vertical"?h=mc().y(no).x1(ro).x0(function(m){return m.base.x}):h=mc().x(ro).y1(no).y0(function(m){return m.base.y}),h.defined(Oc).curve(u),h(v)}return o==="vertical"&&H(s)?h=mc().y(no).x1(ro).x0(s):H(s)?h=mc().x(ro).y1(no).y0(s):h=AS().x(ro).y(no),h.defined(Oc).curve(u),h(f)},$b=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?mK(e):a;return O.createElement("path",Op({},Ne(e,!1),Fc(e),{className:Pe("recharts-curve",r),d:s,ref:i}))},N2={exports:{}},gK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vK=gK,yK=vK;function $2(){}function M2(){}M2.resetWarningCache=$2;var bK=function(){function t(n,a,i,s,o,l){if(l!==yK){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:M2,resetWarningCache:$2};return r.PropTypes=r,r};N2.exports=bK();var xK=N2.exports;const ge=He(xK);var wK=Object.getOwnPropertyNames,_K=Object.getOwnPropertySymbols,SK=Object.prototype.hasOwnProperty;function Mb(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Cc(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=t(r,n,a);return i.delete(r),i.delete(n),l}}function Ib(t){return wK(t).concat(_K(t))}var I2=Object.hasOwn||function(t,e){return SK.call(t,e)};function Fs(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var R2="_owner",Rb=Object.getOwnPropertyDescriptor,Db=Object.keys;function jK(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function OK(t,e){return Fs(t.getTime(),e.getTime())}function Lb(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.entries(),i=0,s,o;(s=a.next())&&!s.done;){for(var l=e.entries(),c=!1,u=0;(o=l.next())&&!o.done;){var f=s.value,h=f[0],p=f[1],v=o.value,m=v[0],g=v[1];!c&&!n[u]&&(c=r.equals(h,m,i,u,t,e,r)&&r.equals(p,g,h,m,t,e,r))&&(n[u]=!0),u++}if(!c)return!1;i++}return!0}function CK(t,e,r){var n=Db(t),a=n.length;if(Db(e).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===R2&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!I2(e,i)||!r.equals(t[i],e[i],i,i,t,e,r))return!1;return!0}function ao(t,e,r){var n=Ib(t),a=n.length;if(Ib(e).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],i===R2&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!I2(e,i)||!r.equals(t[i],e[i],i,i,t,e,r)||(s=Rb(t,i),o=Rb(e,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function EK(t,e){return Fs(t.valueOf(),e.valueOf())}function TK(t,e){return t.source===e.source&&t.flags===e.flags}function Bb(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.values(),i,s;(i=a.next())&&!i.done;){for(var o=e.values(),l=!1,c=0;(s=o.next())&&!s.done;)!l&&!n[c]&&(l=r.equals(i.value,s.value,i.value,s.value,t,e,r))&&(n[c]=!0),c++;if(!l)return!1}return!0}function PK(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var AK="[object Arguments]",kK="[object Boolean]",NK="[object Date]",$K="[object Map]",MK="[object Number]",IK="[object Object]",RK="[object RegExp]",DK="[object Set]",LK="[object String]",BK=Array.isArray,Fb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ub=Object.assign,FK=Object.prototype.toString.call.bind(Object.prototype.toString);function UK(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,a=t.areObjectsEqual,i=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return a(u,f,h);if(BK(u))return e(u,f,h);if(Fb!=null&&Fb(u))return l(u,f,h);if(p===Date)return r(u,f,h);if(p===RegExp)return s(u,f,h);if(p===Map)return n(u,f,h);if(p===Set)return o(u,f,h);var v=FK(u);return v===NK?r(u,f,h):v===RK?s(u,f,h):v===$K?n(u,f,h):v===DK?o(u,f,h):v===IK?typeof u.then!="function"&&typeof f.then!="function"&&a(u,f,h):v===AK?a(u,f,h):v===kK||v===MK||v===LK?i(u,f,h):!1}}function zK(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?ao:jK,areDatesEqual:OK,areMapsEqual:n?Mb(Lb,ao):Lb,areObjectsEqual:n?ao:CK,arePrimitiveWrappersEqual:EK,areRegExpsEqual:TK,areSetsEqual:n?Mb(Bb,ao):Bb,areTypedArraysEqual:n?ao:PK};if(r&&(a=Ub({},a,r(a))),e){var i=Cc(a.areArraysEqual),s=Cc(a.areMapsEqual),o=Cc(a.areObjectsEqual),l=Cc(a.areSetsEqual);a=Ub({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function qK(t){return function(e,r,n,a,i,s,o){return t(e,r,o)}}function WK(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var HK=ca();ca({strict:!0});ca({circular:!0});ca({circular:!0,strict:!0});ca({createInternalComparator:function(){return Fs}});ca({strict:!0,createInternalComparator:function(){return Fs}});ca({circular:!0,createInternalComparator:function(){return Fs}});ca({circular:!0,createInternalComparator:function(){return Fs},strict:!0});function ca(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,o=zK(t),l=UK(o),c=n?n(l):qK(l);return WK({circular:r,comparator:l,createState:a,equals:c,strict:s})}function VK(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):VK(a)};requestAnimationFrame(n)}function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function GK(t){return ZK(t)||QK(t)||YK(t)||KK()}function KK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YK(t,e){if(t){if(typeof t=="string")return qb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qb(t,e)}}function qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZK(t){if(Array.isArray(t))return t}function XK(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=GK(s),l=o[0],c=o.slice(1);if(typeof l=="number"){zb(a.bind(null,c),l);return}a(l),zb(a.bind(null,c));return}Cp(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function Wb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(r),!0).forEach(function(n){D2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D2(t,e,r){return e=JK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JK(t){var e=eY(t,"string");return el(e)==="symbol"?e:String(e)}function eY(t,e){if(el(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(el(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tY=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},rY=function(e){return e},nY=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_o=function(e,r){return Object.keys(r).reduce(function(n,a){return Hb(Hb({},n),{},D2({},a,e(a,r[a])))},{})},Vb=function(e,r,n){return e.map(function(a){return"".concat(nY(a)," ").concat(r,"ms ").concat(n)}).join(",")};function aY(t,e){return oY(t)||sY(t,e)||L2(t,e)||iY()}function iY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function oY(t){if(Array.isArray(t))return t}function lY(t){return dY(t)||uY(t)||L2(t)||cY()}function cY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2(t,e){if(t){if(typeof t=="string")return Ep(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ep(t,e)}}function uY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dY(t){if(Array.isArray(t))return Ep(t)}function Ep(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yu=1e-4,B2=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},F2=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Gb=function(e,r){return function(n){var a=B2(e,r);return F2(a,n)}},fY=function(e,r){return function(n){var a=B2(e,r),i=[].concat(lY(a.map(function(s,o){return s*o}).slice(1)),[0]);return F2(i,n)}},Kb=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=aY(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=Gb(a,s),h=Gb(i,o),p=fY(a,s),v=function(w){return w>1?1:w<0?0:w},m=function(w){for(var y=w>1?1:w,S=y,x=0;x<8;++x){var _=f(S)-y,j=p(S);if(Math.abs(_-y)<yu||j<yu)return h(S);S=v(S-_/j)}return h(S)};return m.isStepper=!1,m},hY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*n,v=h*i,m=h+(p-v)*o/1e3,g=h*o/1e3+u;return Math.abs(g-f)<yu&&Math.abs(m)<yu?[f,0]:[g,m]};return l.isStepper=!0,l.dt=o,l},pY=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kb(a);case"spring":return hY();default:if(a.split("(")[0]==="cubic-bezier")return Kb(a)}return typeof a=="function"?a:null};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function Yb(t){return vY(t)||gY(t)||U2(t)||mY()}function mY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vY(t){if(Array.isArray(t))return Pp(t)}function Qb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qb(Object(r),!0).forEach(function(n){Tp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tp(t,e,r){return e=yY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yY(t){var e=bY(t,"string");return tl(e)==="symbol"?e:String(e)}function bY(t,e){if(tl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xY(t,e){return SY(t)||_Y(t,e)||U2(t,e)||wY()}function wY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2(t,e){if(t){if(typeof t=="string")return Pp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pp(t,e)}}function Pp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Y(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function SY(t){if(Array.isArray(t))return t}var bu=function(e,r,n){return e+(r-e)*n},Ap=function(e){var r=e.from,n=e.to;return r!==n},jY=function t(e,r,n){var a=_o(function(i,s){if(Ap(s)){var o=e(s.from,s.to,s.velocity),l=xY(o,2),c=l[0],u=l[1];return yt(yt({},s),{},{from:c,velocity:u})}return s},r);return n<1?_o(function(i,s){return Ap(s)?yt(yt({},s),{},{velocity:bu(s.velocity,a[i].velocity,n),from:bu(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const OY=function(t,e,r,n,a){var i=tY(t,e),s=i.reduce(function(g,w){return yt(yt({},g),{},Tp({},w,[t[w],e[w]]))},{}),o=i.reduce(function(g,w){return yt(yt({},g),{},Tp({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return _o(function(w,y){return y.from},o)},p=function(){return!Object.values(o).filter(Ap).length},v=function(w){c||(c=w);var y=w-c,S=y/r.dt;o=jY(r,o,S),a(yt(yt(yt({},t),e),h())),c=w,p()||(l=requestAnimationFrame(f))},m=function(w){u||(u=w);var y=(w-u)/n,S=_o(function(_,j){return bu.apply(void 0,Yb(j).concat([r(y)]))},s);if(a(yt(yt(yt({},t),e),S)),y<1)l=requestAnimationFrame(f);else{var x=_o(function(_,j){return bu.apply(void 0,Yb(j).concat([r(1)]))},s);a(yt(yt(yt({},t),e),x))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}var CY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function EY(t,e){if(t==null)return{};var r=TY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TY(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Hf(t){return NY(t)||kY(t)||AY(t)||PY()}function PY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(t,e){if(t){if(typeof t=="string")return kp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kp(t,e)}}function kY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NY(t){if(Array.isArray(t))return kp(t)}function kp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zb(Object(r),!0).forEach(function(n){uo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uo(t,e,r){return e=z2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z2(n.key),n)}}function IY(t,e,r){return e&&MY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z2(t){var e=RY(t,"string");return rs(e)==="symbol"?e:String(e)}function RY(t,e){if(rs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Np(t,e)}function Np(t,e){return Np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Np(t,e)}function LY(t){var e=BY();return function(){var n=xu(t),a;if(e){var i=xu(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return $p(this,a)}}function $p(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mp(t)}function Mp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xu(t){return xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xu(t)}var Xn=function(t){DY(r,t);var e=LY(r);function r(n,a){var i;$Y(this,r),i=e.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Mp(i)),i.changeStyle=i.changeStyle.bind(Mp(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),$p(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},$p(i);i.state={style:l?uo({},l,c):c}}else i.state={style:{}};return i}return IY(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?uo({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(HK(a.to,u)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?f:a.to;if(this.state&&h){var g={style:l?uo({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(or(or({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=OY(s,o,pY(c),l,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,u,v,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,g,w){if(w===0)return m;var y=g.duration,S=g.easing,x=S===void 0?"ease":S,_=g.style,j=g.properties,C=g.onAnimationEnd,E=w>0?s[w-1]:g,A=j||Object.keys(_);if(typeof x=="function"||x==="spring")return[].concat(Hf(m),[i.runJSAnimation.bind(i,{from:E.style,to:_,duration:y,easing:x}),y]);var P=Vb(A,y,x),T=or(or(or({},E.style),_),{},{transition:P});return[].concat(Hf(m),[T,y,C]).filter(rY)};return this.manager.start([l].concat(Hf(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=XK());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?uo({},o,l):l,g=Vb(Object.keys(m),s,c);v.start([u,i,or(or({},m),{},{transition:g}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=EY(a,CY),c=b.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(p){var v=p.props,m=v.style,g=m===void 0?{}:m,w=v.className,y=b.cloneElement(p,or(or({},l),{},{style:or(or({},g),u),className:w}));return y};return c===1?f(b.Children.only(i)):O.createElement("div",null,b.Children.map(i,function(h){return f(h)}))}}]),r}(b.PureComponent);Xn.displayName="Animate";Xn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xn.propTypes={from:ge.oneOfType([ge.object,ge.string]),to:ge.oneOfType([ge.object,ge.string]),attributeName:ge.string,duration:ge.number,begin:ge.number,easing:ge.oneOfType([ge.string,ge.func]),steps:ge.arrayOf(ge.shape({duration:ge.number.isRequired,style:ge.object.isRequired,easing:ge.oneOfType([ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ge.func]),properties:ge.arrayOf("string"),onAnimationEnd:ge.func})),children:ge.oneOfType([ge.node,ge.func]),isActive:ge.bool,canBegin:ge.bool,onAnimationEnd:ge.func,shouldReAnimate:ge.bool,onAnimationStart:ge.func,onAnimationReStart:ge.func};ge.object,ge.object,ge.object,ge.element;ge.object,ge.object,ge.object,ge.oneOfType([ge.array,ge.element]),ge.any;function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}function FY(t,e){return WY(t)||qY(t,e)||zY(t,e)||UY()}function UY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zY(t,e){if(t){if(typeof t=="string")return Xb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xb(t,e)}}function Xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function WY(t){if(Array.isArray(t))return t}function Jb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jb(Object(r),!0).forEach(function(n){HY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HY(t,e,r){return e=VY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VY(t){var e=GY(t,"string");return rl(e)=="symbol"?e:e+""}function GY(t,e){if(rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tx=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+a)),u+="L ".concat(e+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);u="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+a-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n-l*v,",").concat(r+a,`
            L `).concat(e+l*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(r+a-o*v," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},KY=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},YY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ig=function(e){var r=ex(ex({},YY),e),n=b.useRef(),a=b.useState(-1),i=FY(a,2),s=i[0],o=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&o(x)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,w=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var S=Pe("recharts-rectangle",p);return y?O.createElement(Xn,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:v,isActive:y},function(x){var _=x.width,j=x.height,C=x.x,E=x.y;return O.createElement(Xn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:w,easing:v},O.createElement("path",wu({},Ne(r,!0),{className:S,d:tx(C,E,_,j,h),ref:n})))}):O.createElement("path",wu({},Ne(r,!0),{className:S,d:tx(l,c,u,f,h)}))};function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ip.apply(this,arguments)}var q2=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=Pe("recharts-dot",i);return r===+r&&n===+n&&a===+a?O.createElement("circle",Ip({},Ne(e,!1),Fc(e),{className:s,cx:r,cy:n,r:a})):null};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}var QY=["x","y","top","left","width","height","className"];function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rp.apply(this,arguments)}function rx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(r),!0).forEach(function(n){XY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XY(t,e,r){return e=JY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JY(t){var e=eQ(t,"string");return nl(e)=="symbol"?e:e+""}function eQ(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tQ(t,e){if(t==null)return{};var r=rQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nQ=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},aQ=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,v=e.className,m=tQ(e,QY),g=ZY({x:n,y:i,top:o,left:c,width:f,height:p},m);return!H(n)||!H(i)||!H(f)||!H(p)||!H(o)||!H(c)?null:O.createElement("path",Rp({},Ne(g,!0),{className:Pe("recharts-cross",v),d:nQ(n,i,f,p,o,c)}))},iQ=ej,sQ=iQ(Object.getPrototypeOf,Object),oQ=sQ,lQ=wn,cQ=oQ,uQ=_n,dQ="[object Object]",fQ=Function.prototype,hQ=Object.prototype,W2=fQ.toString,pQ=hQ.hasOwnProperty,mQ=W2.call(Object);function gQ(t){if(!uQ(t)||lQ(t)!=dQ)return!1;var e=cQ(t);if(e===null)return!0;var r=pQ.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&W2.call(r)==mQ}var vQ=gQ;const yQ=He(vQ);var bQ=wn,xQ=_n,wQ="[object Boolean]";function _Q(t){return t===!0||t===!1||xQ(t)&&bQ(t)==wQ}var SQ=_Q;const jQ=He(SQ);function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function OQ(t,e){return PQ(t)||TQ(t,e)||EQ(t,e)||CQ()}function CQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EQ(t,e){if(t){if(typeof t=="string")return nx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(t,e)}}function nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function PQ(t){if(Array.isArray(t))return t}function ax(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ix(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(r),!0).forEach(function(n){AQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AQ(t,e,r){return e=kQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kQ(t){var e=NQ(t,"string");return al(e)=="symbol"?e:e+""}function NQ(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sx=function(e,r,n,a,i){var s=n-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+i),o+="L ".concat(e+n-s/2-a,",").concat(r+i),o+="L ".concat(e,",").concat(r," Z"),o},$Q={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MQ=function(e){var r=ix(ix({},$Q),e),n=b.useRef(),a=b.useState(-1),i=OQ(a,2),s=i[0],o=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var y=Pe("recharts-trapezoid",p);return w?O.createElement(Xn,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:v,isActive:w},function(S){var x=S.upperWidth,_=S.lowerWidth,j=S.height,C=S.x,E=S.y;return O.createElement(Xn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},O.createElement("path",_u({},Ne(r,!0),{className:y,d:sx(C,E,x,_,j),ref:n})))}):O.createElement("g",null,O.createElement("path",_u({},Ne(r,!0),{className:y,d:sx(l,c,u,f,h)})))},IQ=["option","shapeType","propTransformer","activeClassName","isActive"];function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function RQ(t,e){if(t==null)return{};var r=DQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ox(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Su(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(r),!0).forEach(function(n){LQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LQ(t,e,r){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BQ(t){var e=FQ(t,"string");return il(e)=="symbol"?e:e+""}function FQ(t,e){if(il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UQ(t,e){return Su(Su({},e),t)}function zQ(t,e){return t==="symbols"}function lx(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return O.createElement(Ig,r);case"trapezoid":return O.createElement(MQ,r);case"sector":return O.createElement(k2,r);case"symbols":if(zQ(e))return O.createElement(Jm,r);break;default:return null}}function qQ(t){return b.isValidElement(t)?t.props:t}function WQ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?UQ:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,o=t.isActive,l=RQ(t,IQ),c;if(b.isValidElement(e))c=b.cloneElement(e,Su(Su({},l),qQ(e)));else if(_e(e))c=e(l);else if(yQ(e)&&!jQ(e)){var u=a(e,l);c=O.createElement(lx,{shapeType:r,elementProps:u})}else{var f=l;c=O.createElement(lx,{shapeType:r,elementProps:f})}return o?O.createElement(mt,{className:s},c):c}function Kd(t,e){return e!=null&&"trapezoids"in t.props}function Yd(t,e){return e!=null&&"sectors"in t.props}function sl(t,e){return e!=null&&"points"in t.props}function HQ(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function VQ(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function GQ(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function KQ(t,e){var r;return Kd(t,e)?r=HQ:Yd(t,e)?r=VQ:sl(t,e)&&(r=GQ),r}function YQ(t,e){var r;return Kd(t,e)?r="trapezoids":Yd(t,e)?r="sectors":sl(t,e)&&(r="points"),r}function QQ(t,e){if(Kd(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yd(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return sl(t,e)?e.payload:{}}function ZQ(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=YQ(r,e),i=QQ(r,e),s=n.filter(function(l,c){var u=kg(i,l),f=r.props[a].filter(function(v){var m=KQ(r,e);return m(v,e)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var XQ=Math.ceil,JQ=Math.max;function eZ(t,e,r,n){for(var a=-1,i=JQ(XQ((e-t)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=t,t+=r;return s}var tZ=eZ,rZ=bj,cx=1/0,nZ=17976931348623157e292;function aZ(t){if(!t)return t===0?t:0;if(t=rZ(t),t===cx||t===-cx){var e=t<0?-1:1;return e*nZ}return t===t?t:0}var H2=aZ,iZ=tZ,sZ=Rd,Vf=H2;function oZ(t){return function(e,r,n){return n&&typeof n!="number"&&sZ(e,r,n)&&(r=n=void 0),e=Vf(e),r===void 0?(r=e,e=0):r=Vf(r),n=n===void 0?e<r?1:-1:Vf(n),iZ(e,r,n,t)}}var lZ=oZ,cZ=lZ,uZ=cZ(),dZ=uZ;const ju=He(dZ);function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function ux(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ux(Object(r),!0).forEach(function(n){V2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V2(t,e,r){return e=fZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fZ(t){var e=hZ(t,"string");return ol(e)=="symbol"?e:e+""}function hZ(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pZ=["Webkit","Moz","O","ms"],mZ=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=pZ.reduce(function(i,s){return dx(dx({},i),{},V2({},s+n,r))},{});return a[e]=r,a};function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ou.apply(this,arguments)}function fx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fx(Object(r),!0).forEach(function(n){zt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K2(n.key),n)}}function vZ(t,e,r){return e&&hx(t.prototype,e),r&&hx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yZ(t,e,r){return e=Cu(e),bZ(t,G2()?Reflect.construct(e,r||[],Cu(t).constructor):e.apply(t,r))}function bZ(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xZ(t)}function xZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G2=function(){return!!t})()}function Cu(t){return Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cu(t)}function wZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dp(t,e)}function Dp(t,e){return Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dp(t,e)}function zt(t,e,r){return e=K2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K2(t){var e=_Z(t,"string");return ns(e)=="symbol"?e:e+""}function _Z(t,e){if(ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SZ=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=xo().domain(ju(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},px=function(e){return e.changedTouches&&!!e.changedTouches.length},as=function(t){function e(r){var n;return gZ(this,e),n=yZ(this,e,[r]),zt(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),zt(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),zt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),zt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),zt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),zt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),zt(n,"handleSlideDragStart",function(a){var i=px(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wZ(e,t),vZ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Hr(i[n],o,n);return _e(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var g=this.getIndex({startX:s+m,endX:o+m});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=px(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,v=u.onChange,m=u.gap,g=u.data,w={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-c):y<0&&(y=Math.max(y,f-c)),w[s]=c+y;var S=this.getIndex(w),x=S.startIndex,_=S.endIndex,j=function(){var E=g.length-1;return s==="startX"&&(o>l?x%m===0:_%m===0)||o<l&&_===E||s==="endX"&&(o>l?_%m===0:x%m===0)||o>l&&_===E};this.setState(zt(zt({},s,c+y),"brushMoveStartX",n.pageX),function(){v&&j()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(zt({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return O.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=b.Children.only(c);return f?O.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,w=Math.max(n,this.props.x),y=Gf(Gf({},Ne(this.props,!1)),{},{x:w,y:c,width:u,height:f}),S=p||"Min value: ".concat((i=v[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=v[g])===null||s===void 0?void 0:s.name);return O.createElement(mt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),o.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,v={pointerEvents:"none",fill:c};return O.createElement(mt,{className:"recharts-brush-texts"},O.createElement(tu,Ou({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},v),this.getTextOfTick(a)),O.createElement(tu,Ou({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,g=h.isSlideMoving,w=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!H(o)||!H(l)||!H(c)||!H(u)||c<=0||u<=0)return null;var S=Pe("recharts-brush",i),x=O.Children.count(s)===1,_=mZ("userSelect","none");return O.createElement(mt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||w||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),O.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return O.isValidElement(n)?i=O.cloneElement(n,a):_e(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return Gf({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?SZ({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(b.PureComponent);zt(as,"displayName","Brush");zt(as,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jZ=sg;function OZ(t,e){var r;return jZ(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var CZ=OZ,EZ=VS,TZ=sa,PZ=CZ,AZ=Ft,kZ=Rd;function NZ(t,e,r){var n=AZ(t)?EZ:PZ;return r&&kZ(t,e,r)&&(e=void 0),n(t,TZ(e))}var $Z=NZ;const MZ=He($Z);var Ur=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},mx=pj;function IZ(t,e,r){e=="__proto__"&&mx?mx(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var RZ=IZ,DZ=RZ,LZ=fj,BZ=sa;function FZ(t,e){var r={};return e=BZ(e),LZ(t,function(n,a,i){DZ(r,a,e(n,a,i))}),r}var UZ=FZ;const zZ=He(UZ);function qZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var WZ=qZ,HZ=sg;function VZ(t,e){var r=!0;return HZ(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var GZ=VZ,KZ=WZ,YZ=GZ,QZ=sa,ZZ=Ft,XZ=Rd;function JZ(t,e,r){var n=ZZ(t)?KZ:YZ;return r&&XZ(t,e,r)&&(e=void 0),n(t,QZ(e))}var eX=JZ;const Y2=He(eX);var tX=["x","y"];function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lp.apply(this,arguments)}function gx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gx(Object(r),!0).forEach(function(n){rX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rX(t,e,r){return e=nX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nX(t){var e=aX(t,"string");return ll(e)=="symbol"?e:e+""}function aX(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iX(t,e){if(t==null)return{};var r=sX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oX(t,e){var r=t.x,n=t.y,a=iX(t,tX),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||a.height),u=parseInt(c,10),f="".concat(e.width||a.width),h=parseInt(f,10);return io(io(io(io(io({},e),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function vx(t){return O.createElement(WQ,Lp({shapeType:"rectangle",propTransformer:oX,activeClassName:"recharts-active-bar"},t))}var lX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||Va(),r)}},cX=["value","background"],Q2;function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function uX(t,e){if(t==null)return{};var r=dX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(this,arguments)}function yx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function st(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(r),!0).forEach(function(n){Hn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X2(n.key),n)}}function hX(t,e,r){return e&&bx(t.prototype,e),r&&bx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pX(t,e,r){return e=Tu(e),mX(t,Z2()?Reflect.construct(e,r||[],Tu(t).constructor):e.apply(t,r))}function mX(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(t)}function gX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z2=function(){return!!t})()}function Tu(t){return Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tu(t)}function vX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bp(t,e)}function Bp(t,e){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bp(t,e)}function Hn(t,e,r){return e=X2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X2(t){var e=yX(t,"string");return is(e)=="symbol"?e:e+""}function yX(t,e){if(is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vr=function(t){function e(){var r;fX(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pX(this,e,[].concat(a)),Hn(r,"state",{isAnimationFinished:!1}),Hn(r,"id",Pd("recharts-bar-")),Hn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Hn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return vX(e,t),hX(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=Ne(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?c:s,m=st(st(st({},u),f),{},{isActive:p,option:v,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement(mt,Eu({className:"recharts-bar-rectangle"},Uc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),O.createElement(vx,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return O.createElement(Xn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=i.map(function(g,w){var y=h&&h[w];if(y){var S=li(y.x,g.x),x=li(y.y,g.y),_=li(y.width,g.width),j=li(y.height,g.height);return st(st({},g),{},{x:S(v),y:x(v),width:_(v),height:j(v)})}if(s==="horizontal"){var C=li(0,g.height),E=C(v);return st(st({},g),{},{y:g.y+g.height-E,height:E})}var A=li(0,g.width),P=A(v);return st(st({},g),{},{width:P})});return O.createElement(mt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!kg(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Ne(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=uX(c,cX);if(!f)return null;var p=st(st(st(st(st({},h),{},{fill:"#eee"},f),l),Uc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return O.createElement(vx,Eu({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Sr(u,Gd);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(g,w){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Hr(g,w)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(mt,v,f.map(function(m){return O.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,w=Pe("recharts-bar",s),y=o&&o.allowDataOverflow,S=l&&l.allowDataOverflow,x=y||S,_=Me(m)?this.id:m;return O.createElement(mt,{className:w},y||S?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(_)},O.createElement("rect",{x:y?c:c-f/2,y:S?u:u-h/2,width:y?f:f*2,height:S?h:h*2}))):null,O.createElement(mt,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,_),(!p||g)&&Da.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(b.PureComponent);Q2=Vr;Hn(Vr,"displayName","Bar");Hn(Vr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hn(Vr,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=aG(n,r);if(!p)return null;var v=e.layout,m=r.type.defaultProps,g=m!==void 0?st(st({},m),r.props):r.props,w=g.dataKey,y=g.children,S=g.minPointSize,x=v==="horizontal"?s:i,_=c?x.scale.domain():null,j=fG({numericAxis:x}),C=Sr(y,_j),E=f.map(function(A,P){var T,N,D,M,R,I;c?T=iG(c[u+P],_):(T=Hr(A,w),Array.isArray(T)||(T=[j,T]));var B=lX(S,Q2.defaultProps.minPointSize)(T[1],P);if(v==="horizontal"){var U,q=[s.scale(T[0]),s.scale(T[1])],ie=q[0],V=q[1];N=vb({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:A,index:P}),D=(U=V??ie)!==null&&U!==void 0?U:void 0,M=p.size;var Y=ie-V;if(R=Number.isNaN(Y)?0:Y,I={x:N,y:s.y,width:M,height:s.height},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var ce=gr(R||B)*(Math.abs(B)-Math.abs(R));D-=ce,R+=ce}}else{var Se=[i.scale(T[0]),i.scale(T[1])],Je=Se[0],Et=Se[1];if(N=Je,D=vb({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:A,index:P}),M=Et-Je,R=p.size,I={x:i.x,y:D,width:i.width,height:R},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var se=gr(M||B)*(Math.abs(B)-Math.abs(M));M+=se}}return st(st(st({},A),{},{x:N,y:D,width:M,height:R,value:c?T:T[1],payload:A,background:I},C&&C[P]&&C[P].props),{},{tooltipPayload:[T2(r,A)],tooltipPosition:{x:N+M/2,y:D+R/2}})});return st({data:E,layout:v},h)});function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function bX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J2(n.key),n)}}function xX(t,e,r){return e&&xx(t.prototype,e),r&&xx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(r),!0).forEach(function(n){Qd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qd(t,e,r){return e=J2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J2(t){var e=wX(t,"string");return cl(e)=="symbol"?e:e+""}function wX(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _X=function(e,r,n,a,i){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Wt(c,Vr);return u.reduce(function(p,v){var m=r[v],g=m.orientation,w=m.domain,y=m.padding,S=y===void 0?{}:y,x=m.mirror,_=m.reversed,j="".concat(g).concat(x?"Mirror":""),C,E,A,P,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=w[1]-w[0],D=1/0,M=m.categoricalDomain.sort();if(M.forEach(function(Se,Je){Je>0&&(D=Math.min((Se||0)-(M[Je-1]||0),D))}),Number.isFinite(D)){var R=D/N,I=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=R*I/2),m.padding==="no-gap"){var B=Wa(e.barCategoryGap,R*I),U=R*I/2;C=U-B-(U-B)/I*B}}}a==="xAxis"?E=[n.left+(S.left||0)+(C||0),n.left+n.width-(S.right||0)-(C||0)]:a==="yAxis"?E=l==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(C||0),n.top+n.height-(S.bottom||0)-(C||0)]:E=m.range,_&&(E=[E[1],E[0]]);var q=rG(m,i,h),ie=q.scale,V=q.realScaleType;ie.domain(w).range(E),nG(ie);var Y=dG(ie,fr(fr({},m),{},{realScaleType:V}));a==="xAxis"?(T=g==="top"&&!x||g==="bottom"&&x,A=n.left,P=f[j]-T*m.height):a==="yAxis"&&(T=g==="left"&&!x||g==="right"&&x,A=f[j]-T*m.width,P=n.top);var ce=fr(fr(fr({},m),Y),{},{realScaleType:V,x:A,y:P,scale:ie,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return ce.bandSize=mu(ce,Y),!m.hide&&a==="xAxis"?f[j]+=(T?-1:1)*ce.height:m.hide||(f[j]+=(T?-1:1)*ce.width),fr(fr({},p),{},Qd({},v,ce))},{})},eO=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},SX=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return eO({x:r,y:n},{x:a,y:i})},tO=function(){function t(e){bX(this,t),this.scale=e}return xX(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Qd(tO,"EPS",1e-4);var Rg=function(e){var r=Object.keys(e).reduce(function(n,a){return fr(fr({},n),{},Qd({},a,tO.create(e[a])))},{});return fr(fr({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return zZ(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return Y2(a,function(i,s){return r[s].isInRange(i)})}})};function jX(t){return(t%180+180)%180}var OX=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=jX(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},CX=sa,EX=Xl,TX=Md;function PX(t){return function(e,r,n){var a=Object(e);if(!EX(e)){var i=CX(r);e=TX(e),r=function(o){return i(a[o],o,a)}}var s=t(e,r,n);return s>-1?a[i?e[s]:s]:void 0}}var AX=PX,kX=H2;function NX(t){var e=kX(t),r=e%1;return e===e?r?e-r:e:0}var $X=NX,MX=sj,IX=sa,RX=$X,DX=Math.max;function LX(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:RX(r);return a<0&&(a=DX(n+a,0)),MX(t,IX(e),a)}var BX=LX,FX=AX,UX=BX,zX=FX(UX),qX=zX;const WX=He(qX);var HX=qI(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Dg=b.createContext(void 0),Lg=b.createContext(void 0),rO=b.createContext(void 0),nO=b.createContext({}),aO=b.createContext(void 0),iO=b.createContext(0),sO=b.createContext(0),_x=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=HX(i);return O.createElement(Dg.Provider,{value:n},O.createElement(Lg.Provider,{value:a},O.createElement(nO.Provider,{value:i},O.createElement(rO.Provider,{value:u},O.createElement(aO.Provider,{value:s},O.createElement(iO.Provider,{value:c},O.createElement(sO.Provider,{value:l},o)))))))},VX=function(){return b.useContext(aO)},oO=function(e){var r=b.useContext(Dg);r==null&&Va();var n=r[e];return n==null&&Va(),n},GX=function(){var e=b.useContext(Dg);return Mn(e)},KX=function(){var e=b.useContext(Lg),r=WX(e,function(n){return Y2(n.domain,Number.isFinite)});return r||Mn(e)},lO=function(e){var r=b.useContext(Lg);r==null&&Va();var n=r[e];return n==null&&Va(),n},YX=function(){var e=b.useContext(rO);return e},QX=function(){return b.useContext(nO)},Bg=function(){return b.useContext(sO)},Fg=function(){return b.useContext(iO)};function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function ZX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uO(n.key),n)}}function JX(t,e,r){return e&&XX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eJ(t,e,r){return e=Pu(e),tJ(t,cO()?Reflect.construct(e,r||[],Pu(t).constructor):e.apply(t,r))}function tJ(t,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rJ(t)}function rJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!t})()}function Pu(t){return Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pu(t)}function nJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fp(t,e)}function Fp(t,e){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fp(t,e)}function Sx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(r),!0).forEach(function(n){Ug(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ug(t,e,r){return e=uO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uO(t){var e=aJ(t,"string");return ss(e)=="symbol"?e:e+""}function aJ(t,e){if(ss(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iJ(t,e){return cJ(t)||lJ(t,e)||oJ(t,e)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return Ox(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ox(t,e)}}function Ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function cJ(t){if(Array.isArray(t))return t}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(this,arguments)}var uJ=function(e,r){var n;return O.isValidElement(e)?n=O.cloneElement(e,r):_e(e)?n=e(r):n=O.createElement("line",Up({},r,{className:"recharts-reference-line-line"})),n},dJ=function(e,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,p=i.height;if(n){var v=c.y,m=e.y.apply(v,{position:s});if(Ur(c,"discard")&&!e.y.isInRange(m))return null;var g=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?g.reverse():g}if(r){var w=c.x,y=e.x.apply(w,{position:s});if(Ur(c,"discard")&&!e.x.isInRange(y))return null;var S=[{x:y,y:f+p},{x:y,y:f}];return o==="top"?S.reverse():S}if(a){var x=c.segment,_=x.map(function(j){return e.apply(j,{position:s})});return Ur(c,"discard")&&MZ(_,function(j){return!e.isInRange(j)})?null:_}return null};function fJ(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=VX(),u=oO(a),f=lO(i),h=YX();if(!c||!h)return null;un(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Rg({x:u.scale,y:f.scale}),v=dt(e),m=dt(r),g=n&&n.length===2,w=dJ(p,v,m,g,h,t.position,u.orientation,f.orientation,t);if(!w)return null;var y=iJ(w,2),S=y[0],x=S.x,_=S.y,j=y[1],C=j.x,E=j.y,A=Ur(t,"hidden")?"url(#".concat(c,")"):void 0,P=jx(jx({clipPath:A},Ne(t,!0)),{},{x1:x,y1:_,x2:C,y2:E});return O.createElement(mt,{className:Pe("recharts-reference-line",o)},uJ(s,P),St.renderCallByParent(t,SX({x1:x,y1:_,x2:C,y2:E})))}var zg=function(t){function e(){return ZX(this,e),eJ(this,e,arguments)}return nJ(e,t),JX(e,[{key:"render",value:function(){return O.createElement(fJ,this.props)}}])}(O.Component);Ug(zg,"displayName","ReferenceLine");Ug(zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zp.apply(this,arguments)}function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}function Cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cx(Object(r),!0).forEach(function(n){Zd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fO(n.key),n)}}function mJ(t,e,r){return e&&pJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gJ(t,e,r){return e=Au(e),vJ(t,dO()?Reflect.construct(e,r||[],Au(t).constructor):e.apply(t,r))}function vJ(t,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yJ(t)}function yJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dO=function(){return!!t})()}function Au(t){return Au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Au(t)}function bJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qp(t,e)}function qp(t,e){return qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qp(t,e)}function Zd(t,e,r){return e=fO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fO(t){var e=xJ(t,"string");return os(e)=="symbol"?e:e+""}function xJ(t,e){if(os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wJ=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=Rg({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Ur(e,"discard")&&!s.isInRange(o)?null:o},Xd=function(t){function e(){return hJ(this,e),gJ(this,e,arguments)}return bJ(e,t),mJ(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=dt(a),u=dt(i);if(un(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=wJ(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,g=v.className,w=Ur(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=Ex(Ex({clipPath:w},Ne(this.props,!0)),{},{cx:h,cy:p});return O.createElement(mt,{className:Pe("recharts-reference-dot",g)},e.renderDot(m,y),St.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(O.Component);Zd(Xd,"displayName","ReferenceDot");Zd(Xd,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zd(Xd,"renderDot",function(t,e){var r;return O.isValidElement(t)?r=O.cloneElement(t,e):_e(t)?r=t(e):r=O.createElement(q2,zp({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wp.apply(this,arguments)}function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function Tx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Px(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tx(Object(r),!0).forEach(function(n){Jd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pO(n.key),n)}}function jJ(t,e,r){return e&&SJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OJ(t,e,r){return e=ku(e),CJ(t,hO()?Reflect.construct(e,r||[],ku(t).constructor):e.apply(t,r))}function CJ(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EJ(t)}function EJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!t})()}function ku(t){return ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ku(t)}function TJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hp(t,e)}function Hp(t,e){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hp(t,e)}function Jd(t,e,r){return e=pO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pO(t){var e=PJ(t,"string");return ls(e)=="symbol"?e:e+""}function PJ(t,e){if(ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AJ=function(e,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=Rg({x:u.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ur(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:eO(p,v)},ef=function(t){function e(){return _J(this,e),OJ(this,e,arguments)}return TJ(e,t),jJ(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;un(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=dt(a),h=dt(i),p=dt(s),v=dt(o),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var g=AJ(f,h,p,v,this.props);if(!g&&!m)return null;var w=Ur(this.props,"hidden")?"url(#".concat(u,")"):void 0;return O.createElement(mt,{className:Pe("recharts-reference-area",l)},e.renderRect(m,Px(Px({clipPath:w},Ne(this.props,!0)),g)),St.renderCallByParent(this.props,g))}}])}(O.Component);Jd(ef,"displayName","ReferenceArea");Jd(ef,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jd(ef,"renderRect",function(t,e){var r;return O.isValidElement(t)?r=O.cloneElement(t,e):_e(t)?r=t(e):r=O.createElement(Ig,Wp({},e,{className:"recharts-reference-area-rect"})),r});function mO(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function kJ(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return OX(n,r)}function NJ(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,o=t.height;return e===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Nu(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function $J(t,e){return mO(t,e+1)}function MJ(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:mO(n,c)};var m=l,g,w=function(){return g===void 0&&(g=r(v,m)),g},y=v.coordinate,S=l===0||Nu(t,y,w,u,o);S||(l=0,u=s,c+=1),S&&(u=y+t*(w()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Ax(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ax(Object(r),!0).forEach(function(n){IJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ax(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IJ(t,e,r){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RJ(t){var e=DJ(t,"string");return ul(e)=="symbol"?e:e+""}function DJ(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LJ(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=e.start,l=e.end,c=function(h){var p=i[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===s-1){var g=t*(p.coordinate+t*m()/2-l);i[h]=p=_t(_t({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else i[h]=p=_t(_t({},p),{},{tickCoord:p.coordinate});var w=Nu(t,p.tickCoord,m,o,l);w&&(l=p.tickCoord-t*(m()/2+a),i[h]=_t(_t({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function BJ(t,e,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(i){var u=n[o-1],f=r(u,o-1),h=t*(u.coordinate+t*f/2-c);s[o-1]=u=_t(_t({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=Nu(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+a),s[o-1]=_t(_t({},u),{},{isShow:!0}))}for(var v=i?o-1:o,m=function(y){var S=s[y],x,_=function(){return x===void 0&&(x=r(S,y)),x};if(y===0){var j=t*(S.coordinate-t*_()/2-l);s[y]=S=_t(_t({},S),{},{tickCoord:j<0?S.coordinate-j*t:S.coordinate})}else s[y]=S=_t(_t({},S),{},{tickCoord:S.coordinate});var C=Nu(t,S.tickCoord,_,l,c);C&&(l=S.tickCoord+t*(_()/2+a),s[y]=_t(_t({},S),{},{isShow:!0}))},g=0;g<v;g++)m(g);return s}function qg(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(H(l)||Yn.isSsr)return $J(a,typeof l=="number"&&H(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",v=u&&p==="width"?bo(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(S,x){var _=_e(c)?c(S.value,x):S.value;return p==="width"?kJ(bo(_,{fontSize:e,letterSpacing:r}),v,f):bo(_,{fontSize:e,letterSpacing:r})[p]},g=a.length>=2?gr(a[1].coordinate-a[0].coordinate):1,w=NJ(i,g,p);return l==="equidistantPreserveStart"?MJ(g,w,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=BJ(g,w,m,a,s,l==="preserveStartEnd"):h=LJ(g,w,m,a,s),h.filter(function(y){return y.isShow}))}var FJ=["viewBox"],UJ=["viewBox"],zJ=["ticks"];function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}function gi(){return gi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gi.apply(this,arguments)}function kx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(r),!0).forEach(function(n){Wg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kf(t,e){if(t==null)return{};var r=qJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vO(n.key),n)}}function HJ(t,e,r){return e&&Nx(t.prototype,e),r&&Nx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VJ(t,e,r){return e=$u(e),GJ(t,gO()?Reflect.construct(e,r||[],$u(t).constructor):e.apply(t,r))}function GJ(t,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KJ(t)}function KJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!t})()}function $u(t){return $u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$u(t)}function YJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vp(t,e)}function Vp(t,e){return Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vp(t,e)}function Wg(t,e,r){return e=vO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vO(t){var e=QJ(t,"string");return cs(e)=="symbol"?e:e+""}function QJ(t,e){if(cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Us=function(t){function e(r){var n;return WJ(this,e),n=VJ(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return YJ(e,t),HJ(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Kf(n,FJ),o=this.props,l=o.viewBox,c=Kf(o,UJ);return!_i(i,l)||!_i(s,c)||!_i(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,v,m,g,w,y,S=f?-1:1,x=n.tickSize||u,_=H(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=v=n.coordinate,g=s+ +!f*l,m=g-S*x,y=m-S*h,w=_;break;case"left":m=g=n.coordinate,v=i+ +!f*o,p=v-S*x,w=p-S*h,y=_;break;case"right":m=g=n.coordinate,v=i+ +f*o,p=v+S*x,w=p+S*h,y=_;break;default:p=v=n.coordinate,g=s+ +f*l,m=g+S*x,y=m+S*h,w=_;break}return{line:{x1:p,y1:m,x2:v,y2:g},tick:{x:w,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Pt(Pt(Pt({},Ne(this.props,!1)),Ne(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Pt(Pt({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Pt(Pt({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return O.createElement("line",gi({},f,{className:Pe("recharts-cartesian-axis-line",Jt(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=qg(Pt(Pt({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Ne(this.props,!1),w=Ne(u,!1),y=Pt(Pt({},g),{},{fill:"none"},Ne(l,!1)),S=p.map(function(x,_){var j=s.getTickLineCoord(x),C=j.line,E=j.tick,A=Pt(Pt(Pt(Pt({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:c},w),E),{},{index:_,payload:x,visibleTicksCount:p.length,tickFormatter:f});return O.createElement(mt,gi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},Uc(s.props,x,_)),l&&O.createElement("line",gi({},y,C,{className:Pe("recharts-cartesian-axis-tick-line",Jt(l,"className"))})),u&&e.renderTickItem(u,A,"".concat(_e(f)?f(x.value,_):x.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=Kf(f,zJ),v=h;return _e(l)&&(v=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!v||!v.length?null:O.createElement(mt,{className:Pe("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),St.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return O.isValidElement(n)?s=O.cloneElement(n,a):_e(n)?s=n(a):s=O.createElement(tu,gi({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(b.Component);Wg(Us,"displayName","CartesianAxis");Wg(Us,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ZJ=["x1","y1","x2","y2","key"],XJ=["offset"];function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function $x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$x(Object(r),!0).forEach(function(n){JJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$x(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JJ(t,e,r){return e=eee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eee(t){var e=tee(t,"string");return Ga(e)=="symbol"?e:e+""}function tee(t,e){if(Ga(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oa.apply(this,arguments)}function Mx(t,e){if(t==null)return{};var r=ree(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ree(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nee=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,l=e.ry;return O.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yO(t,e){var r;if(O.isValidElement(t))r=O.cloneElement(t,e);else if(_e(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.key,l=Mx(e,ZJ),c=Ne(l,!1);c.offset;var u=Mx(c,XJ);r=O.createElement("line",Oa({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function aee(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=jt(jt({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return yO(a,c)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function iee(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=jt(jt({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return yO(a,c)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function see(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var v=!u[p+1],m=v?a+s-h:u[p+1]-h;if(m<=0)return null;var g=p%e.length;return O.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function oee(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var v=!u[p+1],m=v?i+o-h:u[p+1]-h;if(m<=0)return null;var g=p%n.length;return O.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var lee=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return C2(qg(jt(jt(jt({},Us.defaultProps),n),{},{ticks:ln(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},cee=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return C2(qg(jt(jt(jt({},Us.defaultProps),n),{},{ticks:ln(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},di={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hg(t){var e,r,n,a,i,s,o=Bg(),l=Fg(),c=QX(),u=jt(jt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:di.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:di.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:di.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:di.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:di.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:di.verticalFill,x:H(t.x)?t.x:c.left,y:H(t.y)?t.y:c.top,width:H(t.width)?t.width:c.width,height:H(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,v=u.height,m=u.syncWithTicks,g=u.horizontalValues,w=u.verticalValues,y=GX(),S=KX();if(!H(p)||p<=0||!H(v)||v<=0||!H(f)||f!==+f||!H(h)||h!==+h)return null;var x=u.verticalCoordinatesGenerator||lee,_=u.horizontalCoordinatesGenerator||cee,j=u.horizontalPoints,C=u.verticalPoints;if((!j||!j.length)&&_e(_)){var E=g&&g.length,A=_({yAxis:S?jt(jt({},S),{},{ticks:E?g:S.ticks}):void 0,width:o,height:l,offset:c},E?!0:m);un(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ga(A),"]")),Array.isArray(A)&&(j=A)}if((!C||!C.length)&&_e(x)){var P=w&&w.length,T=x({xAxis:y?jt(jt({},y),{},{ticks:P?w:y.ticks}):void 0,width:o,height:l,offset:c},P?!0:m);un(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ga(T),"]")),Array.isArray(T)&&(C=T)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(nee,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),O.createElement(aee,Oa({},u,{offset:c,horizontalPoints:j,xAxis:y,yAxis:S})),O.createElement(iee,Oa({},u,{offset:c,verticalPoints:C,xAxis:y,yAxis:S})),O.createElement(see,Oa({},u,{horizontalPoints:j})),O.createElement(oee,Oa({},u,{verticalPoints:C})))}Hg.displayName="CartesianGrid";function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wO(n.key),n)}}function fee(t,e,r){return e&&dee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hee(t,e,r){return e=Mu(e),pee(t,bO()?Reflect.construct(e,r||[],Mu(t).constructor):e.apply(t,r))}function pee(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mee(t)}function mee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bO=function(){return!!t})()}function Mu(t){return Mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mu(t)}function gee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gp(t,e)}function Gp(t,e){return Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gp(t,e)}function xO(t,e,r){return e=wO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wO(t){var e=vee(t,"string");return us(e)=="symbol"?e:e+""}function vee(t,e){if(us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kp.apply(this,arguments)}function yee(t){var e=t.xAxisId,r=Bg(),n=Fg(),a=oO(e);return a==null?null:O.createElement(Us,Kp({},a,{className:Pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ln(s,!0)}}))}var nc=function(t){function e(){return uee(this,e),hee(this,e,arguments)}return gee(e,t),fee(e,[{key:"render",value:function(){return O.createElement(yee,this.props)}}])}(O.Component);xO(nc,"displayName","XAxis");xO(nc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function bee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jO(n.key),n)}}function wee(t,e,r){return e&&xee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ee(t,e,r){return e=Iu(e),See(t,_O()?Reflect.construct(e,r||[],Iu(t).constructor):e.apply(t,r))}function See(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jee(t)}function jee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_O=function(){return!!t})()}function Iu(t){return Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iu(t)}function Oee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yp(t,e)}function Yp(t,e){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yp(t,e)}function SO(t,e,r){return e=jO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jO(t){var e=Cee(t,"string");return ds(e)=="symbol"?e:e+""}function Cee(t,e){if(ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qp.apply(this,arguments)}var Eee=function(e){var r=e.yAxisId,n=Bg(),a=Fg(),i=lO(r);return i==null?null:O.createElement(Us,Qp({},i,{className:Pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return ln(o,!0)}}))},ac=function(t){function e(){return bee(this,e),_ee(this,e,arguments)}return Oee(e,t),wee(e,[{key:"render",value:function(){return O.createElement(Eee,this.props)}}])}(O.Component);SO(ac,"displayName","YAxis");SO(ac,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Ix(t){return kee(t)||Aee(t)||Pee(t)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(t,e){if(t){if(typeof t=="string")return Zp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zp(t,e)}}function Aee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kee(t){if(Array.isArray(t))return Zp(t)}function Zp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xp=function(e,r,n,a,i){var s=Sr(e,zg),o=Sr(e,Xd),l=[].concat(Ix(s),Ix(o)),c=Sr(e,ef),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[u]===n&&Ur(g.props,"extendDomain")&&H(g.props[f])){var w=g.props[f];return[Math.min(m[0],w),Math.max(m[1],w)]}return m},h)),c.length){var p="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(m,g){if(g.props[u]===n&&Ur(g.props,"extendDomain")&&H(g.props[p])&&H(g.props[v])){var w=g.props[p],y=g.props[v];return[Math.min(m[0],w,y),Math.max(m[1],w,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,g){return H(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},OO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],w=arguments.length,y,S;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),w){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,v),!0}for(S=1,y=new Array(w-1);S<w;S++)y[S-1]=arguments[S];g.fn.apply(g.context,y)}else{var x=g.length,_;for(S=0;S<x;S++)switch(g[S].once&&this.removeListener(c,g[S].fn,void 0,!0),w){case 1:g[S].fn.call(g[S].context);break;case 2:g[S].fn.call(g[S].context,u);break;case 3:g[S].fn.call(g[S].context,u,f);break;case 4:g[S].fn.call(g[S].context,u,f,h);break;default:if(!y)for(_=1,y=new Array(w-1);_<w;_++)y[_-1]=arguments[_];g[S].fn.apply(g[S].context,y)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!h||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var m=0,g=[],w=v.length;m<w;m++)(v[m].fn!==u||h&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(OO);var Nee=OO.exports;const $ee=He(Nee);var Yf=new $ee,Qf="recharts.syncMouseEvents";function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function Mee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CO(n.key),n)}}function Ree(t,e,r){return e&&Iee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zf(t,e,r){return e=CO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CO(t){var e=Dee(t,"string");return dl(e)=="symbol"?e:e+""}function Dee(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lee=function(){function t(){Mee(this,t),Zf(this,"activeIndex",0),Zf(this,"coordinateList",[]),Zf(this,"layout","horizontal")}return Ree(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Bee(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&H(n)&&H(a))return!0}return!1}function Fee(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function EO(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=bt(e,r,n,a),o=bt(e,r,n,i);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Uee(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=bt(o,l,c,f),p=bt(o,l,u,f);n=h.x,a=h.y,i=p.x,s=p.y}else return EO(e);return[{x:n,y:a},{x:i,y:s}]}function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function Rx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rx(Object(r),!0).forEach(function(n){zee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zee(t,e,r){return e=qee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qee(t){var e=Wee(t,"string");return fl(e)=="symbol"?e:e+""}function Wee(t,e){if(fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hee(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var v,m=$b;if(h==="ScatterChart")v=s,m=aQ;else if(h==="BarChart")v=Fee(f,s,l,u),m=Ig;else if(f==="radial"){var g=EO(s),w=g.cx,y=g.cy,S=g.radius,x=g.startAngle,_=g.endAngle;v={cx:w,cy:y,startAngle:x,endAngle:_,innerRadius:S,outerRadius:S},m=k2}else v={points:Uee(f,s,l)},m=$b;var j=Ec(Ec(Ec(Ec({stroke:"#ccc",pointerEvents:"none"},l),v),Ne(p,!1)),{},{payload:o,payloadIndex:c,className:Pe("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,j):b.createElement(m,j)}var Vee=["item"],Gee=["children","className","width","height","style","compact","title","desc"];function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}function So(){return So=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},So.apply(this,arguments)}function Dx(t,e){return Qee(t)||Yee(t,e)||PO(t,e)||Kee()}function Kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Qee(t){if(Array.isArray(t))return t}function Lx(t,e){if(t==null)return{};var r=Zee(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AO(n.key),n)}}function ete(t,e,r){return e&&Jee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tte(t,e,r){return e=Ru(e),rte(t,TO()?Reflect.construct(e,r||[],Ru(t).constructor):e.apply(t,r))}function rte(t,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nte(t)}function nte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!t})()}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ru(t)}function ate(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jp(t,e)}function Jp(t,e){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jp(t,e)}function hs(t){return ote(t)||ste(t)||PO(t)||ite()}function ite(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PO(t,e){if(t){if(typeof t=="string")return em(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return em(t,e)}}function ste(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ote(t){if(Array.isArray(t))return em(t)}function em(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bx(Object(r),!0).forEach(function(n){fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fe(t,e,r){return e=AO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AO(t){var e=lte(t,"string");return fs(e)=="symbol"?e:e+""}function lte(t,e){if(fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cte={xAxis:["bottom","top"],yAxis:["left","right"]},ute={width:"100%",height:"100%"},kO={x:0,y:0};function Tc(t){return t}var dte=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},fte=function(e,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,o=a.radius;return L(L(L({},a),bt(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return L(L(L({},a),bt(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return kO},tf=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(hs(o),hs(c)):o},[]);return s.length>0?s:e&&e.length&&H(a)&&H(i)?e.slice(a,i+1):[]};function NO(t){return t==="number"?[0,"auto"]:void 0}var tm=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,o=tf(r,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Mh(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(hs(l),[T2(c,h)]):l},[])},Fx=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=dte(i,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=QV(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=tm(e,r,u,f),p=fte(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},hte=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=O2(u,i);return n.reduce(function(v,m){var g,w=m.type.defaultProps!==void 0?L(L({},m.type.defaultProps),m.props):m.props,y=w.type,S=w.dataKey,x=w.allowDataOverflow,_=w.allowDuplicatedCategory,j=w.scale,C=w.ticks,E=w.includeHidden,A=w[s];if(v[A])return v;var P=tf(e.data,{graphicalItems:a.filter(function(Y){var ce,Se=s in Y.props?Y.props[s]:(ce=Y.type.defaultProps)===null||ce===void 0?void 0:ce[s];return Se===A}),dataStartIndex:l,dataEndIndex:c}),T=P.length,N,D,M;Bee(w.domain,x,y)&&(N=wp(w.domain,null,x),p&&(y==="number"||j!=="auto")&&(M=wo(P,S,"category")));var R=NO(y);if(!N||N.length===0){var I,B=(I=w.domain)!==null&&I!==void 0?I:R;if(S){if(N=wo(P,S,y),y==="category"&&p){var U=BR(N);_&&U?(D=N,N=ju(0,T)):_||(N=xb(B,N,m).reduce(function(Y,ce){return Y.indexOf(ce)>=0?Y:[].concat(hs(Y),[ce])},[]))}else if(y==="category")_?N=N.filter(function(Y){return Y!==""&&!Me(Y)}):N=xb(B,N,m).reduce(function(Y,ce){return Y.indexOf(ce)>=0||ce===""||Me(ce)?Y:[].concat(hs(Y),[ce])},[]);else if(y==="number"){var q=tG(P,a.filter(function(Y){var ce,Se,Je=s in Y.props?Y.props[s]:(ce=Y.type.defaultProps)===null||ce===void 0?void 0:ce[s],Et="hide"in Y.props?Y.props.hide:(Se=Y.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return Je===A&&(E||!Et)}),S,i,u);q&&(N=q)}p&&(y==="number"||j!=="auto")&&(M=wo(P,S,"category"))}else p?N=ju(0,T):o&&o[A]&&o[A].hasStack&&y==="number"?N=h==="expand"?[0,1]:E2(o[A].stackGroups,l,c):N=j2(P,a.filter(function(Y){var ce=s in Y.props?Y.props[s]:Y.type.defaultProps[s],Se="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ce===A&&(E||!Se)}),y,u,!0);if(y==="number")N=Xp(f,N,A,i,C),B&&(N=wp(B,N,x));else if(y==="category"&&B){var ie=B,V=N.every(function(Y){return ie.indexOf(Y)>=0});V&&(N=ie)}}return L(L({},v),{},fe({},A,L(L({},w),{},{axisType:i,domain:N,categoricalDomain:M,duplicateDomain:D,originalDomain:(g=w.domain)!==null&&g!==void 0?g:R,isCategorical:p,layout:u})))},{})},pte=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=tf(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,v=O2(u,i),m=-1;return n.reduce(function(g,w){var y=w.type.defaultProps!==void 0?L(L({},w.type.defaultProps),w.props):w.props,S=y[s],x=NO("number");if(!g[S]){m++;var _;return v?_=ju(0,p):o&&o[S]&&o[S].hasStack?(_=E2(o[S].stackGroups,l,c),_=Xp(f,_,S,i)):(_=wp(x,j2(h,n.filter(function(j){var C,E,A=s in j.props?j.props[s]:(C=j.type.defaultProps)===null||C===void 0?void 0:C[s],P="hide"in j.props?j.props.hide:(E=j.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===S&&!P}),"number",u),a.defaultProps.allowDataOverflow),_=Xp(f,_,S,i)),L(L({},g),{},fe({},S,L(L({axisType:i},a.defaultProps),{},{hide:!0,orientation:Jt(cte,"".concat(i,".").concat(m%2),null),domain:_,originalDomain:x,isCategorical:v,layout:u})))}return g},{})},mte=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(a,"Id"),h=Sr(u,i),p={};return h&&h.length?p=hte(e,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=pte(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},gte=function(e){var r=Mn(e),n=ln(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:og(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mu(r,n)}},Ux=function(e){var r=e.children,n=e.defaultShowTooltip,a=Wt(r,as),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},vte=function(e){return!e||!e.length?!1:e.some(function(r){var n=cn(r&&r.type);return n&&n.indexOf("Bar")>=0})},zx=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yte=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Wt(f,as),v=Wt(f,Ma),m=Object.keys(l).reduce(function(_,j){var C=l[j],E=C.orientation;return!C.mirror&&!C.hide?L(L({},_),{},fe({},E,_[E]+C.width)):_},{left:h.left||0,right:h.right||0}),g=Object.keys(s).reduce(function(_,j){var C=s[j],E=C.orientation;return!C.mirror&&!C.hide?L(L({},_),{},fe({},E,Jt(_,"".concat(E))+C.height)):_},{top:h.top||0,bottom:h.bottom||0}),w=L(L({},g),m),y=w.bottom;p&&(w.bottom+=p.props.height||as.defaultProps.height),v&&r&&(w=JV(w,a,n,r));var S=c-w.left-w.right,x=u-w.top-w.bottom;return L(L({brushBottom:y},w),{},{width:Math.max(S,0),height:Math.max(x,0)})},bte=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},xte=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(g,w){var y=w.graphicalItems,S=w.stackGroups,x=w.offset,_=w.updateId,j=w.dataStartIndex,C=w.dataEndIndex,E=g.barSize,A=g.layout,P=g.barGap,T=g.barCategoryGap,N=g.maxBarSize,D=zx(A),M=D.numericAxisName,R=D.cateAxisName,I=vte(y),B=[];return y.forEach(function(U,q){var ie=tf(g.data,{graphicalItems:[U],dataStartIndex:j,dataEndIndex:C}),V=U.type.defaultProps!==void 0?L(L({},U.type.defaultProps),U.props):U.props,Y=V.dataKey,ce=V.maxBarSize,Se=V["".concat(M,"Id")],Je=V["".concat(R,"Id")],Et={},se=l.reduce(function(ua,da){var cf=w["".concat(da.axisType,"Map")],iv=V["".concat(da.axisType,"Id")];cf&&cf[iv]||da.axisType==="zAxis"||Va();var sv=cf[iv];return L(L({},ua),{},fe(fe({},da.axisType,sv),"".concat(da.axisType,"Ticks"),ln(sv)))},Et),Te=se[R],W=se["".concat(R,"Ticks")],X=S&&S[Se]&&S[Se].hasStack&&hG(U,S[Se].stackGroups),re=cn(U.type).indexOf("Bar")>=0,F=mu(Te,W),Re=[],ve=I&&ZV({barSize:E,stackGroups:S,totalSize:bte(se,R)});if(re){var Ze,Ye,vt=Me(ce)?N:ce,Zr=(Ze=(Ye=mu(Te,W,!0))!==null&&Ye!==void 0?Ye:vt)!==null&&Ze!==void 0?Ze:0;Re=XV({barGap:P,barCategoryGap:T,bandSize:Zr!==F?Zr:F,sizeList:ve[Je],maxBarSize:vt}),Zr!==F&&(Re=Re.map(function(ua){return L(L({},ua),{},{position:L(L({},ua.position),{},{offset:ua.position.offset-Zr/2})})}))}var sc=U&&U.type&&U.type.getComposedData;sc&&B.push({props:L(L({},sc(L(L({},se),{},{displayedData:ie,props:g,dataKey:Y,item:U,bandSize:F,barPosition:Re,offset:x,stackedData:X,layout:A,dataStartIndex:j,dataEndIndex:C}))),{},fe(fe(fe({key:U.key||"item-".concat(q)},M,se[M]),R,se[R]),"animationId",_)),childIndex:QR(U,g.children),item:U})}),B},p=function(g,w){var y=g.props,S=g.dataStartIndex,x=g.dataEndIndex,_=g.updateId;if(!py({props:y}))return null;var j=y.children,C=y.layout,E=y.stackOffset,A=y.data,P=y.reverseStackOrder,T=zx(C),N=T.numericAxisName,D=T.cateAxisName,M=Sr(j,n),R=uG(A,M,"".concat(N,"Id"),"".concat(D,"Id"),E,P),I=l.reduce(function(V,Y){var ce="".concat(Y.axisType,"Map");return L(L({},V),{},fe({},ce,mte(y,L(L({},Y),{},{graphicalItems:M,stackGroups:Y.axisType===N&&R,dataStartIndex:S,dataEndIndex:x}))))},{}),B=yte(L(L({},I),{},{props:y,graphicalItems:M}),w==null?void 0:w.legendBBox);Object.keys(I).forEach(function(V){I[V]=u(y,I[V],B,V.replace("Map",""),r)});var U=I["".concat(D,"Map")],q=gte(U),ie=h(y,L(L({},I),{},{dataStartIndex:S,dataEndIndex:x,updateId:_,graphicalItems:M,stackGroups:R,offset:B}));return L(L({formattedGraphicalItems:ie,graphicalItems:M,offset:B,stackGroups:R},q),I)},v=function(m){function g(w){var y,S,x;return Xee(this,g),x=tte(this,g,[w]),fe(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(x,"accessibilityManager",new Lee),fe(x,"handleLegendBBoxUpdate",function(_){if(_){var j=x.state,C=j.dataStartIndex,E=j.dataEndIndex,A=j.updateId;x.setState(L({legendBBox:_},p({props:x.props,dataStartIndex:C,dataEndIndex:E,updateId:A},L(L({},x.state),{},{legendBBox:_}))))}}),fe(x,"handleReceiveSyncEvent",function(_,j,C){if(x.props.syncId===_){if(C===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(j)}}),fe(x,"handleBrushChange",function(_){var j=_.startIndex,C=_.endIndex;if(j!==x.state.dataStartIndex||C!==x.state.dataEndIndex){var E=x.state.updateId;x.setState(function(){return L({dataStartIndex:j,dataEndIndex:C},p({props:x.props,dataStartIndex:j,dataEndIndex:C,updateId:E},x.state))}),x.triggerSyncEvent({dataStartIndex:j,dataEndIndex:C})}}),fe(x,"handleMouseEnter",function(_){var j=x.getMouseInfo(_);if(j){var C=L(L({},j),{},{isTooltipActive:!0});x.setState(C),x.triggerSyncEvent(C);var E=x.props.onMouseEnter;_e(E)&&E(C,_)}}),fe(x,"triggeredAfterMouseMove",function(_){var j=x.getMouseInfo(_),C=j?L(L({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(C),x.triggerSyncEvent(C);var E=x.props.onMouseMove;_e(E)&&E(C,_)}),fe(x,"handleItemMouseEnter",function(_){x.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),fe(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),fe(x,"handleMouseMove",function(_){_.persist(),x.throttleTriggeredAfterMouseMove(_)}),fe(x,"handleMouseLeave",function(_){x.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};x.setState(j),x.triggerSyncEvent(j);var C=x.props.onMouseLeave;_e(C)&&C(j,_)}),fe(x,"handleOuterEvent",function(_){var j=YR(_),C=Jt(x.props,"".concat(j));if(j&&_e(C)){var E,A;/.*touch.*/i.test(j)?A=x.getMouseInfo(_.changedTouches[0]):A=x.getMouseInfo(_),C((E=A)!==null&&E!==void 0?E:{},_)}}),fe(x,"handleClick",function(_){var j=x.getMouseInfo(_);if(j){var C=L(L({},j),{},{isTooltipActive:!0});x.setState(C),x.triggerSyncEvent(C);var E=x.props.onClick;_e(E)&&E(C,_)}}),fe(x,"handleMouseDown",function(_){var j=x.props.onMouseDown;if(_e(j)){var C=x.getMouseInfo(_);j(C,_)}}),fe(x,"handleMouseUp",function(_){var j=x.props.onMouseUp;if(_e(j)){var C=x.getMouseInfo(_);j(C,_)}}),fe(x,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),fe(x,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseDown(_.changedTouches[0])}),fe(x,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseUp(_.changedTouches[0])}),fe(x,"triggerSyncEvent",function(_){x.props.syncId!==void 0&&Yf.emit(Qf,x.props.syncId,_,x.eventEmitterSymbol)}),fe(x,"applySyncEvent",function(_){var j=x.props,C=j.layout,E=j.syncMethod,A=x.state.updateId,P=_.dataStartIndex,T=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)x.setState(L({dataStartIndex:P,dataEndIndex:T},p({props:x.props,dataStartIndex:P,dataEndIndex:T,updateId:A},x.state)));else if(_.activeTooltipIndex!==void 0){var N=_.chartX,D=_.chartY,M=_.activeTooltipIndex,R=x.state,I=R.offset,B=R.tooltipTicks;if(!I)return;if(typeof E=="function")M=E(B,_);else if(E==="value"){M=-1;for(var U=0;U<B.length;U++)if(B[U].value===_.activeLabel){M=U;break}}var q=L(L({},I),{},{x:I.left,y:I.top}),ie=Math.min(N,q.x+q.width),V=Math.min(D,q.y+q.height),Y=B[M]&&B[M].value,ce=tm(x.state,x.props.data,M),Se=B[M]?{x:C==="horizontal"?B[M].coordinate:ie,y:C==="horizontal"?V:B[M].coordinate}:kO;x.setState(L(L({},_),{},{activeLabel:Y,activeCoordinate:Se,activePayload:ce,activeTooltipIndex:M}))}else x.setState(_)}),fe(x,"renderCursor",function(_){var j,C=x.state,E=C.isTooltipActive,A=C.activeCoordinate,P=C.activePayload,T=C.offset,N=C.activeTooltipIndex,D=C.tooltipAxisBandSize,M=x.getTooltipEventType(),R=(j=_.props.active)!==null&&j!==void 0?j:E,I=x.props.layout,B=_.key||"_recharts-cursor";return O.createElement(Hee,{key:B,activeCoordinate:A,activePayload:P,activeTooltipIndex:N,chartName:r,element:_,isActive:R,layout:I,offset:T,tooltipAxisBandSize:D,tooltipEventType:M})}),fe(x,"renderPolarAxis",function(_,j,C){var E=Jt(_,"type.axisType"),A=Jt(x.state,"".concat(E,"Map")),P=_.type.defaultProps,T=P!==void 0?L(L({},P),_.props):_.props,N=A&&A[T["".concat(E,"Id")]];return b.cloneElement(_,L(L({},N),{},{className:Pe(E,N.className),key:_.key||"".concat(j,"-").concat(C),ticks:ln(N,!0)}))}),fe(x,"renderPolarGrid",function(_){var j=_.props,C=j.radialLines,E=j.polarAngles,A=j.polarRadius,P=x.state,T=P.radiusAxisMap,N=P.angleAxisMap,D=Mn(T),M=Mn(N),R=M.cx,I=M.cy,B=M.innerRadius,U=M.outerRadius;return b.cloneElement(_,{polarAngles:Array.isArray(E)?E:ln(M,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(A)?A:ln(D,!0).map(function(q){return q.coordinate}),cx:R,cy:I,innerRadius:B,outerRadius:U,key:_.key||"polar-grid",radialLines:C})}),fe(x,"renderLegend",function(){var _=x.state.formattedGraphicalItems,j=x.props,C=j.children,E=j.width,A=j.height,P=x.props.margin||{},T=E-(P.left||0)-(P.right||0),N=_2({children:C,formattedGraphicalItems:_,legendWidth:T,legendContent:c});if(!N)return null;var D=N.item,M=Lx(N,Vee);return b.cloneElement(D,L(L({},M),{},{chartWidth:E,chartHeight:A,margin:P,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),fe(x,"renderTooltip",function(){var _,j=x.props,C=j.children,E=j.accessibilityLayer,A=Wt(C,dr);if(!A)return null;var P=x.state,T=P.isTooltipActive,N=P.activeCoordinate,D=P.activePayload,M=P.activeLabel,R=P.offset,I=(_=A.props.active)!==null&&_!==void 0?_:T;return b.cloneElement(A,{viewBox:L(L({},R),{},{x:R.left,y:R.top}),active:I,label:M,payload:I?D:[],coordinate:N,accessibilityLayer:E})}),fe(x,"renderBrush",function(_){var j=x.props,C=j.margin,E=j.data,A=x.state,P=A.offset,T=A.dataStartIndex,N=A.dataEndIndex,D=A.updateId;return b.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Sc(x.handleBrushChange,_.props.onChange),data:E,x:H(_.props.x)?_.props.x:P.left,y:H(_.props.y)?_.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:H(_.props.width)?_.props.width:P.width,startIndex:T,endIndex:N,updateId:"brush-".concat(D)})}),fe(x,"renderReferenceElement",function(_,j,C){if(!_)return null;var E=x,A=E.clipPathId,P=x.state,T=P.xAxisMap,N=P.yAxisMap,D=P.offset,M=_.type.defaultProps||{},R=_.props,I=R.xAxisId,B=I===void 0?M.xAxisId:I,U=R.yAxisId,q=U===void 0?M.yAxisId:U;return b.cloneElement(_,{key:_.key||"".concat(j,"-").concat(C),xAxis:T[B],yAxis:N[q],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:A})}),fe(x,"renderActivePoints",function(_){var j=_.item,C=_.activePoint,E=_.basePoint,A=_.childIndex,P=_.isRange,T=[],N=j.props.key,D=j.item.type.defaultProps!==void 0?L(L({},j.item.type.defaultProps),j.item.props):j.item.props,M=D.activeDot,R=D.dataKey,I=L(L({index:A,dataKey:R,cx:C.x,cy:C.y,r:4,fill:Mg(j.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ne(M,!1)),Fc(M));return T.push(g.renderActiveDot(M,I,"".concat(N,"-activePoint-").concat(A))),E?T.push(g.renderActiveDot(M,L(L({},I),{},{cx:E.x,cy:E.y}),"".concat(N,"-basePoint-").concat(A))):P&&T.push(null),T}),fe(x,"renderGraphicChild",function(_,j,C){var E=x.filterFormatItem(_,j,C);if(!E)return null;var A=x.getTooltipEventType(),P=x.state,T=P.isTooltipActive,N=P.tooltipAxis,D=P.activeTooltipIndex,M=P.activeLabel,R=x.props.children,I=Wt(R,dr),B=E.props,U=B.points,q=B.isRange,ie=B.baseLine,V=E.item.type.defaultProps!==void 0?L(L({},E.item.type.defaultProps),E.item.props):E.item.props,Y=V.activeDot,ce=V.hide,Se=V.activeBar,Je=V.activeShape,Et=!!(!ce&&T&&I&&(Y||Se||Je)),se={};A!=="axis"&&I&&I.props.trigger==="click"?se={onClick:Sc(x.handleItemMouseEnter,_.props.onClick)}:A!=="axis"&&(se={onMouseLeave:Sc(x.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Sc(x.handleItemMouseEnter,_.props.onMouseEnter)});var Te=b.cloneElement(_,L(L({},E.props),se));function W(da){return typeof N.dataKey=="function"?N.dataKey(da.payload):null}if(Et)if(D>=0){var X,re;if(N.dataKey&&!N.allowDuplicatedCategory){var F=typeof N.dataKey=="function"?W:"payload.".concat(N.dataKey.toString());X=Mh(U,F,M),re=q&&ie&&Mh(ie,F,M)}else X=U==null?void 0:U[D],re=q&&ie&&ie[D];if(Je||Se){var Re=_.props.activeIndex!==void 0?_.props.activeIndex:D;return[b.cloneElement(_,L(L(L({},E.props),se),{},{activeIndex:Re})),null,null]}if(!Me(X))return[Te].concat(hs(x.renderActivePoints({item:E,activePoint:X,basePoint:re,childIndex:D,isRange:q})))}else{var ve,Ze=(ve=x.getItemByXY(x.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:Te},Ye=Ze.graphicalItem,vt=Ye.item,Zr=vt===void 0?_:vt,sc=Ye.childIndex,ua=L(L(L({},E.props),se),{},{activeIndex:sc});return[b.cloneElement(Zr,ua),null,null]}return q?[Te,null,null]:[Te,null]}),fe(x,"renderCustomized",function(_,j,C){return b.cloneElement(_,L(L({key:"recharts-customized-".concat(C)},x.props),x.state))}),fe(x,"renderMap",{CartesianGrid:{handler:Tc,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Tc},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Tc},YAxis:{handler:Tc},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((y=w.id)!==null&&y!==void 0?y:Pd("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=xj(x.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return ate(g,m),ete(g,[{key:"componentDidMount",value:function(){var y,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,S=y.children,x=y.data,_=y.height,j=y.layout,C=Wt(S,dr);if(C){var E=C.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,P=tm(this.state,x,E,A),T=this.state.tooltipTicks[E].coordinate,N=(this.state.offset.top+_)/2,D=j==="horizontal",M=D?{x:T,y:N}:{y:T,x:N},R=this.state.formattedGraphicalItems.find(function(B){var U=B.item;return U.type.name==="Scatter"});R&&(M=L(L({},M),R.props.points[E].tooltipPosition),P=R.props.points[E].tooltipPayload);var I={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:A,activePayload:P,activeCoordinate:M};this.setState(I),this.renderCursor(C),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var x,_;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(y){Rh([Wt(y.children,dr)],[Wt(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Wt(this.props.children,dr);if(y&&typeof y.props.shared=="boolean"){var S=y.props.shared?"axis":"item";return o.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),_=_z(x),j={chartX:Math.round(y.pageX-_.left),chartY:Math.round(y.pageY-_.top)},C=x.width/S.offsetWidth||1,E=this.inRange(j.chartX,j.chartY,C);if(!E)return null;var A=this.state,P=A.xAxisMap,T=A.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&P&&T){var D=Mn(P).scale,M=Mn(T).scale,R=D&&D.invert?D.invert(j.chartX):null,I=M&&M.invert?M.invert(j.chartY):null;return L(L({},j),{},{xValue:R,yValue:I})}var B=Fx(this.state,this.props.data,this.props.layout,E);return B?L(L({},j),B):null}},{key:"inRange",value:function(y,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,j=y/x,C=S/x;if(_==="horizontal"||_==="vertical"){var E=this.state.offset,A=j>=E.left&&j<=E.left+E.width&&C>=E.top&&C<=E.top+E.height;return A?{x:j,y:C}:null}var P=this.state,T=P.angleAxisMap,N=P.radiusAxisMap;if(T&&N){var D=Mn(T);return Sb({x:j,y:C},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,S=this.getTooltipEventType(),x=Wt(y,dr),_={};x&&S==="axis"&&(x.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var j=Fc(this.props,this.handleOuterEvent);return L(L({},j),_)}},{key:"addListener",value:function(){Yf.on(Qf,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yf.removeListener(Qf,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,S,x){for(var _=this.state.formattedGraphicalItems,j=0,C=_.length;j<C;j++){var E=_[j];if(E.item===y||E.props.key===y.key||S===cn(E.item.type)&&x===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,S=this.state.offset,x=S.left,_=S.top,j=S.height,C=S.width;return O.createElement("defs",null,O.createElement("clipPath",{id:y},O.createElement("rect",{x,y:_,height:j,width:C})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(S,x){var _=Dx(x,2),j=_[0],C=_[1];return L(L({},S),{},fe({},j,C.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(S,x){var _=Dx(x,2),j=_[0],C=_[1];return L(L({},S),{},fe({},j,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[y])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(y){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[y])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(y){var S=this.state,x=S.formattedGraphicalItems,_=S.activeItem;if(x&&x.length)for(var j=0,C=x.length;j<C;j++){var E=x[j],A=E.props,P=E.item,T=P.type.defaultProps!==void 0?L(L({},P.type.defaultProps),P.props):P.props,N=cn(P.type);if(N==="Bar"){var D=(A.data||[]).find(function(B){return KY(y,B)});if(D)return{graphicalItem:E,payload:D}}else if(N==="RadialBar"){var M=(A.data||[]).find(function(B){return Sb(y,B)});if(M)return{graphicalItem:E,payload:M}}else if(Kd(E,_)||Yd(E,_)||sl(E,_)){var R=ZQ({graphicalItem:E,activeTooltipItem:_,itemData:T.data}),I=T.activeIndex===void 0?R:T.activeIndex;return{graphicalItem:L(L({},E),{},{childIndex:I}),payload:sl(E,_)?T.data[R]:E.props.data[R]}}}return null}},{key:"render",value:function(){var y=this;if(!py(this))return null;var S=this.props,x=S.children,_=S.className,j=S.width,C=S.height,E=S.style,A=S.compact,P=S.title,T=S.desc,N=Lx(S,Gee),D=Ne(N,!1);if(A)return O.createElement(_x,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(Lh,So({},D,{width:j,height:C,title:P,desc:T}),this.renderClipPath(),gy(x,this.renderMap)));if(this.props.accessibilityLayer){var M,R;D.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,D.role=(R=this.props.role)!==null&&R!==void 0?R:"application",D.onKeyDown=function(B){y.accessibilityManager.keyboardEvent(B)},D.onFocus=function(){y.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return O.createElement(_x,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",So({className:Pe("recharts-wrapper",_),style:L({position:"relative",cursor:"default",width:j,height:C},E)},I,{ref:function(U){y.container=U}}),O.createElement(Lh,So({},D,{width:j,height:C,title:P,desc:T,style:ute}),this.renderClipPath(),gy(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);return fe(v,"displayName",r),fe(v,"defaultProps",L({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(v,"getDerivedStateFromProps",function(m,g){var w=m.dataKey,y=m.data,S=m.children,x=m.width,_=m.height,j=m.layout,C=m.stackOffset,E=m.margin,A=g.dataStartIndex,P=g.dataEndIndex;if(g.updateId===void 0){var T=Ux(m);return L(L(L({},T),{},{updateId:0},p(L(L({props:m},T),{},{updateId:0}),g)),{},{prevDataKey:w,prevData:y,prevWidth:x,prevHeight:_,prevLayout:j,prevStackOffset:C,prevMargin:E,prevChildren:S})}if(w!==g.prevDataKey||y!==g.prevData||x!==g.prevWidth||_!==g.prevHeight||j!==g.prevLayout||C!==g.prevStackOffset||!_i(E,g.prevMargin)){var N=Ux(m),D={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},M=L(L({},Fx(g,y,j)),{},{updateId:g.updateId+1}),R=L(L(L({},N),D),M);return L(L(L({},R),p(L({props:m},R),g)),{},{prevDataKey:w,prevData:y,prevWidth:x,prevHeight:_,prevLayout:j,prevStackOffset:C,prevMargin:E,prevChildren:S})}if(!Rh(S,g.prevChildren)){var I,B,U,q,ie=Wt(S,as),V=ie&&(I=(B=ie.props)===null||B===void 0?void 0:B.startIndex)!==null&&I!==void 0?I:A,Y=ie&&(U=(q=ie.props)===null||q===void 0?void 0:q.endIndex)!==null&&U!==void 0?U:P,ce=V!==A||Y!==P,Se=!Me(y),Je=Se&&!ce?g.updateId:g.updateId+1;return L(L({updateId:Je},p(L(L({props:m},g),{},{updateId:Je,dataStartIndex:V,dataEndIndex:Y}),g)),{},{prevChildren:S,dataStartIndex:V,dataEndIndex:Y})}return null}),fe(v,"renderActiveDot",function(m,g,w){var y;return b.isValidElement(m)?y=b.cloneElement(m,g):_e(m)?y=m(g):y=O.createElement(q2,g),O.createElement(mt,{className:"recharts-active-dot",key:w},y)}),function(g){return O.createElement(v,g)}},$O=xte({chartName:"BarChart",GraphicalChild:Vr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:nc},{axisType:"yAxis",AxisComp:ac}],formatAxisMap:_X});const wte=({active:t,payload:e,label:r})=>{if(t&&e&&e.length>0){const n=e[0].payload;return d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border",children:[d.jsx("p",{className:"font-semibold mb-4",children:r}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"font-medium text-sm mb-2",children:["Actual Revenue: $",n.actual.toLocaleString()]}),d.jsx("div",{className:"space-y-2",children:n.actualClients&&n.actualClients.length>0?n.actualClients.sort((a,i)=>i.amount-a.amount).map((a,i)=>d.jsxs("div",{className:"flex justify-between gap-4",children:[d.jsx("span",{className:"text-sm",children:a.name}),d.jsxs("span",{className:"text-sm font-medium",children:["$",a.amount.toLocaleString()]})]},`actual-${i}`)):d.jsx("div",{className:"text-sm text-gray-500",children:"No actual revenue for this period"})})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-sm mb-2",children:["Forecast Revenue: $",n.forecast.toLocaleString()]}),d.jsx("div",{className:"space-y-2",children:n.forecastClients&&n.forecastClients.length>0?n.forecastClients.sort((a,i)=>i.amount-a.amount).map((a,i)=>d.jsxs("div",{className:"flex justify-between gap-4",children:[d.jsx("span",{className:"text-sm",children:a.name}),d.jsxs("span",{className:"text-sm font-medium",children:["$",a.amount.toLocaleString()]})]},`forecast-${i}`)):d.jsx("div",{className:"text-sm text-gray-500",children:"No forecast revenue for this period"})})]})]})}return null},_te=({monthlyData:t,onBarClick:e})=>{$.info("RevenueChart rendering with data:",{dataLength:(t==null?void 0:t.length)||0,firstThreeMonths:(t==null?void 0:t.slice(0,3).map(i=>({month:i.month,actual:i.actual,forecast:i.forecast})))||[]});const r=(i,s,o)=>{e&&e(i.month,o)},n=Array.isArray(t)&&t.length>0,a=n&&t.some(i=>i.actual>0||i.forecast>0);return $.info("RevenueChart data validation:",{validData:n,hasRevenueData:a}),!n||!a?($.info("RevenueChart showing empty state - no valid revenue data"),d.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:d.jsx("p",{children:"No revenue data available to display"})})):d.jsxs("div",{className:"h-[300px]",children:[d.jsx("div",{className:"mb-2 text-sm text-gray-500",children:"Click on any column to edit the revenue for that month"}),d.jsx(wj,{width:"100%",height:"100%",children:d.jsxs($O,{data:t,children:[d.jsx(Hg,{strokeDasharray:"3 3"}),d.jsx(nc,{dataKey:"month"}),d.jsx(ac,{}),d.jsx(dr,{content:d.jsx(wte,{})}),d.jsx(Vr,{dataKey:"actual",fill:"#1A1F2C",name:"Actual Revenue",onClick:(i,s)=>r(i,s,"actual"),style:{cursor:"pointer"}}),d.jsx(Vr,{dataKey:"forecast",fill:"hsl(var(--primary)/0.5)",name:"Forecast Revenue",onClick:(i,s)=>r(i,s,"forecast"),style:{cursor:"pointer"}})]})})]})},Vg=b.forwardRef(({className:t,...e},r)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:r,className:G("w-full caption-bottom text-sm",t),...e})}));Vg.displayName="Table";const Gg=b.forwardRef(({className:t,...e},r)=>d.jsx("thead",{ref:r,className:G("[&_tr]:border-b",t),...e}));Gg.displayName="TableHeader";const Kg=b.forwardRef(({className:t,...e},r)=>d.jsx("tbody",{ref:r,className:G("[&_tr:last-child]:border-0",t),...e}));Kg.displayName="TableBody";const Ste=b.forwardRef(({className:t,...e},r)=>d.jsx("tfoot",{ref:r,className:G("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Ste.displayName="TableFooter";const hl=b.forwardRef(({className:t,...e},r)=>d.jsx("tr",{ref:r,className:G("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));hl.displayName="TableRow";const Oi=b.forwardRef(({className:t,...e},r)=>d.jsx("th",{ref:r,className:G("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Oi.displayName="TableHead";const Ci=b.forwardRef(({className:t,...e},r)=>d.jsx("td",{ref:r,className:G("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ci.displayName="TableCell";const jte=b.forwardRef(({className:t,...e},r)=>d.jsx("caption",{ref:r,className:G("mt-4 text-sm text-muted-foreground",t),...e}));jte.displayName="TableCaption";const Ote=({clients:t,month:e,type:r,onSave:n,onCancel:a})=>{const[i,s]=b.useState([]),o=`${r}_${e.toLowerCase()}`;b.useEffect(()=>{const f=t.map(h=>({id:h.id,name:h.name,amount:h[o]||0}));s(f)},[t,e,r,o]);const l=(f,h)=>{const p=h===""?0:Number(h);s(v=>v.map(m=>m.id===f?{...m,amount:p}:m))},c=()=>{n(i)},u=i.filter(f=>f.amount>0||!0);return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:d.jsxs(Vg,{children:[d.jsx(Gg,{children:d.jsxs(hl,{children:[d.jsx(Oi,{children:"Client Name"}),d.jsx(Oi,{className:"text-right",children:"Amount ($)"})]})}),d.jsx(Kg,{children:u.map(f=>d.jsxs(hl,{children:[d.jsx(Ci,{children:f.name}),d.jsx(Ci,{className:"text-right",children:d.jsx(Ce,{type:"number",value:f.amount,onChange:h=>l(f.id,h.target.value),className:"w-32 ml-auto",min:"0"})})]},f.id))})]})}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(J,{variant:"outline",onClick:a,children:"Cancel"}),d.jsx(J,{onClick:c,children:"Save Changes"})]})]})},Cte=async()=>{$.info("Starting fetchMonthlyRevenue function...");const{data:t,error:e}=await ae.from("clients").select("*");if(e)throw $.error("Error fetching clients for revenue data:",e),e;if($.info(`Fetched ${(t==null?void 0:t.length)||0} clients for revenue calculations`),!t||t.length===0)return $.info("No clients found for revenue calculations"),{monthlyData:[],annualTotals:{confirmed:0,forecast:0},clients:[]};const r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.forEach((i,s)=>{s<3&&$.info(`Client ${i.id} (${i.name}) revenue data:`,{annual_revenue_signed_off:i.annual_revenue_signed_off,annual_revenue_forecast:i.annual_revenue_forecast,sample_monthly:{actual_jan:i.actual_jan,forecast_jan:i.forecast_jan}})});const n=r.map(i=>{const s=i.toLowerCase(),o=t.filter(f=>f[`actual_${s}`]>0).map(f=>({name:f.name,amount:f[`actual_${s}`]||0,type:"actual"})),l=t.filter(f=>f[`forecast_${s}`]>0).map(f=>({name:f.name,amount:f[`forecast_${s}`]||0,type:"forecast"})),c=o.reduce((f,h)=>f+h.amount,0),u=l.reduce((f,h)=>f+h.amount,0);return{month:i,actual:Math.round(c),forecast:Math.round(u),actualClients:o,forecastClients:l}});$.info("Calculated monthly revenue data:",n.map(i=>({month:i.month,actual:i.actual,forecast:i.forecast,actualClientCount:i.actualClients.length,forecastClientCount:i.forecastClients.length})));const a=t.reduce((i,s)=>{const o=Number(s.annual_revenue_signed_off)||0,l=Number(s.annual_revenue_forecast)||0;return{confirmed:i.confirmed+o,forecast:i.forecast+l}},{confirmed:0,forecast:0});return $.info("Calculated annual totals:",a),{monthlyData:n,annualTotals:a,clients:t}},Ete=()=>{var w;const t=it(),[e,r]=b.useState(null),[n,a]=b.useState(!1),[i,s]=b.useState([]),[o,l]=b.useState("actual"),{data:c,isLoading:u,error:f,refetch:h}=rr({queryKey:["monthly-revenue"],queryFn:Cte,staleTime:0,refetchOnWindowFocus:!0});$.info("RevenueSummary received data from query:",{hasData:!!c,monthlyDataLength:((w=c==null?void 0:c.monthlyData)==null?void 0:w.length)||0,annualTotals:c==null?void 0:c.annualTotals});const p=async()=>{$.info("Manually refreshing revenue data..."),ne({title:"Refreshing data",description:"Updating revenue information..."}),t.removeQueries({queryKey:["monthly-revenue"]}),await h(),ne({title:"Refresh complete",description:"Revenue data has been updated"})},v=(y,S)=>{c!=null&&c.clients&&(r(y),l(S),s(c.clients),a(!0))},m=async y=>{if(!e)return;const S=e.toLowerCase(),_=`${o==="actual"?"actual":"forecast"}_${S}`,j=y.map(async C=>{const{error:E}=await ae.from("clients").update({[_]:C.amount}).eq("id",C.id);if(E)throw $.error(`Error updating client ${C.id}:`,E),E;const{data:A,error:P}=await ae.from("clients").select("*").eq("id",C.id).single();if(P)throw P;const T=Object.entries(A).filter(([M])=>M.startsWith("forecast_")).reduce((M,[R,I])=>M+(Number(I)||0),0),N=Object.entries(A).filter(([M])=>M.startsWith("actual_")).reduce((M,[R,I])=>M+(Number(I)||0),0),{error:D}=await ae.from("clients").update({annual_revenue_forecast:T,annual_revenue_signed_off:N}).eq("id",C.id);if(D)throw D;return C});try{await Promise.all(j),t.removeQueries({queryKey:["monthly-revenue"]}),t.removeQueries({queryKey:["clients"]}),await Promise.all([t.refetchQueries({queryKey:["monthly-revenue"]}),t.refetchQueries({queryKey:["clients"]})]),ne({title:"Success",description:`${e} revenue updated successfully`}),a(!1)}catch(C){$.error("Error updating revenue:",C),ne({title:"Error",description:"Failed to update revenue",variant:"destructive"})}};if(u)return d.jsxs(ot,{children:[d.jsxs(yr,{className:"flex flex-row items-center justify-between",children:[d.jsx(br,{children:"Revenue Overview"}),d.jsxs(J,{variant:"outline",size:"sm",onClick:p,children:[d.jsx(vo,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]}),d.jsx(xr,{children:d.jsx(Br,{className:"h-[300px] w-full"})})]});if(f)return d.jsxs(ot,{children:[d.jsxs(yr,{className:"flex flex-row items-center justify-between",children:[d.jsx(br,{children:"Revenue Overview"}),d.jsxs(J,{variant:"outline",size:"sm",onClick:p,children:[d.jsx(vo,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]}),d.jsx(xr,{children:d.jsxs("div",{className:"text-red-500",children:["Error loading revenue data: ",f.message]})})]});const g={monthlyData:(c==null?void 0:c.monthlyData)||[],annualTotals:(c==null?void 0:c.annualTotals)||{confirmed:0,forecast:0},clients:(c==null?void 0:c.clients)||[]};return d.jsxs(ot,{children:[d.jsxs(yr,{className:"flex flex-row items-center justify-between",children:[d.jsx(br,{children:"Revenue Overview"}),d.jsxs(J,{variant:"outline",size:"sm",onClick:p,children:[d.jsx(vo,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]}),d.jsxs(xr,{children:[d.jsx("div",{className:"mb-8",children:d.jsx(s3,{annualTotals:g.annualTotals})}),d.jsx(_te,{monthlyData:g.monthlyData,onBarClick:v}),d.jsx(To,{open:n,onOpenChange:a,children:d.jsxs(qi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[d.jsx(Wi,{children:d.jsxs(Hi,{children:["Edit ",o==="actual"?"Actual":"Forecast"," Revenue for ",e]})}),e&&d.jsx(Ote,{clients:i,month:e,type:o,onSave:m,onCancel:()=>a(!1)})]})})]})]})};function Tte({onNewTaskClick:t}){return d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"RedBaez Biz"}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs(J,{onClick:t,children:[d.jsx(Es,{className:"mr-2 h-4 w-4"}),"Add New Task"]})})]})}const Pte=()=>{const t=yn(),{toast:e}=Fl(),[r,n]=b.useState(""),[a,i]=b.useState(!1),s=async()=>{if(!r.trim()){e({title:"Search Error",description:"Please enter a client name",variant:"destructive"});return}i(!0);try{const{data:l,error:c}=await ae.from("clients").select().ilike("name",`%${r}%`).limit(1);if(c)throw c;l&&l.length>0?t(`/client/${l[0].id}`):e({title:"No Results",description:"No clients found matching your search",variant:"destructive"})}catch(l){$.error("Search error:",l),e({title:"Search Error",description:"Failed to search for clients",variant:"destructive"})}finally{i(!1)}},o=l=>{l.key==="Enter"&&s()};return d.jsxs(ot,{className:"flex-1 transition-all duration-300 hover:shadow-lg",children:[d.jsx(yr,{className:"pb-2",children:d.jsx(br,{className:"text-sm font-medium",children:"Find Client"})}),d.jsx(xr,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{value:r,onChange:l=>n(l.target.value),onKeyPress:o,placeholder:"Search clients...",className:"h-8 text-sm",disabled:a}),d.jsx(J,{size:"sm",className:"transition-all duration-300",onClick:s,disabled:a,children:d.jsx(Xk,{className:"h-4 w-4"})})]})})]})},Ate=t=>rr({queryKey:["intel-search",t],queryFn:async()=>{if(!t.trim())return null;const{data:e,error:r}=await ae.functions.invoke("search-intel",{body:{query:t}});if(r)throw r;return e},enabled:!!t.trim()}),kte=({searchInput:t,onSearchInputChange:e})=>{const[r,n]=b.useState(""),{data:a,isLoading:i,error:s}=Ate(r),{toast:o}=Fl();b.useEffect(()=>{t&&n(t)},[t]);const l=()=>{if(!t.trim()){o({title:"Please enter a search query",variant:"destructive"});return}n(t),$.info("Searching for:",t)},c=u=>u?u.split(/(?:\r?\n|\r)(?:[-•*]|\d+\.)\s+/).filter(Boolean).map(h=>h.trim().replace(/^[-•*]\s*|\d+\.\s*/,"")):[];return d.jsxs(ot,{className:"h-full transition-all duration-300 hover:shadow-lg",children:[d.jsx(yr,{className:"pb-2",children:d.jsx(br,{className:"text-sm font-medium",children:"Intel Search"})}),d.jsxs(xr,{className:"space-y-4",children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{value:t,onChange:u=>e(u.target.value),placeholder:"Search for intel...",className:"h-8 text-sm",onKeyDown:u=>{u.key==="Enter"&&l()}}),d.jsx(J,{size:"sm",className:"transition-all duration-300",onClick:l,disabled:i,children:d.jsx(Jk,{size:16})})]}),i&&d.jsx("div",{className:"animate-pulse bg-gray-100 rounded-md p-4 min-h-[200px]",children:"Loading insights..."}),s&&d.jsx("div",{className:"text-red-500 p-4 rounded-md bg-red-50 min-h-[100px]",children:"Error fetching insights. Please try again."}),a&&d.jsx("div",{className:"space-y-3 p-4 rounded-md bg-blue-50 max-h-[400px] overflow-y-auto",children:c(a).map((u,f)=>d.jsxs("div",{className:"flex items-start gap-2 text-sm text-blue-900 animate-fade-in",style:{animationDelay:`${f*100}ms`},children:[d.jsx("span",{className:"mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-blue-500"}),d.jsx("p",{children:u})]},f))})]})]})},Nte=({searchInput:t,onSearchInputChange:e})=>d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(Pte,{}),d.jsx(kte,{searchInput:t,onSearchInputChange:e})]})}),xa=class xa{constructor(){oc(this,"queryClient",null)}static getInstance(){return xa.instance||(xa.instance=new xa),xa.instance}setQueryClient(e){this.queryClient=e}async invalidateTaskQueries(e){if(!this.queryClient)return $.error("QueryCacheManager: No QueryClient set"),!1;try{return $.info(`[CACHE] Invalidating task queries at ${new Date().toISOString()}`),this.queryClient.cancelQueries(),this.queryClient.removeQueries({queryKey:Fe.tasks.unified()}),this.queryClient.removeQueries({queryKey:["unified-tasks"]}),this.queryClient.removeQueries({queryKey:["tasks"]}),await Promise.all([this.queryClient.invalidateQueries({queryKey:Fe.tasks.all()}),this.queryClient.invalidateQueries({queryKey:Fe.tasks.list()}),this.queryClient.invalidateQueries({queryKey:Fe.tasks.clientItems(null)}),this.queryClient.invalidateQueries({queryKey:["tasks"]})]),e&&($.info(`[CACHE] Refreshing client ${e} data`),await Promise.all([this.queryClient.refetchQueries({queryKey:Fe.clients.detail(e)}),this.queryClient.refetchQueries({queryKey:Fe.tasks.clientItems(e)})])),$.info("[CACHE] Task query invalidation complete"),!0}catch(r){return $.error("[CACHE] Error during task query invalidation:",r),!1}}async invalidateClientQueries(e){if(!this.queryClient)return $.error("QueryCacheManager: No QueryClient set"),!1;try{return $.info(`[CACHE] Invalidating client queries at ${new Date().toISOString()}`),e?await this.queryClient.invalidateQueries({queryKey:Fe.clients.detail(e)}):await this.queryClient.invalidateQueries({queryKey:Fe.clients.all()}),$.info("[CACHE] Client query invalidation complete"),!0}catch(r){return $.error("[CACHE] Error during client query invalidation:",r),!1}}async invalidateRevenueQueries(){if(!this.queryClient)return $.error("QueryCacheManager: No QueryClient set"),!1;try{return $.info(`[CACHE] Invalidating revenue queries at ${new Date().toISOString()}`),await Promise.all([this.queryClient.invalidateQueries({queryKey:Fe.revenue.monthly()}),this.queryClient.invalidateQueries({queryKey:Fe.revenue.forecast()})]),$.info("[CACHE] Revenue query invalidation complete"),!0}catch(e){return $.error("[CACHE] Error during revenue query invalidation:",e),!1}}async invalidateAllQueries(){if(!this.queryClient)return $.error("QueryCacheManager: No QueryClient set"),!1;try{return $.info(`[CACHE] Invalidating all queries at ${new Date().toISOString()}`),this.queryClient.removeQueries({queryKey:Fe.tasks.unified()}),this.queryClient.removeQueries({queryKey:["unified-tasks"]}),this.queryClient.removeQueries({queryKey:["tasks"]}),this.queryClient.removeQueries({queryKey:["monthly-revenue"]}),await this.queryClient.invalidateQueries(),$.info("[CACHE] Global query invalidation complete"),!0}catch(e){return $.error("[CACHE] Error during global query invalidation:",e),!1}}};oc(xa,"instance");let Du=xa;const rf=()=>{const t=it();b.useEffect(()=>{Du.getInstance().setQueryClient(t)},[t]);const e=Du.getInstance();return{invalidateTaskQueries:r=>e.invalidateTaskQueries(r),invalidateClientQueries:r=>e.invalidateClientQueries(r),invalidateRevenueQueries:()=>e.invalidateRevenueQueries(),invalidateAllQueries:()=>e.invalidateAllQueries()}},$te=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[s,o]=b.useState(Date.now());yn();const{invalidateAllQueries:l,invalidateTaskQueries:c}=rf(),u=b.useRef(!1),f=it(),{data:h,isLoading:p,error:v,refetch:m}=rr({queryKey:["clients",s],queryFn:async()=>{$.info("Fetching clients...");const{data:y,error:S}=await ae.from("clients").select("*").order("name");if(S)throw $.error("Error fetching clients:",S),S;return $.info("Fetched clients:",y==null?void 0:y.length),y||[]},staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,initialData:[]}),g=b.useCallback(async()=>{ne({title:"Refreshing dashboard",description:"Updating with the latest data..."});try{await Promise.all([l(),f.removeQueries({queryKey:["monthly-revenue"]}),f.removeQueries({queryKey:["tasks"]}),f.removeQueries({queryKey:["clients"]})]),o(Date.now()),await Promise.all([f.refetchQueries({queryKey:["monthly-revenue"]}),f.refetchQueries({queryKey:["tasks"]}),f.refetchQueries({queryKey:["clients"]})]),ne({title:"Refresh complete",description:"Dashboard updated with latest data"})}catch(y){$.error("Error refreshing dashboard:",y),ne({title:"Refresh failed",description:"Could not update dashboard data. Please try again.",variant:"destructive"})}},[l,f]),w=b.useCallback(()=>{r||m().catch(y=>{$.error("Error pre-fetching clients:",y),ne({title:"Error loading clients",description:"There was a problem loading the client list.",variant:"destructive"})}),n(y=>!y)},[r,m]);return b.useEffect(()=>{u.current||(async()=>($.info("Index page mounted - refreshing data"),ne({title:"Loading dashboard",description:"Refreshing your dashboard data..."}),await Promise.all([f.removeQueries({queryKey:["monthly-revenue"]}),f.removeQueries({queryKey:["tasks"]}),f.removeQueries({queryKey:["clients"]}),f.removeQueries({queryKey:["unified-tasks"]})]),await m(),await l(),o(Date.now()),u.current=!0,$.info("Initial data load complete")))()},[l,f,m]),d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(pr,{}),d.jsxs("main",{className:"container mx-auto p-4 space-y-8",children:[d.jsx(Tte,{showClientList:r,onToggleClientList:w,onNewTaskClick:()=>i(!0)}),v&&d.jsxs(rd,{variant:"destructive",className:"mb-4",children:[d.jsx(Tm,{children:"Error loading data"}),d.jsxs(nd,{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Failed to load client data. Please try refreshing."}),d.jsxs(J,{size:"sm",variant:"outline",onClick:g,children:[d.jsx(vo,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx(Nte,{searchInput:t,onSearchInputChange:e}),d.jsxs("div",{className:"rounded-lg bg-card p-8 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-semibold text-left",children:"Priority Actions"}),d.jsxs(J,{variant:"outline",size:"sm",onClick:g,children:[d.jsx(vo,{className:"mr-2 h-4 w-4"}),"Refresh Data"]})]}),d.jsx(aS,{hideAddButton:!0},`priority-actions-${s}`)]}),d.jsx("div",{className:"rounded-lg bg-card p-8 shadow-sm",children:d.jsx(Ete,{})})]})]}),!1,d.jsx(fd,{open:r,onOpenChange:n,children:d.jsx(Kl,{side:"right",className:"w-full sm:max-w-xl overflow-y-auto h-screen",children:d.jsx(B_,{clients:h,isLoading:p})})}),d.jsx(Vi,{isOpen:a,onOpenChange:i,task:null,onSaved:async()=>{i(!1),await c(),o(Date.now())}})]})},Mte=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(null),a=it(),i=()=>{a.invalidateQueries({queryKey:["generalTasks"]}),e(!1),n(null)},s=o=>{n(null),e(!0)};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100/50",children:[d.jsx(pr,{}),d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsx("h1",{className:"text-3xl font-bold",children:"Business Administration"})}),d.jsx("div",{className:"grid gap-6",children:d.jsx(aS,{hideAddButton:!1,initialCategory:"Business Admin",onTaskClick:s})}),d.jsx(Vi,{isOpen:t,onOpenChange:e,task:r,onSaved:i,defaultCategory:"Business Admin"})]})]})},Ite=({onRefresh:t,onGenerateNewsletter:e,isGenerating:r,isRefreshing:n,hasNewsItems:a})=>d.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Zk,{className:"h-8 w-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"AI News & Insights"}),d.jsx("p",{className:"text-gray-600",children:"Stay updated with the latest developments in artificial intelligence"})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs(Dr,{defaultValue:"all",children:[d.jsx(wr,{className:"w-[180px]",children:d.jsx(Lr,{placeholder:"Filter by category"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"all",children:"All Categories"}),d.jsx(le,{value:"tools",children:"AI Tools"}),d.jsx(le,{value:"training",children:"Training & Education"}),d.jsx(le,{value:"innovation",children:"Innovation"}),d.jsx(le,{value:"ethics",children:"Ethics & Risks"})]})]}),d.jsxs(J,{onClick:e,variant:"outline",className:"gap-2",disabled:r||!a,children:[r?d.jsx(Eo,{className:"h-4 w-4 animate-spin"}):d.jsx(Vk,{className:"h-4 w-4"}),"Generate Newsletter"]}),d.jsxs(J,{onClick:t,variant:"outline",className:"gap-2",disabled:n,children:[n?d.jsx(Eo,{className:"h-4 w-4 animate-spin"}):d.jsx(Ua,{className:"h-4 w-4"}),"Refresh News"]})]})]});function Rte(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var Yg="ScrollArea",[MO,aie]=Qa(Yg),[Dte,sr]=MO(Yg),IO=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=t,[o,l]=b.useState(null),[c,u]=b.useState(null),[f,h]=b.useState(null),[p,v]=b.useState(null),[m,g]=b.useState(null),[w,y]=b.useState(0),[S,x]=b.useState(0),[_,j]=b.useState(!1),[C,E]=b.useState(!1),A=rt(e,T=>l(T)),P=ow(a);return d.jsx(Dte,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:o,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:x,children:d.jsx(ke.div,{dir:P,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});IO.displayName=Yg;var RO="ScrollAreaViewport",DO=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:i,...s}=t,o=sr(RO,r),l=b.useRef(null),c=rt(e,l,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),d.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...s,asChild:a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:Gte({asChild:a,children:n},u=>d.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});DO.displayName=RO;var Qr="ScrollAreaScrollbar",Qg=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=sr(Qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,o=t.orientation==="horizontal";return b.useEffect(()=>(o?i(!0):s(!0),()=>{o?i(!1):s(!1)}),[o,i,s]),a.type==="hover"?d.jsx(Lte,{...n,ref:e,forceMount:r}):a.type==="scroll"?d.jsx(Bte,{...n,ref:e,forceMount:r}):a.type==="auto"?d.jsx(LO,{...n,ref:e,forceMount:r}):a.type==="always"?d.jsx(Zg,{...n,ref:e}):null});Qg.displayName=Qr;var Lte=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=sr(Qr,t.__scopeScrollArea),[i,s]=b.useState(!1);return b.useEffect(()=>{const o=a.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),d.jsx(ys,{present:r||i,children:d.jsx(LO,{"data-state":i?"visible":"hidden",...n,ref:e})})}),Bte=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=sr(Qr,t.__scopeScrollArea),i=t.orientation==="horizontal",s=af(()=>l("SCROLL_END"),100),[o,l]=Rte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,a.scrollHideDelay,l]),b.useEffect(()=>{const c=a.viewport,u=i?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const p=c[u];f!==p&&(l("SCROLL"),s()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[a.viewport,i,l,s]),d.jsx(ys,{present:r||o!=="hidden",children:d.jsx(Zg,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:we(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:we(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),LO=b.forwardRef((t,e)=>{const r=sr(Qr,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,s]=b.useState(!1),o=t.orientation==="horizontal",l=af(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;s(o?c:u)}},10);return ps(r.viewport,l),ps(r.content,l),d.jsx(ys,{present:n||i,children:d.jsx(Zg,{"data-state":i?"visible":"hidden",...a,ref:e})})}),Zg=b.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=sr(Qr,t.__scopeScrollArea),i=b.useRef(null),s=b.useRef(0),[o,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=qO(o.viewport,o.content),u={...n,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return Hte(h,s.current,o,p)}return r==="horizontal"?d.jsx(Fte,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=qx(h,o,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?d.jsx(Ute,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=qx(h,o);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Fte=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=sr(Qr,t.__scopeScrollArea),[s,o]=b.useState(),l=b.useRef(null),c=rt(e,l,i.onScrollbarXChange);return b.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(FO,{"data-orientation":"horizontal",...a,ref:c,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),HO(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Bu(s.paddingLeft),paddingEnd:Bu(s.paddingRight)}})}})}),Ute=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=sr(Qr,t.__scopeScrollArea),[s,o]=b.useState(),l=b.useRef(null),c=rt(e,l,i.onScrollbarYChange);return b.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(FO,{"data-orientation":"vertical",...a,ref:c,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),HO(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Bu(s.paddingTop),paddingEnd:Bu(s.paddingBottom)}})}})}),[zte,BO]=MO(Qr),FO=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,p=sr(Qr,r),[v,m]=b.useState(null),g=rt(e,A=>m(A)),w=b.useRef(null),y=b.useRef(""),S=p.viewport,x=n.content-n.viewport,_=Ht(u),j=Ht(l),C=af(f,10);function E(A){if(w.current){const P=A.clientX-w.current.left,T=A.clientY-w.current.top;c({x:P,y:T})}}return b.useEffect(()=>{const A=P=>{const T=P.target;(v==null?void 0:v.contains(T))&&_(P,x)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[S,v,x,_]),b.useEffect(j,[n,j]),ps(v,C),ps(p.content,C),d.jsx(zte,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:Ht(i),onThumbPointerUp:Ht(s),onThumbPositionChange:j,onThumbPointerDown:Ht(o),children:d.jsx(ke.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:we(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),w.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(A))}),onPointerMove:we(t.onPointerMove,E),onPointerUp:we(t.onPointerUp,A=>{const P=A.target;P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),Lu="ScrollAreaThumb",UO=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=BO(Lu,t.__scopeScrollArea);return d.jsx(ys,{present:r||a.hasThumb,children:d.jsx(qte,{ref:e,...n})})}),qte=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=sr(Lu,r),s=BO(Lu,r),{onThumbPositionChange:o}=s,l=rt(e,f=>s.onThumbChange(f)),c=b.useRef(),u=af(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(u(),!c.current){const p=Vte(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,u,o]),d.jsx(ke.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:we(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,m=f.clientY-p.top;s.onThumbPointerDown({x:v,y:m})}),onPointerUp:we(t.onPointerUp,s.onThumbPointerUp)})});UO.displayName=Lu;var Xg="ScrollAreaCorner",zO=b.forwardRef((t,e)=>{const r=sr(Xg,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(Wte,{...t,ref:e}):null});zO.displayName=Xg;var Wte=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=sr(Xg,r),[i,s]=b.useState(0),[o,l]=b.useState(0),c=!!(i&&o);return ps(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),l(u)}),ps(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),s(u)}),c?d.jsx(ke.div,{...n,ref:e,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Bu(t){return t?parseInt(t,10):0}function qO(t,e){const r=t/e;return isNaN(r)?0:r}function nf(t){const e=qO(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function Hte(t,e,r,n="ltr"){const a=nf(r),i=a/2,s=e||i,o=a-s,l=r.scrollbar.paddingStart+s,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return WO([l,c],f)(t)}function qx(t,e,r="ltr"){const n=nf(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,s=e.content-e.viewport,o=i-n,l=r==="ltr"?[0,s]:[s*-1,0],c=Ch(t,l);return WO([0,s],[0,o])(c)}function WO(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function HO(t,e){return t>0&&t<e}var Vte=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},s=r.left!==i.left,o=r.top!==i.top;(s||o)&&e(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function af(t,e){const r=Ht(t),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ps(t,e){const r=Ht(e);er(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}function Gte(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const a=b.Children.only(n);return b.cloneElement(a,{children:typeof e=="function"?e(a.props.children):e})}var VO=IO,Kte=DO,Yte=zO;const Jg=b.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(VO,{ref:n,className:G("relative overflow-hidden",t),...r,children:[d.jsx(Kte,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(GO,{}),d.jsx(Yte,{})]}));Jg.displayName=VO.displayName;const GO=b.forwardRef(({className:t,orientation:e="vertical",...r},n)=>d.jsx(Qg,{ref:n,orientation:e,className:G("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:d.jsx(UO,{className:"relative flex-1 rounded-full bg-border"})}));GO.displayName=Qg.displayName;const Qte=({item:t,onShare:e,onGenerateLinkedInArticle:r,isGenerating:n,selectedNewsItem:a})=>{const i=n&&(a==null?void 0:a.id)===t.id,s=!!t.title&&!!t.summary;return d.jsxs(ot,{className:"transition-all hover:shadow-lg",children:[d.jsxs(yr,{children:[d.jsxs("div",{className:"flex justify-between items-start gap-4",children:[d.jsx(br,{className:"flex-1",children:d.jsx("a",{href:t.url||"#",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 transition-colors",children:t.title})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(J,{variant:"ghost",size:"icon",onClick:()=>e(t),className:"shrink-0",title:"Share article",children:d.jsx(eN,{className:"h-4 w-4"})}),d.jsx(J,{variant:"ghost",size:"icon",onClick:()=>r(t),disabled:i||!s,className:"shrink-0",title:"Generate LinkedIn post",children:i?d.jsx(Eo,{className:"h-4 w-4 animate-spin"}):d.jsx(Yk,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.published_date&&d.jsx("span",{className:"text-sm text-muted-foreground",children:Kn(new Date(t.published_date),"MMM d, yyyy")}),d.jsx("span",{className:"text-muted-foreground",children:"•"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:t.source}),t.category&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-muted-foreground",children:"•"}),d.jsx("span",{className:"inline-block",children:d.jsx(ko,{variant:"secondary",children:t.category})})]})]})]}),d.jsx(xr,{children:d.jsx(Jg,{className:"h-32",children:d.jsx("p",{className:"text-gray-600",children:t.summary})})})]})},Zte=({isLoading:t,newsItems:e,onShare:r,onGenerateLinkedInArticle:n,isGeneratingArticle:a,selectedNewsItem:i})=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t?Array.from({length:6}).map((s,o)=>d.jsx("div",{className:"animate-pulse",children:d.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})},o)):e!=null&&e.length?e.map(s=>d.jsx(Qte,{item:s,onShare:r,onGenerateLinkedInArticle:n,isGenerating:a,selectedNewsItem:i},s.id)):d.jsx("div",{className:"col-span-full text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"No news items available. Click refresh to fetch the latest updates."})})}),Xte=t=>{const r=new DOMParser().parseFromString(t,"text/html");return r.querySelectorAll("script").forEach(n=>n.remove()),r.querySelectorAll("*").forEach(n=>{for(const a of Array.from(n.attributes))a.name.startsWith("on")&&n.removeAttribute(a.name)}),r.body.innerHTML},Jte=t=>{let e=t.replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-bold mt-6 mb-3">$1</h2>').replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold mt-8 mb-4">$1</h1>').replace(/\*\*(.*?)\*\*/g,'<span class="font-semibold">$1</span>').replace(/^---$/gm,'<hr class="my-4 border-gray-200">').replace(/\n\n/g,'</p><p class="my-3">');return!e.startsWith("<h1")&&!e.startsWith("<h2")&&!e.startsWith("<h3")&&(e=`<p class="my-3">${e}</p>`),Xte(e)},ere=({showArticleDialog:t,setShowArticleDialog:e,showNewsletterDialog:r,setShowNewsletterDialog:n,generatedArticle:a,generatedNewsletter:i,onCopyArticle:s,onCopyNewsletter:o})=>d.jsxs(d.Fragment,{children:[d.jsx(To,{open:t,onOpenChange:e,children:d.jsxs(qi,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[d.jsxs(Wi,{children:[d.jsx(Hi,{children:"Generated LinkedIn Article"}),d.jsx(Oh,{children:"Copy and paste this article to LinkedIn"})]}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg whitespace-pre-wrap",children:a}),d.jsx(J,{onClick:s,className:"w-full",children:"Copy to Clipboard"})]})]})}),d.jsx(To,{open:r,onOpenChange:n,children:d.jsxs(qi,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[d.jsxs(Wi,{children:[d.jsx(Hi,{children:"Generated Newsletter"}),d.jsx(Oh,{children:"Copy and use this newsletter to share the latest AI news"})]}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsx("div",{className:"bg-gray-50 p-6 rounded-lg prose prose-gray max-w-none",dangerouslySetInnerHTML:{__html:Jte(i)}}),d.jsx(J,{onClick:o,className:"w-full",children:"Copy to Clipboard"})]})]})})]}),tre=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[s,o]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState(""),[h,p]=b.useState(""),[v,m]=b.useState(null),g=it(),{data:w,isLoading:y,refetch:S}=rr({queryKey:["ai-news"],queryFn:async()=>{$.info("Fetching AI news from database...");const{data:P,error:T}=await ae.from("ai_news").select("*").order("created_at",{ascending:!1}).limit(20);if(T)throw $.error("Error fetching news:",T),T;return $.info("Successfully fetched news items:",P==null?void 0:P.length),P},staleTime:0,gcTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0});return{newsItems:w,isLoading:y,isRefreshing:t,isGeneratingNewsletter:r,isGeneratingArticle:a,showArticleDialog:s,setShowArticleDialog:o,showNewsletterDialog:l,setShowNewsletterDialog:c,generatedArticle:u,generatedNewsletter:h,selectedNewsItem:v,refreshNews:async()=>{try{e(!0),$.info("Starting news refresh..."),g.invalidateQueries({queryKey:["ai-news"]});const{error:P}=await ae.functions.invoke("fetch-ai-news");if(P)throw $.error("Error invoking fetch-ai-news function:",P),P;$.info("Successfully invoked fetch-ai-news function, refetching data..."),await new Promise(T=>setTimeout(T,1e3)),await S(),ne({title:"Success",description:"News refreshed successfully"})}catch(P){$.error("Error refreshing news:",P),ne({title:"Error",description:"Failed to refresh news",variant:"destructive"})}finally{e(!1)}},shareNews:P=>{navigator.share&&P.url?navigator.share({title:P.title,text:P.summary||"",url:P.url}).catch(T=>$.info("Error sharing:",T)):P.url&&(navigator.clipboard.writeText(P.url),ne({title:"Success",description:"Link copied to clipboard"}))},generateLinkedInArticle:async P=>{i(!0),m(P);try{$.info("Invoking generate-linkedin-article with:",{title:P.title,summary:P.summary});const{data:T,error:N}=await ae.functions.invoke("generate-linkedin-article",{body:{title:P.title,summary:P.summary}});if(N)throw $.error("Error from invoke:",N),N;if(T!=null&&T.article)$.info("Successfully generated LinkedIn article"),f(T.article),o(!0);else throw $.error("No article in response data:",T),new Error("No article generated")}catch(T){$.error("Error generating LinkedIn article:",T),ne({title:"Error",description:"Failed to generate LinkedIn article",variant:"destructive"})}finally{i(!1)}},generateNewsletter:async()=>{if(!(w!=null&&w.length)){ne({title:"Error",description:"No news items available",variant:"destructive"});return}n(!0);try{const{data:P,error:T}=await ae.functions.invoke("generate-newsletter",{body:{newsItems:w.map(N=>({title:N.title,summary:N.summary,category:N.category}))}});if(T)throw T;if(P!=null&&P.newsletter)p(P.newsletter),c(!0);else throw new Error("No newsletter generated")}catch(P){$.error("Error generating newsletter:",P),ne({title:"Error",description:"Failed to generate newsletter",variant:"destructive"})}finally{n(!1)}},copyArticle:()=>{navigator.clipboard.writeText(u),ne({title:"Success",description:"Article copied to clipboard"})},copyNewsletter:()=>{navigator.clipboard.writeText(h),ne({title:"Success",description:"Newsletter copied to clipboard"})}}},KO=b.forwardRef(({...t},e)=>d.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));KO.displayName="Breadcrumb";const YO=b.forwardRef(({className:t,...e},r)=>d.jsx("ol",{ref:r,className:G("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));YO.displayName="BreadcrumbList";const rm=b.forwardRef(({className:t,...e},r)=>d.jsx("li",{ref:r,className:G("inline-flex items-center gap-1.5",t),...e}));rm.displayName="BreadcrumbItem";const nm=b.forwardRef(({asChild:t,className:e,...r},n)=>{const a=t?dm:"a";return d.jsx(a,{ref:n,className:G("transition-colors hover:text-foreground",e),...r})});nm.displayName="BreadcrumbLink";const rre=b.forwardRef(({className:t,...e},r)=>d.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:G("font-normal text-foreground",t),...e}));rre.displayName="BreadcrumbPage";const QO=({children:t,className:e,...r})=>d.jsx("li",{role:"presentation","aria-hidden":"true",className:G("[&>svg]:size-3.5",e),...r,children:t??d.jsx(qk,{})});QO.displayName="BreadcrumbSeparator";var ev="ToastProvider",[tv,nre,are]=aw("Toast"),[ZO,iie]=Qa("Toast",[are]),[ire,sf]=ZO(ev),XO=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=t,[o,l]=b.useState(null),[c,u]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ev}\`. Expected non-empty \`string\`.`),d.jsx(tv.Provider,{scope:e,children:d.jsx(ire,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:b.useCallback(()=>u(p=>p+1),[]),onToastRemove:b.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};XO.displayName=ev;var JO="ToastViewport",sre=["F8"],am="toast.viewportPause",im="toast.viewportResume",eC=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=sre,label:a="Notifications ({hotkey})",...i}=t,s=sf(JO,r),o=nre(r),l=b.useRef(null),c=b.useRef(null),u=b.useRef(null),f=b.useRef(null),h=rt(e,f,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;b.useEffect(()=>{const g=w=>{var S;n.length!==0&&n.every(x=>w[x]||w.code===x)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),b.useEffect(()=>{const g=l.current,w=f.current;if(v&&g&&w){const y=()=>{if(!s.isClosePausedRef.current){const j=new CustomEvent(am);w.dispatchEvent(j),s.isClosePausedRef.current=!0}},S=()=>{if(s.isClosePausedRef.current){const j=new CustomEvent(im);w.dispatchEvent(j),s.isClosePausedRef.current=!1}},x=j=>{!g.contains(j.relatedTarget)&&S()},_=()=>{g.contains(document.activeElement)||S()};return g.addEventListener("focusin",y),g.addEventListener("focusout",x),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",S),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",x),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",S)}}},[v,s.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:g})=>{const y=o().map(S=>{const x=S.ref.current,_=[x,...bre(x)];return g==="forwards"?_:_.reverse()});return(g==="forwards"?y.reverse():y).flat()},[o]);return b.useEffect(()=>{const g=f.current;if(g){const w=y=>{var _,j,C;const S=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!S){const E=document.activeElement,A=y.shiftKey;if(y.target===g&&A){(_=c.current)==null||_.focus();return}const N=m({tabbingDirection:A?"backwards":"forwards"}),D=N.findIndex(M=>M===E);Xf(N.slice(D+1))?y.preventDefault():A?(j=c.current)==null||j.focus():(C=u.current)==null||C.focus()}};return g.addEventListener("keydown",w),()=>g.removeEventListener("keydown",w)}},[o,m]),d.jsxs(JC,{ref:l,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(sm,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Xf(g)}}),d.jsx(tv.Slot,{scope:r,children:d.jsx(ke.ol,{tabIndex:-1,...i,ref:h})}),v&&d.jsx(sm,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Xf(g)}})]})});eC.displayName=JO;var tC="ToastFocusProxy",sm=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=sf(tC,r);return d.jsx(od,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const o=s.relatedTarget;!((c=i.viewport)!=null&&c.contains(o))&&n()}})});sm.displayName=tC;var of="Toast",ore="toast.swipeStart",lre="toast.swipeMove",cre="toast.swipeCancel",ure="toast.swipeEnd",rC=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=t,[o=!0,l]=jo({prop:n,defaultProp:a,onChange:i});return d.jsx(ys,{present:r||o,children:d.jsx(hre,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:Ht(t.onPause),onResume:Ht(t.onResume),onSwipeStart:we(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:we(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});rC.displayName=of;var[dre,fre]=ZO(of,{onClose(){}}),hre=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=t,m=sf(of,r),[g,w]=b.useState(null),y=rt(e,M=>w(M)),S=b.useRef(null),x=b.useRef(null),_=a||m.duration,j=b.useRef(0),C=b.useRef(_),E=b.useRef(0),{onToastAdd:A,onToastRemove:P}=m,T=Ht(()=>{var R;(g==null?void 0:g.contains(document.activeElement))&&((R=m.viewport)==null||R.focus()),s()}),N=b.useCallback(M=>{!M||M===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(T,M))},[T]);b.useEffect(()=>{const M=m.viewport;if(M){const R=()=>{N(C.current),c==null||c()},I=()=>{const B=new Date().getTime()-j.current;C.current=C.current-B,window.clearTimeout(E.current),l==null||l()};return M.addEventListener(am,I),M.addEventListener(im,R),()=>{M.removeEventListener(am,I),M.removeEventListener(im,R)}}},[m.viewport,_,l,c,N]),b.useEffect(()=>{i&&!m.isClosePausedRef.current&&N(_)},[i,_,m.isClosePausedRef,N]),b.useEffect(()=>(A(),()=>P()),[A,P]);const D=b.useMemo(()=>g?cC(g):null,[g]);return m.viewport?d.jsxs(d.Fragment,{children:[D&&d.jsx(pre,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),d.jsx(dre,{scope:r,onClose:T,children:Ku.createPortal(d.jsx(tv.ItemSlot,{scope:r,children:d.jsx(eE,{asChild:!0,onEscapeKeyDown:we(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||T(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,M=>{M.key==="Escape"&&(o==null||o(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:we(t.onPointerDown,M=>{M.button===0&&(S.current={x:M.clientX,y:M.clientY})}),onPointerMove:we(t.onPointerMove,M=>{if(!S.current)return;const R=M.clientX-S.current.x,I=M.clientY-S.current.y,B=!!x.current,U=["left","right"].includes(m.swipeDirection),q=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ie=U?q(0,R):0,V=U?0:q(0,I),Y=M.pointerType==="touch"?10:2,ce={x:ie,y:V},Se={originalEvent:M,delta:ce};B?(x.current=ce,Pc(lre,f,Se,{discrete:!1})):Wx(ce,m.swipeDirection,Y)?(x.current=ce,Pc(ore,u,Se,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(R)>Y||Math.abs(I)>Y)&&(S.current=null)}),onPointerUp:we(t.onPointerUp,M=>{const R=x.current,I=M.target;if(I.hasPointerCapture(M.pointerId)&&I.releasePointerCapture(M.pointerId),x.current=null,S.current=null,R){const B=M.currentTarget,U={originalEvent:M,delta:R};Wx(R,m.swipeDirection,m.swipeThreshold)?Pc(ure,p,U,{discrete:!0}):Pc(cre,h,U,{discrete:!0}),B.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),pre=t=>{const{__scopeToast:e,children:r,...n}=t,a=sf(of,e),[i,s]=b.useState(!1),[o,l]=b.useState(!1);return vre(()=>s(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:d.jsx(sw,{asChild:!0,children:d.jsx(od,{...n,children:i&&d.jsxs(d.Fragment,{children:[a.label," ",r]})})})},mre="ToastTitle",nC=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(ke.div,{...n,ref:e})});nC.displayName=mre;var gre="ToastDescription",aC=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(ke.div,{...n,ref:e})});aC.displayName=gre;var iC="ToastAction",sC=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?d.jsx(lC,{altText:r,asChild:!0,children:d.jsx(rv,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${iC}\`. Expected non-empty \`string\`.`),null)});sC.displayName=iC;var oC="ToastClose",rv=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=fre(oC,r);return d.jsx(lC,{asChild:!0,children:d.jsx(ke.button,{type:"button",...n,ref:e,onClick:we(t.onClick,a.onClose)})})});rv.displayName=oC;var lC=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return d.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function cC(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),yre(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...cC(n))}}),e}function Pc(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?tE(a,i):a.dispatchEvent(i)}var Wx=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return e==="left"||e==="right"?i&&n>r:!i&&a>r};function vre(t=()=>{}){const e=Ht(t);er(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function yre(t){return t.nodeType===t.ELEMENT_NODE}function bre(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Xf(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var xre=XO,uC=eC,dC=rC,fC=nC,hC=aC,pC=sC,mC=rv;const wre=xre,gC=b.forwardRef(({className:t,...e},r)=>d.jsx(uC,{ref:r,className:G("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));gC.displayName=uC.displayName;const _re=_s("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vC=b.forwardRef(({className:t,variant:e,...r},n)=>d.jsx(dC,{ref:n,className:G(_re({variant:e}),t),...r}));vC.displayName=dC.displayName;const Sre=b.forwardRef(({className:t,...e},r)=>d.jsx(pC,{ref:r,className:G("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Sre.displayName=pC.displayName;const yC=b.forwardRef(({className:t,...e},r)=>d.jsx(mC,{ref:r,className:G("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(sd,{className:"h-4 w-4"})}));yC.displayName=mC.displayName;const bC=b.forwardRef(({className:t,...e},r)=>d.jsx(fC,{ref:r,className:G("text-sm font-semibold",t),...e}));bC.displayName=fC.displayName;const xC=b.forwardRef(({className:t,...e},r)=>d.jsx(hC,{ref:r,className:G("text-sm opacity-90",t),...e}));xC.displayName=hC.displayName;function jre(){const{toasts:t}=Fl();return d.jsxs(wre,{children:[t.map(function({id:e,title:r,description:n,action:a,...i}){return d.jsxs(vC,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(bC,{children:r}),n&&d.jsx(xC,{children:n})]}),a,d.jsx(yC,{})]},e)}),d.jsx(gC,{})]})}const Ore=()=>{const{newsItems:t,isLoading:e,isRefreshing:r,isGeneratingNewsletter:n,isGeneratingArticle:a,showArticleDialog:i,setShowArticleDialog:s,showNewsletterDialog:o,setShowNewsletterDialog:l,generatedArticle:c,generatedNewsletter:u,selectedNewsItem:f,refreshNews:h,shareNews:p,generateLinkedInArticle:v,generateNewsletter:m,copyArticle:g,copyNewsletter:w}=tre();return d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100/50",children:[d.jsx(pr,{}),d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx(KO,{className:"mb-4",children:d.jsxs(YO,{children:[d.jsx(rm,{children:d.jsxs(nm,{href:"/",children:[d.jsx(Gk,{className:"h-4 w-4 mr-1"}),"Home"]})}),d.jsx(QO,{}),d.jsx(rm,{children:d.jsx(nm,{children:"AI News"})})]})}),d.jsx(Ite,{onRefresh:h,onGenerateNewsletter:m,isGenerating:n,isRefreshing:r,hasNewsItems:!!(t!=null&&t.length)}),d.jsx(Zte,{isLoading:e,newsItems:t,onShare:p,onGenerateLinkedInArticle:v,isGeneratingArticle:a,selectedNewsItem:f}),d.jsx(ere,{showArticleDialog:i,setShowArticleDialog:s,showNewsletterDialog:o,setShowNewsletterDialog:l,generatedArticle:c,generatedNewsletter:u,onCopyArticle:g,onCopyNewsletter:w})]}),d.jsx(jre,{})]})},Cre=({industry:t,website:e,type:r,clientId:n})=>{const[a,i]=b.useState(!1),[s,o]=b.useState(t),[l,c]=b.useState(e),[u,f]=b.useState(r),h=async()=>{try{const{error:p}=await ae.from("clients").update({industry:s,website:l,type:u}).eq("id",n);if(p)throw p;ne({title:"Success",description:"Additional information updated successfully"}),i(!1)}catch(p){$.error("Error updating additional information:",p),ne({title:"Error",description:"Failed to update additional information",variant:"destructive"})}};return d.jsxs(ot,{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"}),a?d.jsxs(J,{variant:"default",size:"sm",onClick:h,children:[d.jsx(_1,{className:"h-4 w-4 mr-2"}),"Save"]}):d.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>i(!0),children:[d.jsx(Pm,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Industry"}),a?d.jsxs(Dr,{value:s,onValueChange:o,children:[d.jsx(wr,{className:"w-full",children:d.jsx(Lr,{placeholder:"Select industry"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"technology",children:"Technology"}),d.jsx(le,{value:"healthcare",children:"Healthcare"}),d.jsx(le,{value:"finance",children:"Finance"}),d.jsx(le,{value:"retail",children:"Retail"}),d.jsx(le,{value:"manufacturing",children:"Manufacturing"}),d.jsx(le,{value:"education",children:"Education"}),d.jsx(le,{value:"real-estate",children:"Real Estate"}),d.jsx(le,{value:"energy",children:"Energy"}),d.jsx(le,{value:"transportation",children:"Transportation"}),d.jsx(le,{value:"media",children:"Media"}),d.jsx(le,{value:"advertising",children:"Advertising"}),d.jsx(le,{value:"other",children:"Other"})]})]}):d.jsx("p",{className:"text-sm capitalize",children:s||"Not specified"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Website"}),a?d.jsx(Ce,{type:"url",value:l,onChange:p=>c(p.target.value),placeholder:"Enter website URL",className:"w-full"}):d.jsx("p",{className:"text-sm",children:l?d.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:l}):"Not specified"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Type"}),a?d.jsxs(Dr,{value:u,onValueChange:f,children:[d.jsx(wr,{className:"w-full",children:d.jsx(Lr,{placeholder:"Select type"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"business",children:"Business"}),d.jsx(le,{value:"individual",children:"Individual"}),d.jsx(le,{value:"government",children:"Government"}),d.jsx(le,{value:"non-profit",children:"Non-Profit"})]})]}):d.jsx("p",{className:"text-sm capitalize",children:u})]})]})]})},Ere=({annualRevenue:t,annualRevenueSignedOff:e,annualRevenueForecast:r})=>{const n=typeof e=="number"&&!isNaN(e)?e:0,a=typeof r=="number"&&!isNaN(r)?r:0,i=n+a;return $.info("AnnualRevenueMetric rendering with values:",{annualRevenue:t,annualRevenueSignedOff:n,annualRevenueForecast:a,totalRevenue:i}),d.jsxs("div",{className:"p-4 bg-blue-50/50 rounded-lg transition-all duration-300 hover:bg-blue-50",children:[d.jsx("p",{className:"text-lg text-blue-600 font-medium",children:"Annual Revenue"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["$",i.toLocaleString()]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-sm text-blue-500",children:["Actual: $",n.toLocaleString()]}),d.jsxs("p",{className:"text-sm text-blue-500",children:["Forecast: $",a.toLocaleString()]})]})]})},Tre=({likelihood:t,clientId:e})=>{const[r,n]=b.useState(!1),[a,i]=b.useState((t==null?void 0:t.toString())||""),s=it(),o=async()=>{const l=parseFloat(a);if(isNaN(l)||l<0||l>100){ne({title:"Invalid value",description:"Please enter a number between 0 and 100",variant:"destructive"});return}try{const{error:c}=await ae.from("clients").update({likelihood:l}).eq("id",e);if(c)throw c;await s.invalidateQueries({queryKey:["client",e]}),ne({title:"Success",description:"Deal likelihood updated successfully"}),n(!1)}catch(c){$.error("Error updating likelihood:",c),ne({title:"Error",description:"Failed to update deal likelihood",variant:"destructive"})}};return b.useEffect(()=>{i((t==null?void 0:t.toString())||"")},[t]),r?d.jsx("div",{className:"p-4 bg-primary/5 rounded-lg transition-all duration-300 hover:bg-primary/10",children:d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx("p",{className:"text-sm text-primary font-medium",children:"Deal Likelihood"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ce,{type:"number",min:"0",max:"100",value:a,onChange:l=>i(l.target.value),className:"w-24"}),d.jsx("span",{className:"text-sm text-gray-500",children:"%"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(J,{size:"sm",onClick:o,children:"Save"}),d.jsx(J,{size:"sm",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})]})}):d.jsx("div",{className:"p-4 bg-primary/5 rounded-lg transition-all duration-300 hover:bg-primary/10 cursor-pointer",onClick:()=>n(!0),children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("p",{className:"text-sm text-primary font-medium",children:"Deal Likelihood"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm ${t&&t>70?"bg-green-100 text-green-800":t&&t>30?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t?`${t}%`:"N/A"})]})})},Pre=({revenueData:t})=>{$.info("Revenue chart rendering with data:",t);const e=Array.isArray(t)?t:[],r=e.some(a=>a.actual>0||a.forecast>0),n=a=>`$${a.toLocaleString()}`;return r?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"})}),d.jsx("div",{className:"h-[300px] bg-white p-4 rounded-lg",children:d.jsx(wj,{width:"100%",height:"100%",children:d.jsxs($O,{data:e,margin:{top:20,right:30,left:65,bottom:20},children:[d.jsx(Hg,{strokeDasharray:"3 3"}),d.jsx(nc,{dataKey:"month",angle:-45,textAnchor:"end",height:60,tickMargin:20}),d.jsx(ac,{tickFormatter:n,width:80}),d.jsx(dr,{formatter:a=>[`$${Number(a).toLocaleString()}`,""],labelFormatter:a=>`Month: ${a}`,contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"8px"}}),d.jsx(Ma,{verticalAlign:"top",height:36}),d.jsx(Vr,{dataKey:"actual",fill:"#1A1F2C",name:"Actual Revenue",minPointSize:3,radius:[4,4,0,0]}),d.jsx(Vr,{dataKey:"forecast",fill:"#8884d8",name:"Forecast Revenue",minPointSize:3,radius:[4,4,0,0]})]})})})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"})}),d.jsx("div",{className:"h-[300px] bg-white p-4 rounded-lg flex items-center justify-center",children:d.jsx("p",{className:"text-gray-500",children:"No revenue data available"})})]})};function Are(t){const e=it(),{data:r,isLoading:n}=rr({queryKey:["client-forecasts",t],queryFn:async()=>{$.info("Fetching forecasts for client:",t);const{data:s,error:o}=await ae.from("client_forecasts").select("*").eq("client_id",t).order("month");if(o)throw o;return s}}),a=po({mutationFn:async({month:s,amount:o,isActual:l})=>{$.info("Updating revenue:",{clientId:t,month:s,amount:o,isActual:l});const c=Kn(P4(s),"MMM").toLowerCase(),f=`${l?"actual":"forecast"}_${c}`,{error:h}=await ae.from("clients").update({[f]:o}).eq("id",t);if(h)throw h;const{data:p,error:v}=await ae.from("clients").select("*").eq("id",t).single();if(v)throw v;const m=Object.entries(p).filter(([y])=>y.startsWith("forecast_")).reduce((y,[S,x])=>y+(Number(x)||0),0),g=Object.entries(p).filter(([y])=>y.startsWith("actual_")).reduce((y,[S,x])=>y+(Number(x)||0),0),{error:w}=await ae.from("clients").update({annual_revenue_forecast:m,annual_revenue_signed_off:g}).eq("id",t);if(w)throw w;return{totalForecast:m,totalActual:g}},onSuccess:()=>{e.invalidateQueries({queryKey:["client-forecasts",t]}),e.invalidateQueries({queryKey:["client",t]}),ne({title:"Success",description:"Revenue updated successfully"})},onError:s=>{$.error("Error updating revenue:",s),ne({title:"Error",description:"Failed to update revenue",variant:"destructive"})}}),i=(r==null?void 0:r.reduce((s,o)=>s+Number(o.amount),0))||0;return{forecasts:r,isLoading:n,updateForecast:a,totalForecast:i}}const kre=({clientId:t})=>{const e=it(),{updateForecast:r}=Are(t),[n,a]=b.useState(!1),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=new Date().getFullYear(),[o,l]=b.useState(()=>i.reduce((f,h)=>({...f,[h.toLowerCase()]:{forecast:0,actual:0}}),{}));b.useEffect(()=>{n&&(async()=>{try{const{data:h,error:p}=await ae.from("clients").select("*").eq("id",t).single();if(p)throw p;$.info("Fetched client data for revenue editing:",h);const v={...o};i.forEach(m=>{const g=m.toLowerCase();v[g]={forecast:h[`forecast_${g}`]||0,actual:h[`actual_${g}`]||0}}),l(v)}catch(h){$.error("Error fetching client data for revenue editor:",h)}})()},[n,t]);const c=(f,h,p)=>{const v=p===""?0:parseInt(p,10);l(m=>({...m,[f.toLowerCase()]:{...m[f.toLowerCase()],[h]:v}}))},u=async()=>{try{$.info("Submitting monthly revenue data:",o);for(const[f,h]of Object.entries(o)){const p=new Date(`${s}-${i.findIndex(v=>v.toLowerCase()===f)+1}-01`);await r.mutate({month:Kn(p,"yyyy-MM-dd"),amount:Math.round(h.forecast),isActual:!1}),await r.mutate({month:Kn(p,"yyyy-MM-dd"),amount:Math.round(h.actual),isActual:!0})}e.invalidateQueries({queryKey:["monthly-revenue"]}),e.invalidateQueries({queryKey:["client",t]}),a(!1)}catch(f){$.error("Error updating revenue:",f)}};return n?d.jsxs(ot,{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Editor"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Vg,{children:[d.jsx(Gg,{children:d.jsxs(hl,{children:[d.jsx(Oi,{children:"Month"}),d.jsx(Oi,{children:"Forecast ($)"}),d.jsx(Oi,{children:"Actual ($)"})]})}),d.jsx(Kg,{children:i.map(f=>d.jsxs(hl,{children:[d.jsx(Ci,{children:f}),d.jsx(Ci,{children:d.jsx(Ce,{type:"number",value:o[f.toLowerCase()].forecast,onChange:h=>c(f,"forecast",h.target.value),className:"w-full",placeholder:"Enter forecast",min:"0",step:"1"})}),d.jsx(Ci,{children:d.jsx(Ce,{type:"number",value:o[f.toLowerCase()].actual,onChange:h=>c(f,"actual",h.target.value),className:"w-full",placeholder:"Enter actual",min:"0",step:"1"})})]},f))})]})}),d.jsxs("div",{className:"mt-4 flex gap-2",children:[d.jsx(J,{variant:"outline",onClick:()=>a(!1),className:"w-full",children:"Cancel"}),d.jsx(J,{onClick:u,className:"w-full",disabled:r.isPending,children:r.isPending?"Saving...":"Save All Changes"})]})]}):d.jsx(ot,{className:"p-4",children:d.jsx(J,{onClick:()=>a(!0),className:"w-full",children:"Update Revenue"})})},Nre=({annualRevenue:t,likelihood:e,revenueData:r,annualRevenueSignedOff:n,annualRevenueForecast:a,clientId:i})=>{$.info("KeyMetricsCard rendering with:"),$.info("  - revenueData:",r),$.info("  - annualRevenueSignedOff:",n),$.info("  - annualRevenueForecast:",a);const s=Array.isArray(r)?r:[],o=typeof n=="number"&&!isNaN(n)?n:0,l=typeof a=="number"&&!isNaN(a)?a:0;return d.jsxs(ot,{className:"col-span-1 lg:col-span-12 p-6",children:[d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsx(Ere,{annualRevenue:t,annualRevenueSignedOff:o,annualRevenueForecast:l}),d.jsx(Tre,{likelihood:e,clientId:i})]}),d.jsxs("div",{className:"mt-6 grid gap-6 md:grid-cols-2",children:[d.jsx("div",{className:"col-span-2",children:d.jsx(Pre,{revenueData:s})}),d.jsx("div",{className:"col-span-2",children:d.jsx(kre,{clientId:i})})]})]})},$re=(t,e)=>{const r=it(),n=t?parseInt(t,10):void 0;if(!n||isNaN(n))throw new Error("Invalid client ID");return po({mutationFn:async({formData:a,contacts:i})=>{$.info("Updating client with contacts:",i);const{primaryContact:s,additionalContacts:o}=i!=null&&i.length?Mre(i):{primaryContact:null,additionalContacts:null},l={...a,name:a.name,contact_name:s?`${s.firstName} ${s.lastName}`.trim():a.contact_name,contact_email:(s==null?void 0:s.email)||a.contact_email,contact_phone:(s==null?void 0:s.phone)||a.contact_phone,additional_contacts:o||a.additional_contacts};$.info("Updating client with data:",l);const{error:c,data:u}=await ae.from("clients").update(l).eq("id",n).select().single();if(c)throw c;return u},onMutate:async a=>{await r.cancelQueries({queryKey:["client",n]});const i=r.getQueryData(["client",n]);return r.setQueryData(["client",n],s=>({...s,...a.formData})),{previousClient:i}},onError:(a,i,s)=>{$.error("Error updating client:",a),s!=null&&s.previousClient&&r.setQueryData(["client",n],s.previousClient),ne({title:"Error",description:"Failed to update client",variant:"destructive"})},onSuccess:a=>{r.setQueryData(["client",n],a),r.invalidateQueries({queryKey:["client",n]}),r.invalidateQueries({queryKey:["clients"]}),ne({title:"Success",description:"Client updated successfully"}),e&&e()}})},Mre=t=>{if(!Array.isArray(t)||t.length===0)return{primaryContact:null,additionalContacts:null};const[e,...r]=t;return{primaryContact:e,additionalContacts:r.length>0?r:null}},Ire=({editedName:t,editedTitle:e,editedSize:r,editedEmail:n,editedPhone:a,editedAddress:i,onNameChange:s,onTitleChange:o,onSizeChange:l,onEmailChange:c,onPhoneChange:u,onAddressChange:f,onSave:h,onCancel:p})=>d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Contact Name"}),d.jsx(Ce,{value:t,onChange:v=>s(v.target.value),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Title"}),d.jsx(Ce,{value:e,onChange:v=>o(v.target.value),className:"mt-1",placeholder:"Enter title"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Company Size"}),d.jsx(Ce,{value:r,onChange:v=>l(v.target.value),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Email"}),d.jsx(Ce,{type:"email",value:n,onChange:v=>c(v.target.value),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Phone"}),d.jsx(Ce,{type:"tel",value:a,onChange:v=>u(v.target.value),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Address"}),d.jsx(Ce,{value:i,onChange:v=>f(v.target.value),className:"mt-1",placeholder:"Enter address"})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx(J,{onClick:h,className:"w-full",children:"Save Changes"}),d.jsx(J,{variant:"outline",onClick:p,className:"w-full",children:"Cancel"})]})]}),Rre=({contactName:t,title:e,companySize:r,contactEmail:n,contactPhone:a,address:i})=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-medium text-gray-900",children:t||"No contact name"}),d.jsx("p",{className:"text-sm text-gray-500",children:e||"Title not specified"}),d.jsx("p",{className:"text-sm text-gray-500",children:r||"Company size not specified"}),d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(x1,{size:14,className:"mr-2"}),n||"No email provided"]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(w1,{size:14,className:"mr-2"}),a||"No phone provided"]}),d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:i||"No address provided"})]})]}),Dre=({newContact:t,onContactChange:e,onAdd:r,onCancel:n})=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Add New Contact"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"First Name*"}),d.jsx(Ce,{value:t.firstName,onChange:a=>e({...t,firstName:a.target.value}),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Last Name*"}),d.jsx(Ce,{value:t.lastName,onChange:a=>e({...t,lastName:a.target.value}),className:"mt-1"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Title"}),d.jsx(Ce,{value:t.title,onChange:a=>e({...t,title:a.target.value}),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Email"}),d.jsx(Ce,{type:"email",value:t.email,onChange:a=>e({...t,email:a.target.value}),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Phone"}),d.jsx(Ce,{type:"tel",value:t.phone,onChange:a=>e({...t,phone:a.target.value}),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500",children:"Address"}),d.jsx(Ce,{value:t.address,onChange:a=>e({...t,address:a.target.value}),className:"mt-1"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(J,{onClick:r,className:"w-full",children:"Add Contact"}),d.jsx(J,{variant:"outline",onClick:n,className:"w-full",children:"Cancel"})]})]}),Lre=({contacts:t,onRemoveContact:e})=>d.jsx(d.Fragment,{children:t.map((r,n)=>d.jsxs("div",{className:"p-4 border border-gray-100 rounded-lg hover:border-primary/20 hover:shadow-sm transition-all duration-300",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:`${r.firstName} ${r.lastName}`||"No contact name"}),d.jsx("p",{className:"text-sm text-gray-500",children:r.title||"Title not specified"})]}),d.jsx("div",{className:"flex gap-2",children:d.jsx(J,{variant:"ghost",size:"icon",onClick:()=>e(n),className:"h-8 w-8",children:d.jsx(sd,{className:"h-4 w-4"})})})]}),d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(x1,{size:14,className:"mr-2"}),r.email||"No email provided"]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(w1,{size:14,className:"mr-2"}),r.phone||"No phone provided"]}),d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.address||"No address provided"})]})]},n))}),Bre=({contactName:t,companySize:e,contactEmail:r,contactPhone:n,additionalContacts:a=[],clientId:i})=>{const[s,o]=b.useState(!1),[l,c]=b.useState(t||""),[u,f]=b.useState(e||""),[h,p]=b.useState(r||""),[v,m]=b.useState(n||""),[g,w]=b.useState(""),[y,S]=b.useState(""),[x,_]=b.useState(a||[]),[j,C]=b.useState(!1),[E,A]=b.useState({firstName:"",lastName:"",title:"",email:"",address:"",phone:""}),P=$re(i.toString(),()=>{o(!1),C(!1),ne({title:"Success",description:"Contact information updated successfully"})}),T=()=>{const M={firstName:l.split(" ")[0]||"",lastName:l.split(" ").slice(1).join(" ")||"",title:g,email:h,phone:v,address:y};P.mutate({formData:{contact_name:l,company_size:u,contact_email:h,contact_phone:v},contacts:[M,...x]})},N=()=>{if(!E.firstName||!E.lastName){ne({title:"Error",description:"First name and last name are required",variant:"destructive"});return}const M=[...x,E];_(M),P.mutate({formData:{additional_contacts:M},contacts:[{firstName:l.split(" ")[0]||"",lastName:l.split(" ").slice(1).join(" ")||"",title:g,email:h,phone:v,address:y},...M]}),A({firstName:"",lastName:"",title:"",email:"",address:"",phone:""}),C(!1)},D=M=>{const R=x.filter((I,B)=>B!==M);_(R),P.mutate({formData:{additional_contacts:R},contacts:[{firstName:l.split(" ")[0]||"",lastName:l.split(" ").slice(1).join(" ")||"",title:g,email:h,phone:v,address:y},...R]})};return d.jsxs(ot,{className:"col-span-12 transition-all duration-300 hover:shadow-lg",children:[d.jsxs(yr,{className:"flex flex-row items-center justify-between",children:[d.jsx(br,{className:"text-lg font-medium",children:"Contact Information"}),!s&&d.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"ml-auto",children:[d.jsx(Pm,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),d.jsx(xr,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{className:"p-4 border border-gray-100 rounded-lg hover:border-primary/20 hover:shadow-sm transition-all duration-300",children:d.jsx("div",{className:"flex items-start justify-between",children:d.jsx("div",{className:"space-y-4 w-full",children:s?d.jsx(Ire,{editedName:l,editedTitle:g,editedSize:u,editedEmail:h,editedPhone:v,editedAddress:y,onNameChange:c,onTitleChange:w,onSizeChange:f,onEmailChange:p,onPhoneChange:m,onAddressChange:S,onSave:T,onCancel:()=>o(!1)}):d.jsx(Rre,{contactName:t,title:g,companySize:e,contactEmail:r,contactPhone:n,address:y})})})}),d.jsx(Lre,{contacts:x,onRemoveContact:D}),j?d.jsx(Dre,{newContact:E,onContactChange:A,onAdd:N,onCancel:()=>C(!1)}):d.jsxs(J,{variant:"outline",onClick:()=>C(!0),className:"h-[200px] w-full flex items-center justify-center border-dashed",children:[d.jsx(Es,{className:"mr-2 h-4 w-4"}),"Add Contact"]})]})})]})},Fre=({status:t,notes:e,isSubmitting:r,onStatusChange:n,onNotesChange:a,onSubmit:i})=>d.jsxs("form",{onSubmit:i,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Dr,{value:t,onValueChange:n,children:[d.jsx(wr,{children:d.jsx(Lr,{placeholder:"Select status"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"active",children:"Active"}),d.jsx(le,{value:"inactive",children:"Inactive"}),d.jsx(le,{value:"pending",children:"Pending"}),d.jsx(le,{value:"completed",children:"Completed"})]})]}),d.jsx(Cs,{value:e,onChange:s=>a(s.target.value),placeholder:"Add any relevant notes about this status change...",className:"min-h-[100px]"})]}),d.jsx(J,{type:"submit",disabled:r||!t,children:r?"Updating...":"Update Status"})]}),Ure=({status:t})=>{const e=r=>{switch(r.toLowerCase()){case"active":return"default";case"inactive":return"secondary";case"pending":return"secondary";case"completed":return"default";default:return"secondary"}};return d.jsx(ko,{variant:e(t),children:t||"Not Set"})},zre=t=>t?t.split(/\n\n+/).map(r=>r.split(/\n/).map(n=>n.trim()).filter(Boolean).join(" ")).join(`

`):"",qre=({history:t})=>d.jsxs("div",{className:"space-y-4",children:[t==null?void 0:t.map(e=>d.jsxs("div",{className:"mb-4 last:mb-0 border-b last:border-0 pb-4 last:pb-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx(Ure,{status:e.status}),d.jsxs("span",{className:"text-xs text-gray-500",children:[new Date(e.created_at).toLocaleDateString()," ",new Date(e.created_at).toLocaleTimeString()]})]}),e.notes&&d.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:zre(e.notes)})]},e.id)),(t==null?void 0:t.length)===0&&d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No status history available"})]}),Wre=({clientId:t,currentStatus:e})=>{var g;const[r,n]=b.useState(e||""),[a,i]=b.useState(""),[s,o]=b.useState(!1),[l,c]=b.useState(!1),{toast:u}=Fl(),f=it(),{data:h}=rr({queryKey:["statusHistory",t],queryFn:async()=>{const{data:w,error:y}=await ae.from("client_status_history").select("*").eq("client_id",t).order("created_at",{ascending:!1});if(y)throw y;return w}}),p=((g=h==null?void 0:h[0])==null?void 0:g.notes)||"",v=async w=>{o(!0);let y=null;try{y=f.getQueryData(["client",t]),f.setQueryData(["client",t],j=>({...j,status:w}));const{error:S}=await ae.from("client_status_history").insert({client_id:t,status:w,notes:`Status changed to ${w}`});if(S)throw S;const{error:x,data:_}=await ae.from("clients").update({status:w}).eq("id",t).select().single();if(x)throw x;f.setQueryData(["client",t],_),n(w),u({title:"Status Updated",description:"The client's status has been successfully updated."}),f.invalidateQueries({queryKey:["client",t]}),f.invalidateQueries({queryKey:["statusHistory",t]}),f.invalidateQueries({queryKey:["clients"]})}catch(S){$.error("Error updating status:",S),y&&f.setQueryData(["client",t],y),u({title:"Error",description:"Failed to update status. Please try again.",variant:"destructive"})}finally{o(!1)}},m=async w=>{w.preventDefault(),o(!0);let y=null;try{y=f.getQueryData(["client",t]),f.setQueryData(["client",t],j=>({...j,status:r}));const{error:S}=await ae.from("client_status_history").insert({client_id:t,status:r,notes:a});if(S)throw S;const{error:x,data:_}=await ae.from("clients").update({status:r}).eq("id",t).select().single();if(x)throw x;f.setQueryData(["client",t],_),u({title:"Status Updated",description:"The client's status has been successfully updated."}),i(""),c(!1),f.invalidateQueries({queryKey:["client",t]}),f.invalidateQueries({queryKey:["statusHistory",t]}),f.invalidateQueries({queryKey:["clients"]})}catch(S){$.error("Error updating status:",S),y&&f.setQueryData(["client",t],y),u({title:"Error",description:"Failed to update status. Please try again.",variant:"destructive"})}finally{o(!1)}};return d.jsxs("div",{className:"space-y-6 bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex flex-col space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Status"}),d.jsxs(Dr,{value:e||"",onValueChange:v,disabled:s,children:[d.jsx(wr,{className:"w-[180px]",children:d.jsx(Lr,{placeholder:"Select status"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"active",children:"Active"}),d.jsx(le,{value:"inactive",children:"Inactive"}),d.jsx(le,{value:"pending",children:"Pending"}),d.jsx(le,{value:"completed",children:"Completed"})]})]})]}),p&&d.jsx("div",{className:"text-sm text-gray-600",children:p})]}),l?d.jsx(Fre,{status:r,notes:a,isSubmitting:s,onStatusChange:n,onNotesChange:i,onSubmit:m}):d.jsx(J,{variant:"outline",onClick:()=>c(!0),className:"mt-4",children:"Add Status Note"}),d.jsxs(fd,{children:[d.jsx(D_,{asChild:!0,children:d.jsxs(J,{variant:"outline",className:"w-full",children:[d.jsx(b1,{className:"mr-2 h-4 w-4"}),"View Status History"]})}),d.jsxs(Kl,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[d.jsx(Im,{children:d.jsx(Rm,{children:"Status History"})}),d.jsx("div",{className:"mt-6",children:d.jsx(qre,{history:h||[]})})]})]})]})},Hre=({clientId:t})=>{const{data:e,isLoading:r}=rr({queryKey:["task-history",t],queryFn:async()=>{$.info("Fetching task history for client:",t);const{data:n,error:a}=await ae.from("next_steps_history").select("*, profiles(full_name), clients(name)").eq("client_id",t).order("created_at",{ascending:!1});if(a)throw $.error("Error fetching history:",a),a;return $.info("Fetched history data:",n),n}});return d.jsxs(fd,{children:[d.jsx(D_,{asChild:!0,children:d.jsxs(J,{variant:"outline",className:"w-full",children:[d.jsx(b1,{className:"mr-2 h-4 w-4"}),"View Task History"]})}),d.jsxs(Kl,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[d.jsx(Im,{children:d.jsx(Rm,{children:"Task History"})}),d.jsx(Jg,{className:"h-[400px] pr-4",children:r?d.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading..."}):e&&e.length>0?d.jsx("div",{className:"space-y-4",children:e.map(n=>{var a;return d.jsx(ot,{className:"p-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("div",{className:"text-sm text-gray-500",children:Kn(new Date(n.created_at),"MMM d, yyyy h:mm a")}),d.jsx("div",{className:"text-sm font-medium text-gray-600",children:((a=n.profiles)==null?void 0:a.full_name)||"Unknown user"})]}),d.jsx("div",{className:"text-sm",children:n.notes||"No notes"}),n.due_date&&d.jsxs("div",{className:"text-sm text-gray-500",children:["Due date: ",Kn(new Date(n.due_date),"MMM d, yyyy")]}),n.completed_at&&d.jsxs("div",{className:"text-sm text-green-600",children:["Completed: ",Kn(new Date(n.completed_at),"MMM d, yyyy h:mm a")]})]})},n.id)})}):d.jsx("div",{className:"text-center text-gray-500 py-8",children:"No history available"})})]})]})},Vre=({clientId:t})=>{const[e,r]=b.useState(!1),[n,a]=b.useState(""),[i,s]=b.useState(""),[o,l]=b.useState(!1),c=it(),u=async f=>{f.preventDefault();try{const{data:{user:h}}=await ae.auth.getUser();if(!h)throw new Error("No authenticated user found");const{data:p,error:v}=await ae.from("profiles").select("id").eq("id",h.id).single();if(v||!p)throw $.error("Error fetching profile:",v),new Error("Could not find user profile");const{error:m}=await ae.from("client_next_steps").insert({client_id:t,notes:n,due_date:i||null,urgent:o,created_by:p.id,category:"general"});if(m){$.error("Error adding next step:",m),ne({title:"Error",description:"Failed to add next step: "+m.message,variant:"destructive"});return}if(o){const{error:g}=await ae.from("clients").update({urgent:!0}).eq("id",t);g&&$.error("Error updating client urgent status:",g)}ne({title:"Success",description:"Next step added successfully"}),c.invalidateQueries({queryKey:["client-items",t]}),c.invalidateQueries({queryKey:["next-steps-history"]}),c.invalidateQueries({queryKey:["client"]}),c.invalidateQueries({queryKey:["unified-tasks"]}),a(""),s(""),l(!1),r(!1)}catch(h){$.error("Error adding next step:",h),ne({title:"Error",description:"Failed to add next step. Please try again.",variant:"destructive"})}};return d.jsxs(To,{open:e,onOpenChange:r,children:[d.jsx(aN,{asChild:!0,children:d.jsx(J,{variant:"default",size:"sm",children:"Add Next Step"})}),d.jsxs(qi,{className:"sm:max-w-[425px]",children:[d.jsx(Wi,{children:d.jsx(Hi,{children:"Add Next Step"})}),d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(at,{children:"Next Step"}),d.jsx("textarea",{className:"w-full h-24 p-3 rounded-lg border border-gray-200 transition-all duration-300 focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter next step...",value:n,onChange:f=>a(f.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(at,{children:"Due Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ce,{type:"date",value:i,onChange:f=>s(f.target.value),className:"pr-10"}),d.jsx(ad,{className:"absolute right-3 top-2.5 text-gray-400",size:16})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Po,{id:"urgent",checked:o,onCheckedChange:l}),d.jsx(at,{htmlFor:"urgent",children:"Mark as Urgent"})]}),d.jsx(J,{type:"submit",className:"w-full",children:"Add Step"})]})]})]})},Gre=({clientId:t,background:e})=>{const[r,n]=b.useState(!1),[a,i]=b.useState(e||""),s=it(),o=async()=>{try{const{error:c}=await ae.from("clients").update({background:a}).eq("id",t);if(c)throw c;await s.invalidateQueries({queryKey:["client",t]}),ne({title:"Success",description:"Background updated successfully"}),n(!1)}catch(c){$.error("Error updating background:",c),ne({title:"Error",description:"Failed to update background",variant:"destructive"})}},l=c=>c?c.split(/\n\n+/).map(f=>f.split(/\n/).map(h=>h.trim()).filter(h=>h.length>0).join(`
`)).filter(f=>f.length>0).join(`

`):"";return d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Background"}),r?d.jsxs(J,{variant:"default",size:"sm",onClick:o,children:[d.jsx(_1,{className:"h-4 w-4 mr-2"}),"Save"]}):d.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>n(!0),children:[d.jsx(Pm,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),r?d.jsx(Cs,{value:a,onChange:c=>i(c.target.value),className:"min-h-[150px] mb-4",placeholder:"Enter client background information..."}):d.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:l(e||"No background information available.")})]})},Kre=()=>{const{invalidateTaskQueries:t}=rf(),[e,r]=b.useState(!1);return{handleCompletedChange:async(a,i)=>{if(e)return $.info("Already processing a completion change, ignoring request"),!1;try{r(!0),$.info(`Updating item (${a.type}:${a.data.id}) completed status to: ${i}`);const s=new Date().toISOString(),o=a.data.id,l=a.data.client_id,{error:c}=await ae.from("tasks").update({status:i?"completed":"incomplete",updated_at:s}).eq("id",o);if(c)throw $.error(`Error updating completion status at ${s}:`,c),c;return $.info(`Successfully updated completion status at ${s}`),await t(),ne({title:i?"Task Completed":"Task Reopened",description:i?"Task has been marked as completed":"Task has been reopened"}),!0}catch(s){return $.error("Error updating completion status:",s),ne({title:"Error",description:"Failed to update completion status",variant:"destructive"}),!1}finally{r(!1)}},isProcessing:e}},Yre=()=>{const{invalidateTaskQueries:t}=rf();return{handleUrgentChange:async(r,n)=>{try{const a=new Date().toISOString(),i=r.data.id,s=r.data.client_id;$.info(`Updating urgency for ${r.type}:${i} to ${n} at ${a}`);const{error:o}=await ae.from("tasks").update({urgent:n,updated_at:a}).eq("id",i);if(o)throw $.error(`Error updating urgent status at ${a}:`,o),o;return $.info(`Successfully updated urgency at ${a}`),await t(),setTimeout(async()=>{await t()},500),!0}catch(a){return $.error("Error updating urgent status:",a),ne({title:"Error",description:"Failed to update urgent status",variant:"destructive"}),!1}}}},Qre=()=>{const[t,e]=b.useState(!1),r=it(),{deleteTask:n}=I_(async()=>{$.info("[ITEM_DELETION] Task deleted successfully - refreshing data"),r.removeQueries({queryKey:Fe.tasks.unified()}),r.removeQueries({queryKey:["tasks"]}),r.removeQueries({queryKey:Fe.tasks.clientItems(null)}),await Promise.all([r.refetchQueries({queryKey:Fe.tasks.clientItems(null)}),r.refetchQueries({queryKey:Fe.tasks.unified()}),r.refetchQueries({queryKey:["tasks"]})])});return{handleDelete:async i=>{if(t)return!1;e(!0);try{const s=i.data.id;$.info(`[ITEM_DELETION] Deleting item ${i.type}:${s}`);const o={id:String(s)};if(!await n(o))throw new Error(`Failed to delete ${i.type}.`);return i.data.client_id&&await Promise.all([r.refetchQueries({queryKey:Fe.clients.detail(i.data.client_id)}),r.refetchQueries({queryKey:Fe.tasks.clientItems(i.data.client_id)})]),!0}catch(s){return $.error("[ITEM_DELETION] Error deleting item:",s),ne({title:"Error",description:`Failed to delete item: ${s.message}`,variant:"destructive"}),!1}finally{e(!1)}},isDeleting:t}},Zre=()=>{const{handleCompletedChange:t}=Kre(),{handleUrgentChange:e}=Yre(),{handleDelete:r}=Qre(),{invalidateTaskQueries:n}=rf();return{handleCompletedChange:t,handleUrgentChange:e,handleDelete:r,refreshAllTaskData:n}},Xre=({items:t,isLoading:e})=>{const{handleCompletedChange:r,handleDelete:n}=Zre(),a=it(),[i,s]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(!1);if(e)return d.jsx("div",{children:"Loading items..."});const f=async m=>{try{const g={type:"task",data:{id:m.id,client_id:m.client_id||null,title:m.title||"",description:m.description||"",category:m.category||"general",status:"incomplete",due_date:m.dueDate,urgent:m.urgent||!1,created_at:m.created_at,updated_at:m.updated_at,created_by:m.created_by,updated_by:m.updated_by}};await r(g,!0),a.invalidateQueries({queryKey:["client-items"]}),a.invalidateQueries({queryKey:["generalTasks"]}),a.invalidateQueries({queryKey:["tasks"]}),ne({title:"Task completed",description:"The task has been marked as complete."})}catch(g){$.error("Error completing item:",g),ne({title:"Error",description:"Failed to complete the item. Please try again.",variant:"destructive"})}},h=m=>{s(m.id),l(!0)},p=async()=>{if(!(!i||c)){u(!0);try{const m=t.find(y=>y.id===i);if(!m)throw new Error("Item not found");const g={type:"task",data:{id:m.id,client_id:m.client_id||null,title:m.title||"",description:m.description||"",category:m.category||"general",status:"incomplete",due_date:m.dueDate,urgent:m.urgent||!1,created_at:m.created_at,updated_at:m.updated_at,created_by:m.created_by,updated_by:m.updated_by}};if($.info("Deleting task item:",g),await n(g))a.invalidateQueries({queryKey:["client-items"]}),a.invalidateQueries({queryKey:["generalTasks"]}),a.invalidateQueries({queryKey:["tasks"]}),ne({title:"Task deleted",description:"The task has been deleted successfully."});else throw new Error("Failed to delete task")}catch(m){$.error("Error deleting item:",m),ne({title:"Error",description:"Failed to delete the item. Please try again.",variant:"destructive"})}finally{u(!1),l(!1),s(null)}}},v=()=>{l(!1),s(null)};return d.jsxs("div",{className:"space-y-4",children:[t.length===0&&d.jsx("div",{className:"text-center text-gray-500 py-4",children:"No due items found for this client."}),t.map(m=>d.jsx(ot,{className:"p-4",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ko,{variant:m.urgent?"destructive":"secondary",children:"Task"}),m.urgent&&d.jsx(ko,{variant:"destructive",children:"Urgent"})]}),d.jsx("h4",{className:"font-medium",children:m.title}),m.description&&d.jsx("p",{className:"text-sm text-gray-500",children:m.description})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[d.jsx(zk,{className:"h-4 w-4 mr-1"}),new Date(m.dueDate).toLocaleDateString()]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(J,{variant:"ghost",size:"icon",onClick:()=>f(m),className:"h-8 w-8 text-green-600 hover:text-green-700 hover:bg-green-50",children:d.jsx(id,{className:"h-4 w-4"})}),d.jsx(J,{variant:"ghost",size:"icon",onClick:()=>h(m),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:d.jsx(Am,{className:"h-4 w-4"})})]})]})]})},`${m.type}-${m.id}`)),d.jsx(dd,{open:o,onOpenChange:l,children:d.jsxs(Ul,{children:[d.jsxs(zl,{children:[d.jsx(Wl,{children:"Are you sure?"}),d.jsx(Hl,{children:"This will permanently delete this task. You cannot undo this action."})]}),d.jsxs(ql,{children:[d.jsx(Gl,{onClick:v,children:"Cancel"}),d.jsx(Vl,{onClick:p,className:"bg-red-500 hover:bg-red-600",disabled:c,children:c?"Deleting...":"Delete"})]})]})})]})},Jre=t=>{if(!t)return $.info("No client data provided to useRevenueCalculations"),{revenueData:[],totalActualRevenue:0,totalForecastRevenue:0};$.info("Processing client data for revenue calculations:",t);const r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(i=>{const s=i.toLowerCase(),o=`actual_${s}`,l=`forecast_${s}`,c=t[o]!==null&&t[o]!==void 0?Number(t[o]):0,u=t[l]!==null&&t[l]!==void 0?Number(t[l]):0;return{month:i,actual:c,forecast:u}}),n=r.reduce((i,s)=>i+s.actual,0),a=r.reduce((i,s)=>i+s.forecast,0);return $.info("Revenue data calculated:",{revenueData:r,totalActualRevenue:n,totalForecastRevenue:a}),{revenueData:r,totalActualRevenue:n,totalForecastRevenue:a}},ene=({client:t,isEditing:e,parsedAdditionalContacts:r})=>{$.info("ClientContent rendering with client data:",t);const{revenueData:n,totalActualRevenue:a,totalForecastRevenue:i}=Jre(t),s=(t==null?void 0:t.annual_revenue_signed_off)??a??0,o=(t==null?void 0:t.annual_revenue_forecast)??i??0;$.info("Revenue calculation results:",{revenueData:n,totalActualRevenue:a,totalForecastRevenue:i,displayActualRevenue:s,displayForecastRevenue:o,clientAnnualRevenueSignedOff:t==null?void 0:t.annual_revenue_signed_off,clientAnnualRevenueForecast:t==null?void 0:t.annual_revenue_forecast});const{data:l,isLoading:c}=rr({queryKey:["client-items",t.id],queryFn:async()=>{const[f,h,p]=await Promise.all([ae.from("general_tasks").select("*").eq("client_id",t.id).is("status",null).not("next_due_date","is",null).order("next_due_date",{ascending:!0}),ae.from("client_next_steps").select("*").eq("client_id",t.id).is("completed_at",null).not("due_date","is",null).order("due_date",{ascending:!0}),ae.from("recommendations").select("*").eq("client_id",t.id).eq("status","pending").not("due_date","is",null).order("due_date",{ascending:!0})]);return{tasks:f.data||[],nextSteps:h.data||[],ideas:p.data||[]}}}),u=l?[...l.tasks.map(f=>({...f,type:"task",dueDate:f.next_due_date,title:f.title,description:f.description})),...l.nextSteps.map(f=>({...f,type:"next-step",dueDate:f.due_date,notes:f.notes})),...l.ideas.map(f=>({...f,type:"idea",dueDate:f.due_date,description:f.description}))].sort((f,h)=>new Date(f.dueDate).getTime()-new Date(h.dueDate).getTime()):[];return d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),t.type&&d.jsx("p",{className:"text-gray-500 mt-1",children:t.type})]}),d.jsx(Gre,{clientId:t.id,background:t.background}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Next Steps"}),d.jsx(Vre,{clientId:t.id})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-md font-medium mb-4",children:"Due Items"}),d.jsx(Xre,{items:u,isLoading:c})]}),d.jsx(Hre,{clientId:t.id})]}),d.jsx(Wre,{clientId:t.id,currentStatus:t.status}),d.jsx(Bre,{contactName:t.contact_name,companySize:t.company_size,contactEmail:t.contact_email,contactPhone:t.contact_phone,additionalContacts:r,clientId:t.id}),d.jsx(Cre,{industry:t.industry,website:t.website,type:t.type,clientId:t.id}),d.jsx(Nre,{annualRevenue:t.annual_revenue,likelihood:t.likelihood,revenueData:n,annualRevenueSignedOff:s,annualRevenueForecast:o,clientId:t.id})]})},tne=({companyName:t,onCompanyNameChange:e})=>d.jsxs("div",{className:"col-span-2",children:[d.jsx(at,{children:"Company Name"}),d.jsx(Ce,{placeholder:"Enter company name",value:t,onChange:r=>e(r.target.value),className:"transition-all duration-300"})]}),fi=({value:t,onChange:e,placeholder:r,type:n="text"})=>d.jsx(Ce,{placeholder:r,type:n,value:t,onChange:a=>e(a.target.value),className:"transition-all duration-300"}),rne=({contact:t,onContactChange:e,onRemove:r,canRemove:n})=>d.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-background/50",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(fi,{placeholder:"First Name",value:t.firstName,onChange:a=>e("firstName",a)}),d.jsx(fi,{placeholder:"Last Name",value:t.lastName,onChange:a=>e("lastName",a)})]}),d.jsx(fi,{placeholder:"Title/Position",value:t.title,onChange:a=>e("title",a)}),d.jsx(fi,{placeholder:"Email Address",type:"email",value:t.email,onChange:a=>e("email",a)}),d.jsx(fi,{placeholder:"Address",value:t.address,onChange:a=>e("address",a)}),d.jsx(fi,{placeholder:"Phone Number",type:"tel",value:t.phone,onChange:a=>e("phone",a)}),n&&d.jsx(J,{variant:"destructive",onClick:r,className:"w-full transition-all duration-300",children:"Remove Contact"})]}),nne=({contacts:t,onContactsChange:e})=>{const r=()=>{e([...t,{firstName:"",lastName:"",title:"",email:"",address:"",phone:""}])},n=i=>{t.length>1&&e(t.filter((s,o)=>o!==i))},a=(i,s,o)=>{const l=[...t];l[i]={...l[i],[s]:o},e(l)};return d.jsxs("div",{className:"space-y-6",children:[t.map((i,s)=>d.jsx(rne,{contact:i,onContactChange:(o,l)=>a(s,o,l),onRemove:()=>n(s),canRemove:t.length>1},s)),d.jsxs(J,{variant:"outline",onClick:r,className:"w-full transition-all duration-300",children:[d.jsx(Es,{className:"mr-2 h-4 w-4"}),"Add Contact"]})]})},ane=({type:t,industry:e,companySize:r,website:n,background:a,onTypeChange:i,onIndustryChange:s,onCompanySizeChange:o,onWebsiteChange:l,onBackgroundChange:c})=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx(at,{children:"Type"}),d.jsxs(Dr,{value:t,onValueChange:i,children:[d.jsx(wr,{className:"transition-all duration-300",children:d.jsx(Lr,{placeholder:"Select type"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"business",children:"Business"}),d.jsx(le,{value:"individual",children:"Individual"}),d.jsx(le,{value:"government",children:"Government"}),d.jsx(le,{value:"non-profit",children:"Non-Profit"})]})]})]}),d.jsxs("div",{children:[d.jsx(at,{children:"Industry"}),d.jsxs(Dr,{value:e,onValueChange:s,children:[d.jsx(wr,{className:"transition-all duration-300",children:d.jsx(Lr,{placeholder:"Select industry"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"technology",children:"Technology"}),d.jsx(le,{value:"healthcare",children:"Healthcare"}),d.jsx(le,{value:"finance",children:"Finance"}),d.jsx(le,{value:"retail",children:"Retail"}),d.jsx(le,{value:"manufacturing",children:"Manufacturing"}),d.jsx(le,{value:"education",children:"Education"}),d.jsx(le,{value:"real-estate",children:"Real Estate"}),d.jsx(le,{value:"energy",children:"Energy"}),d.jsx(le,{value:"transportation",children:"Transportation"}),d.jsx(le,{value:"media",children:"Media"}),d.jsx(le,{value:"advertising",children:"Advertising"}),d.jsx(le,{value:"other",children:"Other"})]})]})]}),d.jsxs("div",{children:[d.jsx(at,{children:"Company Size"}),d.jsxs(Dr,{value:r,onValueChange:o,children:[d.jsx(wr,{className:"transition-all duration-300",children:d.jsx(Lr,{placeholder:"Select size"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"1-10",children:"1-10 employees"}),d.jsx(le,{value:"11-50",children:"11-50 employees"}),d.jsx(le,{value:"51-200",children:"51-200 employees"}),d.jsx(le,{value:"201-500",children:"201-500 employees"}),d.jsx(le,{value:"501+",children:"501+ employees"})]})]})]}),d.jsxs("div",{children:[d.jsx(at,{children:"Website"}),d.jsx(Ce,{type:"url",placeholder:"Enter website URL",value:n,onChange:u=>l(u.target.value),className:"transition-all duration-300"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(at,{children:"Background"}),d.jsx(Cs,{placeholder:"Enter company background",value:a,onChange:u=>c(u.target.value),className:"transition-all duration-300 min-h-[100px]"})]})]}),ine=({status:t,onStatusChange:e})=>d.jsxs("div",{children:[d.jsx(at,{children:"Status"}),d.jsxs(Dr,{value:t,onValueChange:e,children:[d.jsx(wr,{className:"transition-all duration-300",children:d.jsx(Lr,{placeholder:"Select status"})}),d.jsxs(_r,{children:[d.jsx(le,{value:"prospect",children:"Prospect"}),d.jsx(le,{value:"lead",children:"Lead"}),d.jsx(le,{value:"negotiation",children:"In Negotiation"}),d.jsx(le,{value:"customer",children:"Customer"}),d.jsx(le,{value:"inactive",children:"Inactive"})]})]})]}),sne=({likelihood:t,onLikelihoodChange:e})=>d.jsxs("div",{children:[d.jsx(at,{children:"Likelihood (%)"}),d.jsx(Ce,{type:"number",placeholder:"Enter %",value:t,onChange:r=>e(r.target.value),className:"transition-all duration-300"})]}),one=({status:t,likelihood:e,onStatusChange:r,onLikelihoodChange:n})=>d.jsxs(d.Fragment,{children:[d.jsx(ine,{status:t,onStatusChange:r}),d.jsx(sne,{likelihood:e,onLikelihoodChange:n})]}),lne=({status:t,likelihood:e,type:r,industry:n,companySize:a,website:i,background:s,onStatusChange:o,onLikelihoodChange:l,onTypeChange:c,onIndustryChange:u,onCompanySizeChange:f,onWebsiteChange:h,onBackgroundChange:p})=>d.jsxs(d.Fragment,{children:[d.jsx(ane,{type:r,industry:n,companySize:a,website:i,background:s,onTypeChange:c,onIndustryChange:u,onCompanySizeChange:f,onWebsiteChange:h,onBackgroundChange:p}),d.jsx(one,{status:t,likelihood:e,onStatusChange:o,onLikelihoodChange:l})]}),cne=({projectRevenue:t,annualRevenue:e,projectRevenueSignedOff:r,projectRevenueForecast:n,annualRevenueSignedOff:a,annualRevenueForecast:i,onProjectRevenueChange:s,onAnnualRevenueChange:o,onProjectRevenueSignedOffChange:l,onProjectRevenueForecastChange:c,onAnnualRevenueSignedOffChange:u,onAnnualRevenueForecastChange:f})=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Project Revenue"}),d.jsxs("div",{children:[d.jsx(at,{children:"Amount ($)"}),d.jsx(Ce,{type:"number",placeholder:"Enter project revenue",value:t,onChange:h=>s(h.target.value),className:"transition-all duration-300"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(at,{children:"Signed Off"}),d.jsx(Po,{checked:r,onCheckedChange:l})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(at,{children:"Forecast"}),d.jsx(Po,{checked:n,onCheckedChange:c})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Annual Revenue"}),d.jsxs("div",{children:[d.jsx(at,{children:"Amount ($)"}),d.jsx(Ce,{type:"number",placeholder:"Enter annual revenue",value:e,onChange:h=>o(h.target.value),className:"transition-all duration-300"})]}),d.jsxs("div",{children:[d.jsx(at,{children:"Signed Off Amount ($)"}),d.jsx(Ce,{type:"number",placeholder:"Enter signed off amount",value:a,onChange:h=>u(Number(h.target.value)),className:"transition-all duration-300"})]}),d.jsxs("div",{children:[d.jsx(at,{children:"Forecast Amount ($)"}),d.jsx(Ce,{type:"number",placeholder:"Enter forecast amount",value:i,onChange:h=>f(Number(h.target.value)),className:"transition-all duration-300"})]})]})]}),une=({nextSteps:t,nextDueDate:e,onNextStepsChange:r,onNextDueDateChange:n})=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx(at,{children:"Next Steps"}),d.jsx("textarea",{className:"w-full h-24 p-3 rounded-lg border border-gray-200 transition-all duration-300 focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter next steps...",value:t,onChange:a=>r(a.target.value)})]}),d.jsx("div",{className:"col-span-2",children:d.jsxs("div",{className:"bg-primary/5 p-4 rounded-lg border border-primary/10",children:[d.jsx(at,{className:"text-primary font-medium",children:"Next Step Due Date"}),d.jsxs("div",{className:"relative mt-2",children:[d.jsx(Ce,{type:"date",value:e,onChange:a=>n(a.target.value),className:"pr-10 transition-all duration-300"}),d.jsx(ad,{className:"absolute right-3 top-2.5 text-primary",size:16})]})]})})]}),dne=({formState:t,revenueState:e,contacts:r,nextSteps:n,nextDueDate:a,onContactsChange:i,onNextStepsChange:s,onNextDueDateChange:o})=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(tne,{companyName:t.companyName,onCompanyNameChange:t.setCompanyName}),d.jsx("div",{className:"col-span-2",children:d.jsx(nne,{contacts:r,onContactsChange:i})}),d.jsx(lne,{status:t.status,likelihood:t.likelihood,type:t.type,industry:t.industry,companySize:t.companySize,website:t.website,background:t.background,onStatusChange:t.setStatus,onLikelihoodChange:t.setLikelihood,onTypeChange:t.setType,onIndustryChange:t.setIndustry,onCompanySizeChange:t.setCompanySize,onWebsiteChange:t.setWebsite,onBackgroundChange:t.setBackground}),d.jsx("div",{className:"col-span-2",children:d.jsx(cne,{...e,onProjectRevenueChange:e.setProjectRevenue,onAnnualRevenueChange:e.setAnnualRevenue,onProjectRevenueSignedOffChange:e.setProjectRevenueSignedOff,onProjectRevenueForecastChange:e.setProjectRevenueForecast,onAnnualRevenueSignedOffChange:e.setAnnualRevenueSignedOff,onAnnualRevenueForecastChange:e.setAnnualRevenueForecast})}),d.jsx(une,{nextSteps:n,nextDueDate:a,onNextStepsChange:s,onNextDueDateChange:o})]}),fne=({onCancel:t,onSubmit:e,isSubmitting:r,isEditing:n})=>{const a=yn(),i=()=>{t?t():a("/")};return d.jsxs("div",{className:"mt-6 border-t pt-6 flex gap-4",children:[d.jsx(J,{variant:"outline",className:"w-full py-6 text-lg font-medium",onClick:i,children:"Cancel"}),d.jsx(J,{className:"w-full py-6 text-lg font-medium transition-all duration-300 hover:scale-[1.01]",onClick:e,disabled:r,children:r?"Saving...":n?"Update Client Information":"Save Client Information"})]})},hne=({initialData:t,isEditing:e})=>{const[r,n]=b.useState(""),[a,i]=b.useState(""),[s,o]=b.useState(""),[l,c]=b.useState(""),[u,f]=b.useState(""),[h,p]=b.useState("business"),[v,m]=b.useState(""),[g,w]=b.useState(""),[y,S]=b.useState(""),[x,_]=b.useState(""),[j,C]=b.useState(!1),[E,A]=b.useState(!1),[P,T]=b.useState(!1),[N,D]=b.useState(""),[M,R]=b.useState("");return b.useEffect(()=>{var I,B,U,q,ie;t&&e&&(n(t.name||""),i(t.status||""),o(((I=t.likelihood)==null?void 0:I.toString())||""),c(((B=t.project_revenue)==null?void 0:B.toString())||""),f(((U=t.annual_revenue)==null?void 0:U.toString())||""),p(t.type||"business"),m(t.industry||""),w(t.company_size||""),S(t.website||""),_(t.background||""),A(t.project_revenue_signed_off||!1),T(t.project_revenue_forecast||!1),D(((q=t.annual_revenue_signed_off)==null?void 0:q.toString())||""),R(((ie=t.annual_revenue_forecast)==null?void 0:ie.toString())||""))},[t,e]),{companyName:r,setCompanyName:n,status:a,setStatus:i,likelihood:s,setLikelihood:o,projectRevenue:l,setProjectRevenue:c,revenue:u,setRevenue:f,type:h,setType:p,industry:v,setIndustry:m,companySize:g,setCompanySize:w,website:y,setWebsite:S,background:x,setBackground:_,isLoading:j,setIsLoading:C,projectRevenueSignedOff:E,setProjectRevenueSignedOff:A,projectRevenueForecast:P,setProjectRevenueForecast:T,annualRevenueSignedOff:N,setAnnualRevenueSignedOff:D,annualRevenueForecast:M,setAnnualRevenueForecast:R}};var Ee;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ee||(Ee={}));var om;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(om||(om={}));const Z=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),In=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},z=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),pne=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class $t extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return a(this),n}static assert(e){if(!(e instanceof $t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}$t.create=t=>new $t(t);const ms=(t,e)=>{let r;switch(t.code){case z.invalid_type:t.received===Z.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ee.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ee.joinValues(t.keys,", ")}`;break;case z.invalid_union:r="Invalid input";break;case z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ee.joinValues(t.options)}`;break;case z.invalid_enum_value:r=`Invalid enum value. Expected ${Ee.joinValues(t.options)}, received '${t.received}'`;break;case z.invalid_arguments:r="Invalid function arguments";break;case z.invalid_return_type:r="Invalid function return type";break;case z.invalid_date:r="Invalid date";break;case z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ee.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case z.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case z.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case z.custom:r="Invalid input";break;case z.invalid_intersection_types:r="Intersection results could not be merged";break;case z.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case z.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ee.assertNever(t)}return{message:r}};let wC=ms;function mne(t){wC=t}function Fu(){return wC}const Uu=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...a,path:i,message:o}},gne=[];function K(t,e){const r=Fu(),n=Uu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ms?void 0:ms].filter(a=>!!a)});t.common.issues.push(n)}class Ct{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return he;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return Ct.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return he;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:e.value,value:n}}}const he=Object.freeze({status:"aborted"}),vi=t=>({status:"dirty",value:t}),Mt=t=>({status:"valid",value:t}),lm=t=>t.status==="aborted",cm=t=>t.status==="dirty",pl=t=>t.status==="valid",ml=t=>typeof Promise<"u"&&t instanceof Promise;function zu(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _C(t,e,r,n,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(oe||(oe={}));var fo,ho;class Gr{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hx=(t,e)=>{if(pl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new $t(t.common.issues);return this._error=r,this._error}}};function pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,o)=>{var l,c;const{message:u}=t;return s.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:a}}class xe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return In(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:In(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ct,ctx:{common:e.parent.common,data:e.data,parsedType:In(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ml(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:In(e)},i=this._parseSync({data:e,path:a.path,parent:a});return Hx(a,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:In(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(ml(a)?a:Promise.resolve(a));return Hx(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=e(a),o=()=>i.addIssue({code:z.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Or({schema:this,typeName:de.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return zr.create(this,this._def)}nullable(){return ra.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jr.create(this,this._def)}promise(){return vs.create(this,this._def)}or(e){return bl.create([this,e],this._def)}and(e){return xl.create(this,e,this._def)}transform(e){return new Or({...pe(this._def),schema:this,typeName:de.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Ol({...pe(this._def),innerType:this,defaultValue:r,typeName:de.ZodDefault})}brand(){return new nv({typeName:de.ZodBranded,type:this,...pe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Cl({...pe(this._def),innerType:this,catchValue:r,typeName:de.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ic.create(this,e)}readonly(){return El.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vne=/^c[^\s-]{8,}$/i,yne=/^[0-9a-z]+$/,bne=/^[0-9A-HJKMNP-TV-Z]{26}$/,xne=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wne=/^[a-z0-9_-]{21}$/i,_ne=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Sne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jne="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jf;const One=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Cne=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ene=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,SC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Tne=new RegExp(`^${SC}$`);function jC(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Pne(t){return new RegExp(`^${jC(t)}$`)}function OC(t){let e=`${SC}T${jC(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Ane(t,e){return!!((e==="v4"||!e)&&One.test(t)||(e==="v6"||!e)&&Cne.test(t))}class vr extends xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const i=this._getOrReturnCtx(e);return K(i,{code:z.invalid_type,expected:Z.string,received:i.parsedType}),he}const n=new Ct;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),K(a,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),K(a,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,o=e.data.length<i.value;(s||o)&&(a=this._getOrReturnCtx(e,a),s?K(a,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&K(a,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Sne.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"email",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Jf||(Jf=new RegExp(jne,"u")),Jf.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"emoji",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")xne.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"uuid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")wne.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"nanoid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")vne.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"cuid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")yne.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"cuid2",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")bne.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"ulid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),K(a,{validation:"url",code:z.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"regex",code:z.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),K(a,{code:z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),K(a,{code:z.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),K(a,{code:z.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?OC(i).test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{code:z.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Tne.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{code:z.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Pne(i).test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{code:z.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?_ne.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"duration",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Ane(e.data,i.version)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"ip",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Ene.test(e.data)||(a=this._getOrReturnCtx(e,a),K(a,{validation:"base64",code:z.invalid_string,message:i.message}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:z.invalid_string,...oe.errToObj(n)})}_addCheck(e){return new vr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...oe.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...oe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...oe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...oe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...oe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...oe.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...oe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...oe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...oe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...oe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...oe.errToObj(r)})}nonempty(e){return this.min(1,oe.errToObj(e))}trim(){return new vr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vr.create=t=>{var e;return new vr({checks:[],typeName:de.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...pe(t)})};function kne(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(t.toFixed(a).replace(".","")),s=parseInt(e.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}class Jn extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const i=this._getOrReturnCtx(e);return K(i,{code:z.invalid_type,expected:Z.number,received:i.parsedType}),he}let n;const a=new Ct;for(const i of this._def.checks)i.kind==="int"?Ee.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),K(n,{code:z.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),K(n,{code:z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),K(n,{code:z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?kne(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),K(n,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),K(n,{code:z.not_finite,message:i.message}),a.dirty()):Ee.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,oe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,oe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,oe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,oe.toString(r))}setLimit(e,r,n,a){return new Jn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:oe.toString(a)}]})}_addCheck(e){return new Jn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:oe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:oe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:oe.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ee.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Jn.create=t=>new Jn({checks:[],typeName:de.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...pe(t)});class ea extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Z.bigint){const i=this._getOrReturnCtx(e);return K(i,{code:z.invalid_type,expected:Z.bigint,received:i.parsedType}),he}let n;const a=new Ct;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),K(n,{code:z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),K(n,{code:z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),K(n,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ee.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,oe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,oe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,oe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,oe.toString(r))}setLimit(e,r,n,a){return new ea({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:oe.toString(a)}]})}_addCheck(e){return new ea({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:oe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:oe.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ea.create=t=>{var e;return new ea({checks:[],typeName:de.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...pe(t)})};class gl extends xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const n=this._getOrReturnCtx(e);return K(n,{code:z.invalid_type,expected:Z.boolean,received:n.parsedType}),he}return Mt(e.data)}}gl.create=t=>new gl({typeName:de.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...pe(t)});class Ka extends xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const i=this._getOrReturnCtx(e);return K(i,{code:z.invalid_type,expected:Z.date,received:i.parsedType}),he}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return K(i,{code:z.invalid_date}),he}const n=new Ct;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),K(a,{code:z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),K(a,{code:z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ka({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:oe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:oe.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ka.create=t=>new Ka({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:de.ZodDate,...pe(t)});class qu extends xe{_parse(e){if(this._getType(e)!==Z.symbol){const n=this._getOrReturnCtx(e);return K(n,{code:z.invalid_type,expected:Z.symbol,received:n.parsedType}),he}return Mt(e.data)}}qu.create=t=>new qu({typeName:de.ZodSymbol,...pe(t)});class vl extends xe{_parse(e){if(this._getType(e)!==Z.undefined){const n=this._getOrReturnCtx(e);return K(n,{code:z.invalid_type,expected:Z.undefined,received:n.parsedType}),he}return Mt(e.data)}}vl.create=t=>new vl({typeName:de.ZodUndefined,...pe(t)});class yl extends xe{_parse(e){if(this._getType(e)!==Z.null){const n=this._getOrReturnCtx(e);return K(n,{code:z.invalid_type,expected:Z.null,received:n.parsedType}),he}return Mt(e.data)}}yl.create=t=>new yl({typeName:de.ZodNull,...pe(t)});class gs extends xe{constructor(){super(...arguments),this._any=!0}_parse(e){return Mt(e.data)}}gs.create=t=>new gs({typeName:de.ZodAny,...pe(t)});class La extends xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mt(e.data)}}La.create=t=>new La({typeName:de.ZodUnknown,...pe(t)});class vn extends xe{_parse(e){const r=this._getOrReturnCtx(e);return K(r,{code:z.invalid_type,expected:Z.never,received:r.parsedType}),he}}vn.create=t=>new vn({typeName:de.ZodNever,...pe(t)});class Wu extends xe{_parse(e){if(this._getType(e)!==Z.undefined){const n=this._getOrReturnCtx(e);return K(n,{code:z.invalid_type,expected:Z.void,received:n.parsedType}),he}return Mt(e.data)}}Wu.create=t=>new Wu({typeName:de.ZodVoid,...pe(t)});class jr extends xe{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==Z.array)return K(r,{code:z.invalid_type,expected:Z.array,received:r.parsedType}),he;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(s||o)&&(K(r,{code:s?z.too_big:z.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(K(r,{code:z.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(K(r,{code:z.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>a.type._parseAsync(new Gr(r,s,r.path,o)))).then(s=>Ct.mergeArray(n,s));const i=[...r.data].map((s,o)=>a.type._parseSync(new Gr(r,s,r.path,o)));return Ct.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new jr({...this._def,minLength:{value:e,message:oe.toString(r)}})}max(e,r){return new jr({...this._def,maxLength:{value:e,message:oe.toString(r)}})}length(e,r){return new jr({...this._def,exactLength:{value:e,message:oe.toString(r)}})}nonempty(e){return this.min(1,e)}}jr.create=(t,e)=>new jr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:de.ZodArray,...pe(e)});function hi(t){if(t instanceof Xe){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=zr.create(hi(n))}return new Xe({...t._def,shape:()=>e})}else return t instanceof jr?new jr({...t._def,type:hi(t.element)}):t instanceof zr?zr.create(hi(t.unwrap())):t instanceof ra?ra.create(hi(t.unwrap())):t instanceof Kr?Kr.create(t.items.map(e=>hi(e))):t}class Xe extends xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ee.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Z.object){const c=this._getOrReturnCtx(e);return K(c,{code:z.invalid_type,expected:Z.object,received:c.parsedType}),he}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof vn&&this._def.unknownKeys==="strip"))for(const c in a.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=i[c],f=a.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Gr(a,f,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof vn){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(c==="strict")o.length>0&&(K(a,{code:z.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=a.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Gr(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,h=await u.value;c.push({key:f,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Ct.mergeObjectSync(n,c)):Ct.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return oe.errToObj,new Xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,i,s,o;const l=(s=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=oe.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:de.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xe({...this._def,catchall:e})}pick(e){const r={};return Ee.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}omit(e){const r={};return Ee.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}deepPartial(){return hi(this)}partial(e){const r={};return Ee.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new Xe({...this._def,shape:()=>r})}required(e){const r={};return Ee.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof zr;)i=i._def.innerType;r[n]=i}}),new Xe({...this._def,shape:()=>r})}keyof(){return CC(Ee.objectKeys(this.shape))}}Xe.create=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strip",catchall:vn.create(),typeName:de.ZodObject,...pe(e)});Xe.strictCreate=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strict",catchall:vn.create(),typeName:de.ZodObject,...pe(e)});Xe.lazycreate=(t,e)=>new Xe({shape:t,unknownKeys:"strip",catchall:vn.create(),typeName:de.ZodObject,...pe(e)});class bl extends xe{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new $t(o.ctx.common.issues));return K(r,{code:z.invalid_union,unionErrors:s}),he}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(l=>new $t(l));return K(r,{code:z.invalid_union,unionErrors:o}),he}}get options(){return this._def.options}}bl.create=(t,e)=>new bl({options:t,typeName:de.ZodUnion,...pe(e)});const rn=t=>t instanceof _l?rn(t.schema):t instanceof Or?rn(t.innerType()):t instanceof Sl?[t.value]:t instanceof ta?t.options:t instanceof jl?Ee.objectValues(t.enum):t instanceof Ol?rn(t._def.innerType):t instanceof vl?[void 0]:t instanceof yl?[null]:t instanceof zr?[void 0,...rn(t.unwrap())]:t instanceof ra?[null,...rn(t.unwrap())]:t instanceof nv||t instanceof El?rn(t.unwrap()):t instanceof Cl?rn(t._def.innerType):[];class lf extends xe{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return K(r,{code:z.invalid_type,expected:Z.object,received:r.parsedType}),he;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(K(r,{code:z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const i of r){const s=rn(i.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,i)}}return new lf({typeName:de.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...pe(n)})}}function um(t,e){const r=In(t),n=In(e);if(t===e)return{valid:!0,data:t};if(r===Z.object&&n===Z.object){const a=Ee.objectKeys(e),i=Ee.objectKeys(t).filter(o=>a.indexOf(o)!==-1),s={...t,...e};for(const o of i){const l=um(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===Z.array&&n===Z.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],o=e[i],l=um(s,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===Z.date&&n===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xl extends xe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,s)=>{if(lm(i)||lm(s))return he;const o=um(i.value,s.value);return o.valid?((cm(i)||cm(s))&&r.dirty(),{status:r.value,value:o.data}):(K(n,{code:z.invalid_intersection_types}),he)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xl.create=(t,e,r)=>new xl({left:t,right:e,typeName:de.ZodIntersection,...pe(r)});class Kr extends xe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.array)return K(n,{code:z.invalid_type,expected:Z.array,received:n.parsedType}),he;if(n.data.length<this._def.items.length)return K(n,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&n.data.length>this._def.items.length&&(K(n,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Gr(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Ct.mergeArray(r,s)):Ct.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Kr({...this._def,rest:e})}}Kr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kr({items:t,typeName:de.ZodTuple,rest:null,...pe(e)})};class wl extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.object)return K(n,{code:z.invalid_type,expected:Z.object,received:n.parsedType}),he;const a=[],i=this._def.keyType,s=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new Gr(n,o,n.path,o)),value:s._parse(new Gr(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Ct.mergeObjectAsync(r,a):Ct.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof xe?new wl({keyType:e,valueType:r,typeName:de.ZodRecord,...pe(n)}):new wl({keyType:vr.create(),valueType:e,typeName:de.ZodRecord,...pe(r)})}}class Hu extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.map)return K(n,{code:z.invalid_type,expected:Z.map,received:n.parsedType}),he;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:a._parse(new Gr(n,o,n.path,[c,"key"])),value:i._parse(new Gr(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return he;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return he;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}Hu.create=(t,e,r)=>new Hu({valueType:e,keyType:t,typeName:de.ZodMap,...pe(r)});class Ya extends xe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.set)return K(n,{code:z.invalid_type,expected:Z.set,received:n.parsedType}),he;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(K(n,{code:z.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(K(n,{code:z.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return he;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>i._parse(new Gr(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new Ya({...this._def,minSize:{value:e,message:oe.toString(r)}})}max(e,r){return new Ya({...this._def,maxSize:{value:e,message:oe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ya.create=(t,e)=>new Ya({valueType:t,minSize:null,maxSize:null,typeName:de.ZodSet,...pe(e)});class Ei extends xe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.function)return K(r,{code:z.invalid_type,expected:Z.function,received:r.parsedType}),he;function n(o,l){return Uu({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Fu(),ms].filter(c=>!!c),issueData:{code:z.invalid_arguments,argumentsError:l}})}function a(o,l){return Uu({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Fu(),ms].filter(c=>!!c),issueData:{code:z.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof vs){const o=this;return Mt(async function(...l){const c=new $t([]),u=await o._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(n(l,p)),c}),f=await Reflect.apply(s,this,u);return await o._def.returns._def.type.parseAsync(f,i).catch(p=>{throw c.addIssue(a(f,p)),c})})}else{const o=this;return Mt(function(...l){const c=o._def.args.safeParse(l,i);if(!c.success)throw new $t([n(l,c.error)]);const u=Reflect.apply(s,this,c.data),f=o._def.returns.safeParse(u,i);if(!f.success)throw new $t([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ei({...this._def,args:Kr.create(e).rest(La.create())})}returns(e){return new Ei({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Ei({args:e||Kr.create([]).rest(La.create()),returns:r||La.create(),typeName:de.ZodFunction,...pe(n)})}}class _l extends xe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}_l.create=(t,e)=>new _l({getter:t,typeName:de.ZodLazy,...pe(e)});class Sl extends xe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return K(r,{received:r.data,code:z.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:e.data}}get value(){return this._def.value}}Sl.create=(t,e)=>new Sl({value:t,typeName:de.ZodLiteral,...pe(e)});function CC(t,e){return new ta({values:t,typeName:de.ZodEnum,...pe(e)})}class ta extends xe{constructor(){super(...arguments),fo.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return K(r,{expected:Ee.joinValues(n),received:r.parsedType,code:z.invalid_type}),he}if(zu(this,fo)||_C(this,fo,new Set(this._def.values)),!zu(this,fo).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return K(r,{received:r.data,code:z.invalid_enum_value,options:n}),he}return Mt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ta.create(e,{...this._def,...r})}exclude(e,r=this._def){return ta.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}fo=new WeakMap;ta.create=CC;class jl extends xe{constructor(){super(...arguments),ho.set(this,void 0)}_parse(e){const r=Ee.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Z.string&&n.parsedType!==Z.number){const a=Ee.objectValues(r);return K(n,{expected:Ee.joinValues(a),received:n.parsedType,code:z.invalid_type}),he}if(zu(this,ho)||_C(this,ho,new Set(Ee.getValidEnumValues(this._def.values))),!zu(this,ho).has(e.data)){const a=Ee.objectValues(r);return K(n,{received:n.data,code:z.invalid_enum_value,options:a}),he}return Mt(e.data)}get enum(){return this._def.values}}ho=new WeakMap;jl.create=(t,e)=>new jl({values:t,typeName:de.ZodNativeEnum,...pe(e)});class vs extends xe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.promise&&r.common.async===!1)return K(r,{code:z.invalid_type,expected:Z.promise,received:r.parsedType}),he;const n=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return Mt(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}vs.create=(t,e)=>new vs({type:t,typeName:de.ZodPromise,...pe(e)});class Or extends xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===de.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{K(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return he;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?he:l.status==="dirty"||r.value==="dirty"?vi(l.value):l});{if(r.value==="aborted")return he;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?he:o.status==="dirty"||r.value==="dirty"?vi(o.value):o}}if(a.type==="refinement"){const s=o=>{const l=a.refinement(o,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?he:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?he:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pl(s))return s;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>pl(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:r.value,value:o})):s);Ee.assertNever(a)}}Or.create=(t,e,r)=>new Or({schema:t,typeName:de.ZodEffects,effect:e,...pe(r)});Or.createWithPreprocess=(t,e,r)=>new Or({schema:e,effect:{type:"preprocess",transform:t},typeName:de.ZodEffects,...pe(r)});class zr extends xe{_parse(e){return this._getType(e)===Z.undefined?Mt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zr.create=(t,e)=>new zr({innerType:t,typeName:de.ZodOptional,...pe(e)});class ra extends xe{_parse(e){return this._getType(e)===Z.null?Mt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ra.create=(t,e)=>new ra({innerType:t,typeName:de.ZodNullable,...pe(e)});class Ol extends xe{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ol.create=(t,e)=>new Ol({innerType:t,typeName:de.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pe(e)});class Cl extends xe{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ml(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $t(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $t(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Cl.create=(t,e)=>new Cl({innerType:t,typeName:de.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pe(e)});class Vu extends xe{_parse(e){if(this._getType(e)!==Z.nan){const n=this._getOrReturnCtx(e);return K(n,{code:z.invalid_type,expected:Z.nan,received:n.parsedType}),he}return{status:"valid",value:e.data}}}Vu.create=t=>new Vu({typeName:de.ZodNaN,...pe(t)});const Nne=Symbol("zod_brand");class nv extends xe{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ic extends xe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?he:i.status==="dirty"?(r.dirty(),vi(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?he:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new ic({in:e,out:r,typeName:de.ZodPipeline})}}class El extends xe{_parse(e){const r=this._def.innerType._parse(e),n=a=>(pl(a)&&(a.value=Object.freeze(a.value)),a);return ml(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}El.create=(t,e)=>new El({innerType:t,typeName:de.ZodReadonly,...pe(e)});function EC(t,e={},r){return t?gs.create().superRefine((n,a)=>{var i,s;if(!t(n)){const o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(s=(i=o.fatal)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:!0,c=typeof o=="string"?{message:o}:o;a.addIssue({code:"custom",...c,fatal:l})}}):gs.create()}const $ne={object:Xe.lazycreate};var de;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(de||(de={}));const Mne=(t,e={message:`Input not instance of ${t.name}`})=>EC(r=>r instanceof t,e),TC=vr.create,PC=Jn.create,Ine=Vu.create,Rne=ea.create,AC=gl.create,Dne=Ka.create,Lne=qu.create,Bne=vl.create,Fne=yl.create,Une=gs.create,zne=La.create,qne=vn.create,Wne=Wu.create,Hne=jr.create,Vne=Xe.create,Gne=Xe.strictCreate,Kne=bl.create,Yne=lf.create,Qne=xl.create,Zne=Kr.create,Xne=wl.create,Jne=Hu.create,eae=Ya.create,tae=Ei.create,rae=_l.create,nae=Sl.create,aae=ta.create,iae=jl.create,sae=vs.create,Vx=Or.create,oae=zr.create,lae=ra.create,cae=Or.createWithPreprocess,uae=ic.create,dae=()=>TC().optional(),fae=()=>PC().optional(),hae=()=>AC().optional(),pae={string:t=>vr.create({...t,coerce:!0}),number:t=>Jn.create({...t,coerce:!0}),boolean:t=>gl.create({...t,coerce:!0}),bigint:t=>ea.create({...t,coerce:!0}),date:t=>Ka.create({...t,coerce:!0})},mae=he;var Ar=Object.freeze({__proto__:null,defaultErrorMap:ms,setErrorMap:mne,getErrorMap:Fu,makeIssue:Uu,EMPTY_PATH:gne,addIssueToContext:K,ParseStatus:Ct,INVALID:he,DIRTY:vi,OK:Mt,isAborted:lm,isDirty:cm,isValid:pl,isAsync:ml,get util(){return Ee},get objectUtil(){return om},ZodParsedType:Z,getParsedType:In,ZodType:xe,datetimeRegex:OC,ZodString:vr,ZodNumber:Jn,ZodBigInt:ea,ZodBoolean:gl,ZodDate:Ka,ZodSymbol:qu,ZodUndefined:vl,ZodNull:yl,ZodAny:gs,ZodUnknown:La,ZodNever:vn,ZodVoid:Wu,ZodArray:jr,ZodObject:Xe,ZodUnion:bl,ZodDiscriminatedUnion:lf,ZodIntersection:xl,ZodTuple:Kr,ZodRecord:wl,ZodMap:Hu,ZodSet:Ya,ZodFunction:Ei,ZodLazy:_l,ZodLiteral:Sl,ZodEnum:ta,ZodNativeEnum:jl,ZodPromise:vs,ZodEffects:Or,ZodTransformer:Or,ZodOptional:zr,ZodNullable:ra,ZodDefault:Ol,ZodCatch:Cl,ZodNaN:Vu,BRAND:Nne,ZodBranded:nv,ZodPipeline:ic,ZodReadonly:El,custom:EC,Schema:xe,ZodSchema:xe,late:$ne,get ZodFirstPartyTypeKind(){return de},coerce:pae,any:Une,array:Hne,bigint:Rne,boolean:AC,date:Dne,discriminatedUnion:Yne,effect:Vx,enum:aae,function:tae,instanceof:Mne,intersection:Qne,lazy:rae,literal:nae,map:Jne,nan:Ine,nativeEnum:iae,never:qne,null:Fne,nullable:lae,number:PC,object:Vne,oboolean:hae,onumber:fae,optional:oae,ostring:dae,pipeline:uae,preprocess:cae,promise:sae,record:Xne,set:eae,strictObject:Gne,string:TC,symbol:Lne,transformer:Vx,tuple:Zne,undefined:Bne,union:Kne,unknown:zne,void:Wne,NEVER:mae,ZodIssueCode:z,quotelessJson:pne,ZodError:$t});function gae({schema:t,onSuccess:e,onError:r}){const[n,a]=b.useState({}),i=b.useCallback(f=>{const h={};return f.errors.forEach(p=>{const v=p.path.join(".");v&&(h[v]=p.message)}),h},[]),s=b.useCallback(f=>{try{const h=t.parse(f);return a({}),e==null||e(h),!0}catch(h){if(h instanceof $t){const p=i(h);a(p),r==null||r(p),$.warn("Form validation failed",{errors:p})}else $.error("Unexpected validation error",h);return!1}},[t,i,e,r]),o=b.useCallback((f,h)=>{try{return Ar.object({[f]:t}).parse({[f]:h}),a(v=>{const m={...v};return delete m[f],m}),!0}catch(p){if(p instanceof $t){const v=i(p);a(m=>({...m,[f]:v[Object.keys(v)[0]]||"Invalid value"}))}return!1}},[t,i]),l=b.useCallback(()=>{a({})},[]),c=b.useCallback(f=>{a(h=>{const p={...h};return delete p[f],p})},[]),u=b.useCallback((f,h)=>{a(p=>({...p,[f]:h}))},[]);return{errors:n,isValid:Object.keys(n).length===0,validate:s,validateField:o,clearErrors:l,clearFieldError:c,setCustomError:u}}const vae=Ar.object({name:Ar.string().min(1,"Company name is required"),type:Ar.string().optional(),industry:Ar.string().optional(),company_size:Ar.string().optional(),status:Ar.string().optional(),website:Ar.string().optional(),background:Ar.string().optional(),likelihood:Ar.number().optional().nullable()}),yae=()=>{const{validate:t,errors:e,isValid:r}=gae({schema:vae,onError:n=>{$.warn("Client form validation failed",{errors:n})}});return{validateForm:t,errors:e,isValid:r}},bae=t=>{const[e,r]=b.useState(!1),n=yn(),a=it();return{isSubmitting:e,setIsSubmitting:r,createClient:async c=>{const{data:u,error:f}=await ae.from("clients").insert({name:c.name,type:c.type||"prospect",industry:c.industry,contact_name:c.contact_name,contact_email:c.contact_email,contact_phone:c.contact_phone,company_size:c.company_size,website:c.website,notes:c.notes,status:c.status,background:c.background,project_revenue:c.project_revenue,annual_revenue:c.annual_revenue,project_revenue_signed_off:c.project_revenue_signed_off,project_revenue_forecast:c.project_revenue_forecast,annual_revenue_signed_off:c.annual_revenue_signed_off,annual_revenue_forecast:c.annual_revenue_forecast}).select().single();if(f)throw $.error("Error creating client:",f),new Error(f.message);return u},updateClient:async c=>{if(!t)return;const{error:u}=await ae.from("clients").update({name:c.name,type:c.type,industry:c.industry,contact_name:c.contact_name,contact_email:c.contact_email,contact_phone:c.contact_phone,company_size:c.company_size,website:c.website,notes:c.notes,status:c.status,background:c.background,project_revenue:c.project_revenue,annual_revenue:c.annual_revenue,project_revenue_signed_off:c.project_revenue_signed_off,project_revenue_forecast:c.project_revenue_forecast,annual_revenue_signed_off:c.annual_revenue_signed_off,annual_revenue_forecast:c.annual_revenue_forecast}).eq("id",t);if(u)throw $.error("Error updating client:",u),new Error(u.message)},createNextStep:async(c,u,f)=>{const{error:h}=await ae.from("client_next_steps").insert({client_id:c,notes:u,due_date:f,urgent:!1,category:"general"});if(h)throw $.error("Error creating next step:",h),new Error(h.message)},invalidateQueries:()=>{a.invalidateQueries({queryKey:["clients"]}),a.invalidateQueries({queryKey:["client"]}),a.invalidateQueries({queryKey:["unified-tasks"]})},navigate:n}},xae=({clientId:t,onSuccess:e})=>{const{validateForm:r}=yae(),{isSubmitting:n,setIsSubmitting:a,createClient:i,updateClient:s,createNextStep:o,invalidateQueries:l,navigate:c}=bae(t?parseInt(t):void 0);return{handleSubmit:async f=>{if($.info("Submitting form data:",f),!!r(f)){a(!0);try{if(t)await s(f),ne({title:"Success",description:"Client information updated successfully"});else{const h=await i(f);$.info("New client created:",h),h&&(await o(h.id,f.notes,f.next_due_date),l(),c(`/client/${h.id}`))}e&&e()}catch(h){$.error("Error submitting client:",h),ne({title:"Error",description:h.message||"Failed to save client information",variant:"destructive"})}finally{a(!1)}}},isSubmitting:n}},wae=t=>{var c,u;const[e,r]=b.useState({projectRevenue:((c=t==null?void 0:t.project_revenue)==null?void 0:c.toString())||"",annualRevenue:((u=t==null?void 0:t.annual_revenue)==null?void 0:u.toString())||"",projectRevenueSignedOff:(t==null?void 0:t.project_revenue_signed_off)||!1,projectRevenueForecast:(t==null?void 0:t.project_revenue_forecast)||!1,annualRevenueSignedOff:parseFloat(t==null?void 0:t.annual_revenue_signed_off)||0,annualRevenueForecast:parseFloat(t==null?void 0:t.annual_revenue_forecast)||0}),n=b.useCallback(f=>{r(h=>({...h,projectRevenue:f})),$.debug("Updated project revenue",{value:f})},[]),a=b.useCallback(f=>{r(h=>({...h,annualRevenue:f})),$.debug("Updated annual revenue",{value:f})},[]),i=b.useCallback(f=>{r(h=>({...h,projectRevenueSignedOff:f})),$.debug("Updated project revenue signed off",{value:f})},[]),s=b.useCallback(f=>{r(h=>({...h,projectRevenueForecast:f})),$.debug("Updated project revenue forecast",{value:f})},[]),o=b.useCallback(f=>{r(h=>({...h,annualRevenueSignedOff:f})),$.debug("Updated annual revenue signed off",{value:f})},[]),l=b.useCallback(f=>{r(h=>({...h,annualRevenueForecast:f})),$.debug("Updated annual revenue forecast",{value:f})},[]);return{...e,setProjectRevenue:n,setAnnualRevenue:a,setProjectRevenueSignedOff:i,setProjectRevenueForecast:s,setAnnualRevenueSignedOff:o,setAnnualRevenueForecast:l}},kC=({contacts:t,nextSteps:e,nextDueDate:r,onContactsChange:n,onNextStepsChange:a,onNextDueDateChange:i,initialData:s,onSave:o,isEditing:l=!1,onCancel:c,onClientAdded:u})=>{var g;const f=hne({initialData:s,isEditing:l}),h=wae(s),{handleSubmit:p,isSubmitting:v}=xae({clientId:(g=s==null?void 0:s.id)==null?void 0:g.toString(),onSuccess:()=>{l&&o?o(f):!l&&u&&u()}}),m=async w=>{w.preventDefault();const y={name:f.companyName,type:f.type,industry:f.industry,company_size:f.companySize,status:f.status,annual_revenue:h.annualRevenue?parseFloat(h.annualRevenue):null,project_revenue:h.projectRevenue?parseFloat(h.projectRevenue):null,website:f.website,notes:e,background:f.background,likelihood:Number(f.likelihood)||null,next_due_date:r||null,project_revenue_signed_off:!!h.projectRevenueSignedOff,project_revenue_forecast:!!h.projectRevenueForecast,annual_revenue_signed_off:parseFloat(h.annualRevenueSignedOff.toString())||0,annual_revenue_forecast:parseFloat(h.annualRevenueForecast.toString())||0};await p(y)};return d.jsx("div",{className:"container max-w-4xl mx-auto px-4 py-8",children:d.jsxs(ot,{className:"transition-all duration-300 hover:shadow-lg",children:[d.jsx(yr,{children:d.jsx(br,{children:l?"Edit Client Information":"New Client Information"})}),d.jsxs(xr,{className:"space-y-4",children:[d.jsx(dne,{formState:f,revenueState:h,contacts:t,nextSteps:e,nextDueDate:r,onContactsChange:n,onNextStepsChange:a,onNextDueDateChange:i}),d.jsx(fne,{onCancel:c,onSubmit:m,isSubmitting:v,isEditing:l})]})]})})},_ae=({variant:t="skeleton",text:e="Loading...",height:r="24px",width:n="100%",count:a=1,className:i="",isLoading:s=!0,children:o})=>{if(!s)return d.jsx(d.Fragment,{children:o});const l=()=>Array.from({length:a}).map((c,u)=>d.jsx(Br,{style:{height:r,width:n},className:`mb-2 ${i}`},u));switch(t){case"spinner":return d.jsxs("div",{className:`flex flex-col items-center justify-center py-4 ${i}`,children:[d.jsx(Eo,{className:"h-8 w-8 animate-spin text-primary mb-2"}),e&&d.jsx("p",{className:"text-sm text-muted-foreground",children:e})]});case"text":return d.jsx("div",{className:`flex items-center justify-center py-4 ${i}`,children:d.jsx("p",{className:"text-sm text-muted-foreground",children:e})});case"skeleton":default:return d.jsx("div",{className:"space-y-2",children:l()})}},Sae=()=>d.jsx(_ae,{variant:"spinner",text:"Loading client details...",className:"h-screen"}),eh=({message:t="Error loading client details"})=>{const e=yn();return d.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:d.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg border border-red-200 bg-red-50 text-red-900 m-4",children:[d.jsx(S1,{className:"h-12 w-12 text-red-500 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-sm text-red-700 mb-4",children:t}),d.jsx(J,{onClick:()=>e("/"),variant:"outline",className:"flex items-center gap-2",children:"Back to Home"})]})})},jae=t=>rr({queryKey:Fe.clients.detail(t),queryFn:async()=>{$.info("Fetching client data for ID:",t);const{data:e,error:r}=await ae.from("clients").select("*").eq("id",t).maybeSingle();if(r)throw r;if(!e)throw new Error("Client not found");return $.info("Received client data:",e),e}}),Oae=()=>{const{id:t}=nE(),[e,r]=b.useState([]),[n,a]=b.useState(""),[i,s]=b.useState("");if(t==="new")return d.jsxs(d.Fragment,{children:[d.jsx(pr,{}),d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Add New Client"}),d.jsx(kC,{contacts:e,nextSteps:n,nextDueDate:i,onContactsChange:r,onNextStepsChange:a,onNextDueDateChange:s})]})]});const o=parseInt(t||"",10);if(isNaN(o))return d.jsx(eh,{message:"Invalid client ID"});const{data:l,isLoading:c,error:u}=jae(o);if(c)return d.jsxs(d.Fragment,{children:[d.jsx(pr,{}),d.jsx(Sae,{})]});if(u)return d.jsxs(d.Fragment,{children:[d.jsx(pr,{}),d.jsx(eh,{message:u.message})]});if(!l)return d.jsxs(d.Fragment,{children:[d.jsx(pr,{}),d.jsx(eh,{message:"Client not found"})]});const f=l.additional_contacts?Array.isArray(l.additional_contacts)?l.additional_contacts.map(h=>({firstName:h.firstName||"",lastName:h.lastName||"",title:h.title||"",email:h.email||"",address:h.address||"",phone:h.phone||""})):[]:[];return d.jsxs(d.Fragment,{children:[d.jsx(pr,{}),d.jsx(ene,{client:l,isEditing:!1,parsedAdditionalContacts:f})]})};var av="Checkbox",[Cae,sie]=Qa(av),[Eae,Tae]=Cae(av),NC=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:l="on",onCheckedChange:c,form:u,...f}=t,[h,p]=b.useState(null),v=rt(e,x=>p(x)),m=b.useRef(!1),g=h?u||!!h.closest("form"):!0,[w=!1,y]=jo({prop:a,defaultProp:i,onChange:c}),S=b.useRef(w);return b.useEffect(()=>{const x=h==null?void 0:h.form;if(x){const _=()=>y(S.current);return x.addEventListener("reset",_),()=>x.removeEventListener("reset",_)}},[h,y]),d.jsxs(Eae,{scope:r,state:w,disabled:o,children:[d.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":Zn(w)?"mixed":w,"aria-required":s,"data-state":IC(w),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onKeyDown:we(t.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:we(t.onClick,x=>{y(_=>Zn(_)?!0:!_),g&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),g&&d.jsx(Pae,{control:h,bubbles:!m.current,name:n,value:l,checked:w,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Zn(i)?!1:i})]})});NC.displayName=av;var $C="CheckboxIndicator",MC=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=Tae($C,r);return d.jsx(ys,{present:n||Zn(i.state)||i.state===!0,children:d.jsx(ke.span,{"data-state":IC(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});MC.displayName=$C;var Pae=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:a,...i}=t,s=b.useRef(null),o=km(r),l=lw(e);b.useEffect(()=>{const u=s.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&p){const v=new Event("click",{bubbles:n});u.indeterminate=Zn(r),p.call(u,Zn(r)?!1:r),u.dispatchEvent(v)}},[o,r,n]);const c=b.useRef(Zn(r)?!1:r);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??c.current,...i,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zn(t){return t==="indeterminate"}function IC(t){return Zn(t)?"indeterminate":t?"checked":"unchecked"}var RC=NC,Aae=MC;const DC=b.forwardRef(({className:t,...e},r)=>d.jsx(RC,{ref:r,className:G("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(Aae,{className:G("flex items-center justify-center text-current"),children:d.jsx(id,{className:"h-4 w-4"})})}));DC.displayName=RC.displayName;const Gx="simple_tasks",kae=()=>{const[t,e]=b.useState([]);return b.useEffect(()=>{const s=localStorage.getItem(Gx);if(s)try{e(JSON.parse(s))}catch{e([])}},[]),b.useEffect(()=>{localStorage.setItem(Gx,JSON.stringify(t))},[t]),{tasks:t,addTask:s=>{const o={id:crypto.randomUUID(),title:s,completed:!1};e(l=>[...l,o])},toggleTask:s=>{e(o=>o.map(l=>l.id===s?{...l,completed:!l.completed}:l))},deleteTask:s=>{e(o=>o.filter(l=>l.id!==s))},clearCompleted:()=>{e(s=>s.filter(o=>!o.completed))}}},Nae=()=>{const{tasks:t,addTask:e,toggleTask:r,deleteTask:n,clearCompleted:a}=kae(),[i,s]=b.useState(""),o=l=>{l.preventDefault(),i.trim()&&(e(i.trim()),s(""))};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("form",{onSubmit:o,className:"flex space-x-2",children:[d.jsx(Ce,{value:i,onChange:l=>s(l.target.value),placeholder:"New task"}),d.jsx(J,{type:"submit",children:"Add"})]}),d.jsx("ul",{className:"space-y-2",children:t.map(l=>d.jsxs("li",{className:"flex items-center space-x-2",children:[d.jsx(DC,{checked:l.completed,onCheckedChange:()=>r(l.id)}),d.jsx("span",{className:l.completed?"line-through text-muted-foreground":"",children:l.title}),d.jsx(J,{variant:"ghost",size:"sm",onClick:()=>n(l.id),children:"Delete"})]},l.id))}),t.some(l=>l.completed)&&d.jsx(J,{variant:"secondary",size:"sm",onClick:a,children:"Clear Completed"})]})},$ae=()=>d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Simple Task System"}),d.jsx(Nae,{})]}),LC={theme:"light"},Mae=b.createContext(LC);function Iae({children:t,...e}){return d.jsx(Mae.Provider,{...e,value:LC,children:t})}const en=({children:t})=>{const{isAuthenticated:e,isLoading:r}=t1();return r?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):e?d.jsx(d.Fragment,{children:t}):d.jsx(aE,{to:"/login",replace:!0})};class Rae extends b.Component{constructor(r){super(r);oc(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){$.error("Error caught by ErrorBoundary:",r),$.error("Component stack:",n.componentStack)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:d.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg border border-red-200 bg-red-50 text-red-900 m-4",children:[d.jsx(S1,{className:"h-12 w-12 text-red-500 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-sm text-red-700 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),d.jsxs(J,{onClick:this.handleReset,variant:"outline",className:"flex items-center gap-2",children:[d.jsx(Ua,{className:"h-4 w-4"}),"Try Again"]})]}):this.props.children}}const Dae=new wE({defaultOptions:{queries:{staleTime:0,gcTime:1e3*60,retry:1,refetchOnWindowFocus:!0,refetchOnMount:!0}}});function Lae(){return d.jsx(Rae,{children:d.jsx(CE,{client:Dae,children:d.jsx(Iae,{children:d.jsx(iE,{children:d.jsxs(sE,{children:[d.jsx(Tr,{path:"/login",element:d.jsx(Lk,{})}),d.jsx(Tr,{path:"/",element:d.jsx(en,{children:d.jsx($te,{})})}),d.jsx(Tr,{path:"/marketing",element:d.jsx(en,{children:d.jsx(w$,{})})}),d.jsx(Tr,{path:"/partnerships",element:d.jsx(en,{children:d.jsx(_$,{})})}),d.jsx(Tr,{path:"/product-development",element:d.jsx(en,{children:d.jsx(S$,{})})}),d.jsx(Tr,{path:"/ai-news",element:d.jsx(en,{children:d.jsx(Ore,{})})}),d.jsx(Tr,{path:"/simple-tasks",element:d.jsx(en,{children:d.jsx($ae,{})})}),d.jsx(Tr,{path:"/business-admin",element:d.jsx(en,{children:d.jsx(Mte,{})})}),d.jsx(Tr,{path:"/client/:id",element:d.jsx(en,{children:d.jsx(Oae,{})})}),d.jsx(Tr,{path:"/client/new",element:d.jsx(en,{children:d.jsx(kC,{contacts:[],nextSteps:"",nextDueDate:"",onContactsChange:()=>{},onNextStepsChange:()=>{},onNextDueDateChange:()=>{}})})})]})})})})})}hw(document.getElementById("root")).render(d.jsx(Lae,{}));
//# sourceMappingURL=index-L5g8NezP.js.map
